(self.webpackChunkwork_challenge=self.webpackChunkwork_challenge||[]).push([[179],{2011:(Xe,Ee,k)=>{"use strict";k.d(Ee,{hO:()=>Ue,xv:()=>se,Dh:()=>fe,GT:()=>pe,cc:()=>Te,on:()=>j,pX:()=>te});var u=k(5e3),Q=k(127),R=k(5813);Xe=k.hmd(Xe);const ae=["ngOnDestroy"],te=(ee,ge,Ce,le={})=>new Proxy(ee,{get:(Me,Ie)=>Ce.runOutsideAngular(()=>{var qe;if(ee[Ie])return(null===(qe=null==le?void 0:le.spy)||void 0===qe?void 0:qe.get)&&le.spy.get(Ie,ee[Ie]),ee[Ie];if(ae.indexOf(Ie)>-1)return()=>{};const Ze=ge.toPromise().then(re=>{const W=re&&re[Ie];return"function"==typeof W?W.bind(re):W&&W.then?W.then(ne=>Ce.run(()=>ne)):Ce.run(()=>W)});return new Proxy(()=>{},{get:(re,W)=>Ze[W],apply:(re,W,ne)=>Ze.then(me=>{var ie;const Oe=me&&me(...ne);return(null===(ie=null==le?void 0:le.spy)||void 0===ie?void 0:ie.apply)&&le.spy.apply(Ie,ne,Oe),Oe})})})}),pe=(ee,ge)=>{ge.forEach(Ce=>{Object.getOwnPropertyNames(Ce.prototype||Ce).forEach(le=>{Object.defineProperty(ee.prototype,le,Object.getOwnPropertyDescriptor(Ce.prototype||Ce,le))})})};class oe{constructor(ge){return ge}}const fe=new u.OlP("angularfire2.app.options"),se=new u.OlP("angularfire2.app.name");function j(ee,ge,Ce){const Me="object"==typeof Ce&&Ce||{};Me.name=Me.name||"string"==typeof Ce&&Ce||"[DEFAULT]";const qe=Q.Z.apps.filter(Ze=>Ze&&Ze.name===Me.name)[0]||ge.runOutsideAngular(()=>Q.Z.initializeApp(ee,Me));try{JSON.stringify(ee)!==JSON.stringify(qe.options)&&U("error",`${qe.name} Firebase App already initialized with different options${Xe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ze){}return new oe(qe)}const U=(ee,...ge)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[ee](...ge)},J={provide:oe,useFactory:j,deps:[fe,u.R0b,[new u.FiY,se]]};let Ue=(()=>{class ee{constructor(Ce){Q.Z.registerVersion("angularfire",R.q4.full,"core"),Q.Z.registerVersion("angularfire",R.q4.full,"app-compat"),Q.Z.registerVersion("angular",u.q4F.full,Ce.toString())}static initializeApp(Ce,le){return{ngModule:ee,providers:[{provide:fe,useValue:Ce},{provide:se,useValue:le}]}}}return ee.\u0275fac=function(Ce){return new(Ce||ee)(u.LFG(u.Lbi))},ee.\u0275mod=u.oAB({type:ee}),ee.\u0275inj=u.cJS({providers:[J]}),ee})();function Te(ee,ge,Ce,le,Me){const[,Ie,qe]=globalThis.\u0275AngularfireInstanceCache.find(Ze=>Ze[0]===ee)||[];if(Ie)return function xe(ee,ge){try{return ee.toString()===ge.toString()}catch(Ce){return ee===ge}}(Me,qe)||(z("error",`${ge} was already initialized on the ${Ce} Firebase App with different settings.${Le?" You may need to reload as Firebase is not HMR aware.":""}`),z("warn",{is:Me,was:qe})),Ie;{const Ze=le();return globalThis.\u0275AngularfireInstanceCache.push([ee,Ze,Me]),Ze}}const Le=!!Xe.hot,z=(ee,...ge)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[ee](...ge)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Xe,Ee,k)=>{"use strict";k.d(Ee,{q4:()=>Vo,iC:()=>gs,HU:()=>Eu,vb:()=>Xc,JM:()=>Jc});var u=k(5e3),Q=k(5867),R=k(5861),ae=k(9681),te=k(2090),pe=k(4859),oe=k(1877),fe=k(2940);const se="@firebase/installations",j="0.5.5",J=`w:${j}`,Ue="FIS_v2",ge=new te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ce(C){return C instanceof te.ZR&&C.code.includes("request-failed")}function le({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Me(C){return{token:C.token,requestStatus:2,expiresIn:me(C.expiresIn),creationTime:Date.now()}}function Ie(C,I){return qe.apply(this,arguments)}function qe(){return(qe=(0,R.Z)(function*(C,I){const F=(yield I.json()).error;return ge.create("request-failed",{requestName:C,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function Ze({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function re(C,{refreshToken:I}){const x=Ze(C);return x.append("Authorization",function ie(C){return`${Ue} ${C}`}(I)),x}function W(C){return ne.apply(this,arguments)}function ne(){return(ne=(0,R.Z)(function*(C){const I=yield C();return I.status>=500&&I.status<600?C():I})).apply(this,arguments)}function me(C){return Number(C.replace("s","000"))}function Oe(C,I){return ce.apply(this,arguments)}function ce(){return(ce=(0,R.Z)(function*(C,{fid:I}){const x=le(C),Y={method:"POST",headers:Ze(C),body:JSON.stringify({fid:I,authVersion:Ue,appId:C.appId,sdkVersion:J})},De=yield W(()=>fetch(x,Y));if(De.ok){const Be=yield De.json();return{fid:Be.fid||I,registrationStatus:2,refreshToken:Be.refreshToken,authToken:Me(Be.authToken)}}throw yield Ie("Create Installation",De)})).apply(this,arguments)}function pt(C){return new Promise(I=>{setTimeout(I,C)})}const Dn=/^[cdef][\w-]{21}$/;function st(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const x=function On(C){return function Lt(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Dn.test(x)?x:""}catch(C){return""}}function zt(C){return`${C.appName}!${C.appId}`}const cr=new Map;function Ht(C,I){const x=zt(C);At(x,I),function Ji(C,I){const x=function As(){return!Qn&&"BroadcastChannel"in self&&(Qn=new BroadcastChannel("[Firebase] FID Change"),Qn.onmessage=C=>{At(C.data.key,C.data.fid)}),Qn}();x&&x.postMessage({key:C,fid:I}),function Er(){0===cr.size&&Qn&&(Qn.close(),Qn=null)}()}(x,I)}function At(C,I){const x=cr.get(C);if(x)for(const F of x)F(I)}let Qn=null;const si="firebase-installations-store";let Pi=null;function ut(){return Pi||(Pi=(0,fe.openDb)("firebase-installations-database",1,C=>{0===C.oldVersion&&C.createObjectStore(si)})),Pi}function jr(C,I){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,R.Z)(function*(C,I){const x=zt(C),G=(yield ut()).transaction(si,"readwrite"),Y=G.objectStore(si),De=yield Y.get(x);return yield Y.put(I,x),yield G.complete,(!De||De.fid!==I.fid)&&Ht(C,I.fid),I})).apply(this,arguments)}function _n(C){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,R.Z)(function*(C){const I=zt(C),F=(yield ut()).transaction(si,"readwrite");yield F.objectStore(si).delete(I),yield F.complete})).apply(this,arguments)}function ct(C,I){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,R.Z)(function*(C,I){const x=zt(C),G=(yield ut()).transaction(si,"readwrite"),Y=G.objectStore(si),De=yield Y.get(x),Be=I(De);return void 0===Be?yield Y.delete(x):yield Y.put(Be,x),yield G.complete,Be&&(!De||De.fid!==Be.fid)&&Ht(C,Be.fid),Be})).apply(this,arguments)}function It(C){return en.apply(this,arguments)}function en(){return(en=(0,R.Z)(function*(C){let I;const x=yield ct(C,F=>{const G=dr(F),Y=Tt(C,G);return I=Y.registrationPromise,Y.installationEntry});return""===x.fid?{installationEntry:yield I}:{installationEntry:x,registrationPromise:I}})).apply(this,arguments)}function dr(C){return na(C||{fid:st(),registrationStatus:0})}function Tt(C,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(ge.create("app-offline"))};const x={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},F=function Ye(C,I){return ot.apply(this,arguments)}(C,x);return{installationEntry:x,registrationPromise:F}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Ei(C)}:{installationEntry:I}}function ot(){return(ot=(0,R.Z)(function*(C,I){try{return jr(C,yield Oe(C,I))}catch(x){throw Ce(x)&&409===x.customData.serverCode?yield _n(C):yield jr(C,{fid:I.fid,registrationStatus:0}),x}})).apply(this,arguments)}function Ei(C){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,R.Z)(function*(C){let I=yield Nt(C);for(;1===I.registrationStatus;)yield pt(100),I=yield Nt(C);if(0===I.registrationStatus){const{installationEntry:x,registrationPromise:F}=yield It(C);return F||x}return I})).apply(this,arguments)}function Nt(C){return ct(C,I=>{if(!I)throw ge.create("installation-not-found");return na(I)})}function na(C){return function Hr(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function oi(C,I){return L.apply(this,arguments)}function L(){return(L=(0,R.Z)(function*({appConfig:C,platformLoggerProvider:I},x){const F=H(C,x),G=re(C,x),Y=I.getImmediate({optional:!0});Y&&G.append("x-firebase-client",Y.getPlatformInfoString());const Be={method:"POST",headers:G,body:JSON.stringify({installation:{sdkVersion:J}})},He=yield W(()=>fetch(F,Be));if(He.ok)return Me(yield He.json());throw yield Ie("Generate Auth Token",He)})).apply(this,arguments)}function H(C,{fid:I}){return`${le(C)}/${I}/authTokens:generate`}function $(C){return ve.apply(this,arguments)}function ve(){return(ve=(0,R.Z)(function*(C,I=!1){let x;const F=yield ct(C.appConfig,Y=>{if(!tn(Y))throw ge.create("not-registered");const De=Y.authToken;if(!I&&Zr(De))return Y;if(1===De.requestStatus)return x=X(C,I),Y;{if(!navigator.onLine)throw ge.create("app-offline");const Be=kn(Y);return x=Wt(C,Be),Be}});return x?yield x:F.authToken})).apply(this,arguments)}function X(C,I){return $e.apply(this,arguments)}function $e(){return($e=(0,R.Z)(function*(C,I){let x=yield lt(C.appConfig);for(;1===x.authToken.requestStatus;)yield pt(100),x=yield lt(C.appConfig);const F=x.authToken;return 0===F.requestStatus?$(C,I):F})).apply(this,arguments)}function lt(C){return ct(C,I=>{if(!tn(I))throw ge.create("not-registered");return function br(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Wt(C,I){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,R.Z)(function*(C,I){try{const x=yield oi(C,I),F=Object.assign(Object.assign({},I),{authToken:x});return yield jr(C.appConfig,F),x}catch(x){if(!Ce(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const F=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield jr(C.appConfig,F)}else yield _n(C.appConfig);throw x}})).apply(this,arguments)}function tn(C){return void 0!==C&&2===C.registrationStatus}function Zr(C){return 2===C.requestStatus&&!function bt(C){const I=Date.now();return I<C.creationTime||C.creationTime+C.expiresIn<I+36e5}(C)}function kn(C){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:I})}function ia(){return(ia=(0,R.Z)(function*(C){const I=C,{installationEntry:x,registrationPromise:F}=yield It(I.appConfig);return F?F.catch(console.error):$(I).catch(console.error),x.fid})).apply(this,arguments)}function sa(){return(sa=(0,R.Z)(function*(C,I=!1){const x=C;return yield Rn(x.appConfig),(yield $(x,I)).token})).apply(this,arguments)}function Rn(C){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,R.Z)(function*(C){const{registrationPromise:I}=yield It(C);I&&(yield I)})).apply(this,arguments)}function Io(C){return ge.create("missing-app-config-values",{valueName:C})}const qr="installations",wt=C=>{const I=C.getProvider("app").getImmediate(),x=function Jn(C){if(!C||!C.options)throw Io("App Configuration");if(!C.name)throw Io("App Name");const I=["projectId","apiKey","appId"];for(const x of I)if(!C.options[x])throw Io(x);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(I);return{app:I,appConfig:x,platformLoggerProvider:(0,ae._getProvider)(I,"platform-logger"),_delete:()=>Promise.resolve()}},Yt=C=>{const I=C.getProvider("app").getImmediate(),x=(0,ae._getProvider)(I,qr).getImmediate();return{getId:()=>function ra(C){return ia.apply(this,arguments)}(x),getToken:G=>function tu(C){return sa.apply(this,arguments)}(x,G)}};(function Ir(){(0,ae._registerComponent)(new pe.wA(qr,wt,"PUBLIC")),(0,ae._registerComponent)(new pe.wA("installations-internal",Yt,"PRIVATE"))})(),(0,ae.registerVersion)(se,j),(0,ae.registerVersion)(se,j,"esm2017");const ts="@firebase/remote-config",un=new te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ru{constructor(I,x,F,G){this.client=I,this.storage=x,this.storageCache=F,this.logger=G}isCachedDataFresh(I,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-x,G=F<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${G}.`),G}fetch(I){var x=this;return(0,R.Z)(function*(){const[F,G]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(G&&x.isCachedDataFresh(I.cacheMaxAgeMillis,F))return G;I.eTag=G&&G.eTag;const Y=yield x.client.fetch(I),De=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Y.status&&De.push(x.storage.setLastSuccessfulFetchResponse(Y)),yield Promise.all(De),Y})()}}function iu(C=navigator){return C.languages&&C.languages[0]||C.language}class An{constructor(I,x,F,G,Y,De){this.firebaseInstallations=I,this.sdkVersion=x,this.namespace=F,this.projectId=G,this.apiKey=Y,this.appId=De}fetch(I){var x=this;return(0,R.Z)(function*(){const[F,G]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),De=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Be={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},He={sdk_version:x.sdkVersion,app_instance_id:F,app_instance_id_token:G,app_id:x.appId,language_code:iu()},kt={method:"POST",headers:Be,body:JSON.stringify(He)},Bt=fetch(De,kt),bn=new Promise((_s,xr)=>{I.signal.addEventListener(()=>{const jo=new Error("The operation was aborted.");jo.name="AbortError",xr(jo)})});let mr;try{yield Promise.race([Bt,bn]),mr=yield Bt}catch(_s){let xr="fetch-client-network";throw"AbortError"===_s.name&&(xr="fetch-timeout"),un.create(xr,{originalErrorMessage:_s.message})}let on=mr.status;const ms=mr.headers.get("ETag")||void 0;let Zi,Sr;if(200===mr.status){let _s;try{_s=yield mr.json()}catch(xr){throw un.create("fetch-client-parse",{originalErrorMessage:xr.message})}Zi=_s.entries,Sr=_s.state}if("INSTANCE_STATE_UNSPECIFIED"===Sr?on=500:"NO_CHANGE"===Sr?on=304:("NO_TEMPLATE"===Sr||"EMPTY_CONFIG"===Sr)&&(Zi={}),304!==on&&200!==on)throw un.create("fetch-status",{httpStatus:on});return{status:on,eTag:ms,config:Zi}})()}}class rs{constructor(I,x){this.client=I,this.storage=x}fetch(I){var x=this;return(0,R.Z)(function*(){const F=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(I,F)})()}attemptFetch(I,{throttleEndTimeMillis:x,backoffCount:F}){var G=this;return(0,R.Z)(function*(){yield function Nc(C,I){return new Promise((x,F)=>{const G=Math.max(I-Date.now(),0),Y=setTimeout(x,G);C.addEventListener(()=>{clearTimeout(Y),F(un.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,x);try{const Y=yield G.client.fetch(I);return yield G.storage.deleteThrottleMetadata(),Y}catch(Y){if(!function Hp(C){if(!(C instanceof te.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}(Y))throw Y;const De={throttleEndTimeMillis:Date.now()+(0,te.$s)(F),backoffCount:F+1};return yield G.storage.setThrottleMetadata(De),G.attemptFetch(I,De)}})()}}class $p{constructor(I,x,F,G,Y){this.app=I,this._client=x,this._storageCache=F,this._storage=G,this._logger=Y,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function aa(C,I){const x=C.target.error||void 0;return un.create(I,{originalErrorMessage:x&&x.message})}const Ao="app_namespace_store";class Pc{constructor(I,x,F,G=function Gp(){return new Promise((C,I)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=F=>{I(aa(F,"storage-open"))},x.onsuccess=F=>{C(F.target.result)},x.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(Ao,{keyPath:"compositeKey"})}}catch(x){I(un.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=I,this.appName=x,this.namespace=F,this.openDbPromise=G}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var x=this;return(0,R.Z)(function*(){const F=yield x.openDbPromise;return new Promise((G,Y)=>{const Be=F.transaction([Ao],"readonly").objectStore(Ao),He=x.createCompositeKey(I);try{const kt=Be.get(He);kt.onerror=Bt=>{Y(aa(Bt,"storage-get"))},kt.onsuccess=Bt=>{const bn=Bt.target.result;G(bn?bn.value:void 0)}}catch(kt){Y(un.create("storage-get",{originalErrorMessage:kt&&kt.message}))}})})()}set(I,x){var F=this;return(0,R.Z)(function*(){const G=yield F.openDbPromise;return new Promise((Y,De)=>{const He=G.transaction([Ao],"readwrite").objectStore(Ao),kt=F.createCompositeKey(I);try{const Bt=He.put({compositeKey:kt,value:x});Bt.onerror=bn=>{De(aa(bn,"storage-set"))},Bt.onsuccess=()=>{Y()}}catch(Bt){De(un.create("storage-set",{originalErrorMessage:Bt&&Bt.message}))}})})()}delete(I){var x=this;return(0,R.Z)(function*(){const F=yield x.openDbPromise;return new Promise((G,Y)=>{const Be=F.transaction([Ao],"readwrite").objectStore(Ao),He=x.createCompositeKey(I);try{const kt=Be.delete(He);kt.onerror=Bt=>{Y(aa(Bt,"storage-delete"))},kt.onsuccess=()=>{G()}}catch(kt){Y(un.create("storage-delete",{originalErrorMessage:kt&&kt.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class So{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,R.Z)(function*(){const x=I.storage.getLastFetchStatus(),F=I.storage.getLastSuccessfulFetchTimestampMillis(),G=I.storage.getActiveConfig(),Y=yield x;Y&&(I.lastFetchStatus=Y);const De=yield F;De&&(I.lastSuccessfulFetchTimestampMillis=De);const Be=yield G;Be&&(I.activeConfig=Be)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function l_(){return ua.apply(this,arguments)}function ua(){return(ua=(0,R.Z)(function*(){if(!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(C){return!1}})).apply(this,arguments)}!function zp(){(0,ae._registerComponent)(new pe.wA("remote-config",function C(I,{instanceIdentifier:x}){const F=I.getProvider("app").getImmediate(),G=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw un.create("registration-window");if(!(0,te.hl)())throw un.create("indexed-db-unavailable");const{projectId:Y,apiKey:De,appId:Be}=F.options;if(!Y)throw un.create("registration-project-id");if(!De)throw un.create("registration-api-key");if(!Be)throw un.create("registration-app-id");const He=new Pc(Be,F.name,x=x||"firebase"),kt=new So(He),Bt=new oe.Yd(ts);Bt.logLevel=oe.in.ERROR;const bn=new An(G,ae.SDK_VERSION,x,Y,De,Be),mr=new rs(bn,He),on=new ru(mr,He,kt,Bt),ms=new $p(F,on,kt,He,Bt);return function $t(C){const I=(0,te.m9)(C);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(ms),ms},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(ts,"0.3.4"),(0,ae.registerVersion)(ts,"0.3.4","esm2017")}();const ks="/firebase-messaging-sw.js",li="/firebase-cloud-messaging-push-scope",no="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Mo="google.c.a.c_id",Fc="google.c.a.c_l",Wp="google.c.a.ts",ss="google.c.a.e";var os=(()=>{return(C=os||(os={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",os;var C})();function ci(C){const I=new Uint8Array(C);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Vc(C){const x=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(x),G=new Uint8Array(F.length);for(let Y=0;Y<F.length;++Y)G[Y]=F.charCodeAt(Y);return G}const hr="fcm_token_details_db",Uc="fcm_token_object_Store";function Bc(C){return su.apply(this,arguments)}function su(){return su=(0,R.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Y=>Y.name).includes(hr))return null;let I=null;return(yield(0,fe.openDb)(hr,5,function(){var F=(0,R.Z)(function*(G){var Y;if(G.oldVersion<2||!G.objectStoreNames.contains(Uc))return;const De=G.transaction.objectStore(Uc),Be=yield De.index("fcmSenderId").get(C);if(yield De.clear(),Be)if(2===G.oldVersion){const He=Be;if(!He.auth||!He.p256dh||!He.endpoint)return;I={token:He.fcmToken,createTime:null!==(Y=He.createTime)&&void 0!==Y?Y:Date.now(),subscriptionOptions:{auth:He.auth,p256dh:He.p256dh,endpoint:He.endpoint,swScope:He.swScope,vapidKey:"string"==typeof He.vapidKey?He.vapidKey:ci(He.vapidKey)}}}else if(3===G.oldVersion){const He=Be;I={token:He.fcmToken,createTime:He.createTime,subscriptionOptions:{auth:ci(He.auth),p256dh:ci(He.p256dh),endpoint:He.endpoint,swScope:He.swScope,vapidKey:ci(He.vapidKey)}}}else if(4===G.oldVersion){const He=Be;I={token:He.fcmToken,createTime:He.createTime,subscriptionOptions:{auth:ci(He.auth),p256dh:ci(He.p256dh),endpoint:He.endpoint,swScope:He.swScope,vapidKey:ci(He.vapidKey)}}}});return function(G){return F.apply(this,arguments)}}())).close(),yield(0,fe.deleteDb)(hr),yield(0,fe.deleteDb)("fcm_vapid_details_db"),yield(0,fe.deleteDb)("undefined"),ou(I)?I:null}),su.apply(this,arguments)}function ou(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:I}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const as="firebase-messaging-store";let il=null;function Kt(){return il||(il=(0,fe.openDb)("firebase-messaging-database",1,C=>{0===C.oldVersion&&C.createObjectStore(as)})),il}function la(C){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,R.Z)(function*(C){const I=$n(C),F=yield(yield Kt()).transaction(as).objectStore(as).get(I);if(F)return F;{const G=yield Bc(C.appConfig.senderId);if(G)return yield qt(C,G),G}})).apply(this,arguments)}function qt(C,I){return uu.apply(this,arguments)}function uu(){return(uu=(0,R.Z)(function*(C,I){const x=$n(C),G=(yield Kt()).transaction(as,"readwrite");return yield G.objectStore(as).put(I,x),yield G.complete,I})).apply(this,arguments)}function ca(C){return ro.apply(this,arguments)}function ro(){return(ro=(0,R.Z)(function*(C){const I=$n(C),F=(yield Kt()).transaction(as,"readwrite");yield F.objectStore(as).delete(I),yield F.complete})).apply(this,arguments)}function $n({appConfig:C}){return C.appId}const ln=new te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function us(C,I){return qn.apply(this,arguments)}function qn(){return(qn=(0,R.Z)(function*(C,I){const x=yield Fs(C),F=da(I),G={method:"POST",headers:x,body:JSON.stringify(F)};let Y;try{Y=yield(yield fetch(Ps(C.appConfig),G)).json()}catch(De){throw ln.create("token-subscribe-failed",{errorInfo:De})}if(Y.error)throw ln.create("token-subscribe-failed",{errorInfo:Y.error.message});if(!Y.token)throw ln.create("token-subscribe-no-token");return Y.token})).apply(this,arguments)}function Oo(C,I){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,R.Z)(function*(C,I){const x=yield Fs(C),F=da(I.subscriptionOptions),G={method:"PATCH",headers:x,body:JSON.stringify(F)};let Y;try{Y=yield(yield fetch(`${Ps(C.appConfig)}/${I.token}`,G)).json()}catch(De){throw ln.create("token-update-failed",{errorInfo:De})}if(Y.error)throw ln.create("token-update-failed",{errorInfo:Y.error.message});if(!Y.token)throw ln.create("token-update-no-token");return Y.token})).apply(this,arguments)}function sl(C,I){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,R.Z)(function*(C,I){const F={method:"DELETE",headers:yield Fs(C)};try{const Y=yield(yield fetch(`${Ps(C.appConfig)}/${I}`,F)).json();if(Y.error)throw ln.create("token-unsubscribe-failed",{errorInfo:Y.error.message})}catch(G){throw ln.create("token-unsubscribe-failed",{errorInfo:G})}})).apply(this,arguments)}function Ps({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function Fs(C){return at.apply(this,arguments)}function at(){return(at=(0,R.Z)(function*({appConfig:C,installations:I}){const x=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function da({p256dh:C,auth:I,endpoint:x,vapidKey:F}){const G={web:{endpoint:x,auth:I,p256dh:C}};return F!==no&&(G.web.applicationPubKey=F),G}const ha=6048e5;function jc(C){return fa.apply(this,arguments)}function fa(){return(fa=(0,R.Z)(function*(C){const I=yield cn(C.swRegistration,C.vapidKey),x={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:I.endpoint,auth:ci(I.getKey("auth")),p256dh:ci(I.getKey("p256dh"))},F=yield la(C.firebaseDependencies);if(F){if(ma(F.subscriptionOptions,x))return Date.now()>=F.createTime+ha?Ah(C,{token:F.token,createTime:Date.now(),subscriptionOptions:x}):F.token;try{yield sl(C.firebaseDependencies,F.token)}catch(G){console.warn(G)}return Dt(C.firebaseDependencies,x)}return Dt(C.firebaseDependencies,x)})).apply(this,arguments)}function ol(C){return pa.apply(this,arguments)}function pa(){return(pa=(0,R.Z)(function*(C){const I=yield la(C.firebaseDependencies);I&&(yield sl(C.firebaseDependencies,I.token),yield ca(C.firebaseDependencies));const x=yield C.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function Ah(C,I){return be.apply(this,arguments)}function be(){return(be=(0,R.Z)(function*(C,I){try{const x=yield Oo(C.firebaseDependencies,I),F=Object.assign(Object.assign({},I),{token:x,createTime:Date.now()});return yield qt(C.firebaseDependencies,F),x}catch(x){throw yield ol(C),x}})).apply(this,arguments)}function Dt(C,I){return ga.apply(this,arguments)}function ga(){return(ga=(0,R.Z)(function*(C,I){const F={token:yield us(C,I),createTime:Date.now(),subscriptionOptions:I};return yield qt(C,F),F.token})).apply(this,arguments)}function cn(C,I){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,R.Z)(function*(C,I){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Vc(I)})})).apply(this,arguments)}function ma(C,I){return I.vapidKey===C.vapidKey&&I.endpoint===C.endpoint&&I.auth===C.auth&&I.p256dh===C.p256dh}function Tr(C){const I={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function al(C,I){if(!I.notification)return;C.notification={};const x=I.notification.title;x&&(C.notification.title=x);const F=I.notification.body;F&&(C.notification.body=F);const G=I.notification.image;G&&(C.notification.image=G)}(I,C),function ul(C,I){!I.data||(C.data=I.data)}(I,C),function Hc(C,I){if(!I.fcmOptions)return;C.fcmOptions={};const x=I.fcmOptions.link;x&&(C.fcmOptions.link=x);const F=I.fcmOptions.analytics_label;F&&(C.fcmOptions.analyticsLabel=F)}(I,C),I}function Zc(C){return"object"==typeof C&&!!C&&Mo in C}function _a(C,I){const x=[];for(let F=0;F<C.length;F++)x.push(C.charAt(F)),F<I.length&&x.push(I.charAt(F));return x.join("")}function Fn(C){return ln.create("missing-app-config-values",{valueName:C})}_a("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),_a("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ci{constructor(I,x,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const G=function No(C){if(!C||!C.options)throw Fn("App Configuration Object");if(!C.name)throw Fn("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:x}=C;for(const F of I)if(!x[F])throw Fn(F);return{appName:C.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:G,installations:x,analyticsProvider:F}}_delete(){return Promise.resolve()}}function ll(C){return Li.apply(this,arguments)}function Li(){return(Li=(0,R.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(ks,{scope:li}),C.swRegistration.update().catch(()=>{})}catch(I){throw ln.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function ls(C,I){return ya.apply(this,arguments)}function ya(){return(ya=(0,R.Z)(function*(C,I){if(!I&&!C.swRegistration&&(yield ll(C)),I||!C.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw ln.create("invalid-sw-registration");C.swRegistration=I}})).apply(this,arguments)}function $c(C,I){return va.apply(this,arguments)}function va(){return(va=(0,R.Z)(function*(C,I){I?C.vapidKey=I:C.vapidKey||(C.vapidKey=no)})).apply(this,arguments)}function io(){return(io=(0,R.Z)(function*(C,I){if(!navigator)throw ln.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ln.create("permission-blocked");return yield $c(C,null==I?void 0:I.vapidKey),yield ls(C,null==I?void 0:I.serviceWorkerRegistration),jc(C)})).apply(this,arguments)}function cl(C,I,x){return wa.apply(this,arguments)}function wa(){return(wa=(0,R.Z)(function*(C,I,x){const F=dl(I);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:x[Mo],message_name:x[Fc],message_time:x[Wp],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function dl(C){switch(C){case os.NOTIFICATION_CLICKED:return"notification_open";case os.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function cu(){return(cu=(0,R.Z)(function*(C,I){const x=I.data;if(!x.isFirebaseMessaging)return;C.onMessageHandler&&x.messageType===os.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Tr(x)):C.onMessageHandler.next(Tr(x)));const F=x.data;Zc(F)&&"1"===F[ss]&&(yield cl(C,x.messageType,F))})).apply(this,arguments)}const so="@firebase/messaging",oo=C=>{const I=new Ci(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function Kp(C,I){return cu.apply(this,arguments)}(I,x)),I},Gc=C=>{const I=C.getProvider("messaging").getImmediate();return{getToken:F=>function qc(C,I){return io.apply(this,arguments)}(I,F)}};function ko(){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,R.Z)(function*(){try{yield(0,te.eu)()}catch(C){return!1}return"undefined"!=typeof window&&(0,te.hl)()&&(0,te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Sh(){(0,ae._registerComponent)(new pe.wA("messaging",oo,"PUBLIC")),(0,ae._registerComponent)(new pe.wA("messaging-internal",Gc,"PRIVATE")),(0,ae.registerVersion)(so,"0.9.8"),(0,ae.registerVersion)(so,"0.9.8","esm2017")}();const zc="analytics",fl="firebase_id",pl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",du="https://www.googletagmanager.com/gtag/js",zn=new oe.Yd("@firebase/analytics");function Oh(C){return Promise.all(C.map(I=>I.catch(x=>x)))}function hs(C,I){const x=document.createElement("script");x.src=`${du}?l=${C}&id=${I}`,x.async=!0,document.head.appendChild(x)}function Yp(C,I,x,F,G,Y){return ba.apply(this,arguments)}function ba(){return(ba=(0,R.Z)(function*(C,I,x,F,G,Y){const De=F[G];try{if(De)yield I[De];else{const He=(yield Oh(x)).find(kt=>kt.measurementId===G);He&&(yield I[He.appId])}}catch(Be){zn.error(Be)}C("config",G,Y)})).apply(this,arguments)}function Ca(C,I,x,F,G){return hu.apply(this,arguments)}function hu(){return(hu=(0,R.Z)(function*(C,I,x,F,G){try{let Y=[];if(G&&G.send_to){let De=G.send_to;Array.isArray(De)||(De=[De]);const Be=yield Oh(x);for(const He of De){const kt=Be.find(bn=>bn.measurementId===He),Bt=kt&&I[kt.appId];if(!Bt){Y=[];break}Y.push(Bt)}}0===Y.length&&(Y=Object.values(I)),yield Promise.all(Y),C("event",F,G||{})}catch(Y){zn.error(Y)}})).apply(this,arguments)}function vn(){const C=window.document.getElementsByTagName("script");for(const I of Object.values(C))if(I.src&&I.src.includes(du))return I;return null}const We=new te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ao=new class Ln{constructor(I={},x=1e3){this.throttleMetadata=I,this.intervalMillis=x}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,x){this.throttleMetadata[I]=x}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Wc(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function nn(C){return gl.apply(this,arguments)}function gl(){return(gl=(0,R.Z)(function*(C){var I;const{appId:x,apiKey:F}=C,G={method:"GET",headers:Wc(F)},Y=pl.replace("{app-id}",x),De=yield fetch(Y,G);if(200!==De.status&&304!==De.status){let Be="";try{const He=yield De.json();(null===(I=He.error)||void 0===I?void 0:I.message)&&(Be=He.error.message)}catch(He){}throw We.create("config-fetch-failed",{httpStatus:De.status,responseMessage:Be})}return De.json()})).apply(this,arguments)}function fs(C){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,R.Z)(function*(C,I=ao,x){const{appId:F,apiKey:G,measurementId:Y}=C.options;if(!F)throw We.create("no-app-id");if(!G){if(Y)return{measurementId:Y,appId:F};throw We.create("no-api-key")}const De=I.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Be=new _l;return setTimeout((0,R.Z)(function*(){Be.abort()}),void 0!==x?x:6e4),Ii({appId:F,apiKey:G,measurementId:Y},De,Be,I)})).apply(this,arguments)}function Ii(C,I,x){return gt.apply(this,arguments)}function gt(){return(gt=(0,R.Z)(function*(C,{throttleEndTimeMillis:I,backoffCount:x},F,G=ao){const{appId:Y,measurementId:De}=C;try{yield Kc(F,I)}catch(Be){if(De)return zn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${De} provided in the "measurementId" field in the local Firebase config. [${Be.message}]`),{appId:Y,measurementId:De};throw Be}try{const Be=yield nn(C);return G.deleteThrottleMetadata(Y),Be}catch(Be){if(!ml(Be)){if(G.deleteThrottleMetadata(Y),De)return zn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${De} provided in the "measurementId" field in the local Firebase config. [${Be.message}]`),{appId:Y,measurementId:De};throw Be}const He=503===Number(Be.customData.httpStatus)?(0,te.$s)(x,G.intervalMillis,30):(0,te.$s)(x,G.intervalMillis),kt={throttleEndTimeMillis:Date.now()+He,backoffCount:x+1};return G.setThrottleMetadata(Y,kt),zn.debug(`Calling attemptFetch again in ${He} millis`),Ii(C,kt,F,G)}})).apply(this,arguments)}function Kc(C,I){return new Promise((x,F)=>{const G=Math.max(I-Date.now(),0),Y=setTimeout(x,G);C.addEventListener(()=>{clearTimeout(Y),F(We.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function ml(C){if(!(C instanceof te.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}class _l{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function Ta(){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,R.Z)(function*(){if(!(0,te.hl)())return zn.warn(We.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,te.eu)()}catch(C){return zn.warn(We.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function Us(){return(Us=(0,R.Z)(function*(C,I,x,F,G,Y,De){var Be;const He=fs(C);He.then(on=>{x[on.measurementId]=on.appId,C.options.measurementId&&on.measurementId!==C.options.measurementId&&zn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${on.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(on=>zn.error(on)),I.push(He);const kt=Ta().then(on=>{if(on)return F.getId()}),[Bt,bn]=yield Promise.all([He,kt]);vn()||hs(Y,Bt.measurementId),G("js",new Date);const mr=null!==(Be=null==De?void 0:De.config)&&void 0!==Be?Be:{};return mr.origin="firebase",mr.update=!0,null!=bn&&(mr[fl]=bn),G("config",Bt.measurementId,mr),Bt.measurementId})).apply(this,arguments)}class fu{constructor(I){this.app=I}_delete(){return delete pr[this.app.options.appId],Promise.resolve()}}let pr={},yl=[];const Bs={};let Po,Ti,js="dataLayer",pu=!1;function Xn(C,I,x){!function di(){const C=[];if((0,te.ru)()&&C.push("This is a browser extension environment."),(0,te.zI)()||C.push("Cookies are not available."),C.length>0){const I=C.map((F,G)=>`(${G+1}) ${F}`).join(" "),x=We.create("invalid-analytics-context",{errorInfo:I});zn.warn(x.message)}}();const F=C.options.appId;if(!F)throw We.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw We.create("no-api-key");zn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=pr[F])throw We.create("already-exists",{id:F});if(!pu){!function Ro(C){let I=[];Array.isArray(window[C])?I=window[C]:window[C]=I}(js);const{wrappedGtag:Y,gtagCore:De}=function Qp(C,I,x,F,G){let Y=function(...De){window[F].push(arguments)};return window[G]&&"function"==typeof window[G]&&(Y=window[G]),window[G]=function Nh(C,I,x,F){function Y(){return(Y=(0,R.Z)(function*(De,Be,He){try{"event"===De?yield Ca(C,I,x,Be,He):"config"===De?yield Yp(C,I,x,F,Be,He):C("set",Be)}catch(kt){zn.error(kt)}})).apply(this,arguments)}return function G(De,Be,He){return Y.apply(this,arguments)}}(Y,C,I,x),{gtagCore:Y,wrappedGtag:window[G]}}(pr,yl,Bs,js,"gtag");Ti=Y,Po=De,pu=!0}return pr[F]=function uo(C,I,x,F,G,Y,De){return Us.apply(this,arguments)}(C,yl,Bs,I,Po,js,x),new fu(C)}function gu(){return(gu=(0,R.Z)(function*(C,I,x,F,G){if(G&&G.global)C("event",x,F);else{const Y=yield I;C("event",x,Object.assign(Object.assign({},F),{send_to:Y}))}})).apply(this,arguments)}function co(){return mu.apply(this,arguments)}function mu(){return(mu=(0,R.Z)(function*(){if((0,te.ru)()||!(0,te.zI)()||!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(C){return!1}})).apply(this,arguments)}const Rh="@firebase/analytics";!function Yc(){(0,ae._registerComponent)(new pe.wA(zc,(I,{options:x})=>Xn(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ae._registerComponent)(new pe.wA("analytics-internal",function C(I){try{const x=I.getProvider(zc).getImmediate();return{logEvent:(F,G,Y)=>function Dr(C,I,x,F){C=(0,te.m9)(C),function vl(C,I,x,F,G){return gu.apply(this,arguments)}(Ti,pr[C.app.options.appId],I,x,F).catch(G=>zn.error(G))}(x,F,G,Y)}}catch(x){throw We.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ae.registerVersion)(Rh,"0.7.5"),(0,ae.registerVersion)(Rh,"0.7.5","esm2017")}();var Ai=k(4408),fn=k(7565);const ho=new class wl extends fn.v{}(class Ph extends Ai.o{constructor(I,x){super(I,x),this.scheduler=I,this.work=x}schedule(I,x=0){return x>0?super.schedule(I,x):(this.delay=x,this.state=I,this.scheduler.flush(this),this)}execute(I,x){return x>0||this.closed?super.execute(I,x):this._execute(I,x)}requestAsyncId(I,x,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(I,x,F):I.flush(this)}});var El=k(4986),gr=k(8505),Wr=k(9468),bl=k(5363);const Vo=new u.GfV("7.2.0"),Hi="__angularfire_symbol__analyticsIsSupported",yu="__angularfire_symbol__remoteConfigIsSupported",Qc="__angularfire_symbol__messagingIsSupported";function Jc(C,I,x){if(I){if(1===I.length)return I[0];const Y=I.filter(De=>De.app===x);if(1===Y.length)return Y[0]}return x.container.getProvider(C).getImmediate({optional:!0})}globalThis[Hi]||(globalThis[Hi]=co().then(C=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=C)),globalThis[Qc]||(globalThis[Qc]=ko().then(C=>globalThis.__angularfire_symbol__messagingIsSupportedValue=C)),globalThis[yu]||(globalThis[yu]=l_().then(C=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=C));const Xc=(C,I)=>{const x=I?[I]:(0,Q.C6)(),F=[];return x.forEach(G=>{G.container.getProvider(C).instances.forEach(De=>{F.includes(De)||F.push(De)})}),F};function Wn(){}class Cl{constructor(I,x=ho){this.zone=I,this.delegate=x}now(){return this.delegate.now()}schedule(I,x,F){const G=this.zone;return this.delegate.schedule(function(De){G.runGuarded(()=>{I.apply(this,[De])})},x,F)}}class wu{constructor(I){this.zone=I,this.task=null}call(I,x){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wn,{},Wn,Wn)),x.pipe((0,gr.b)({next:F,complete:F,error:F})).subscribe(I).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Eu=(()=>{class C{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Cl(Zone.current)),this.insideAngular=x.run(()=>new Cl(Zone.current,El.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(x){return new(x||C)(u.LFG(u.R0b))},C.\u0275prov=u.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Uo(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function gs(C){return Uo(),function Bo(C){return function(x){return(x=x.lift(new wu(C.ngZone))).pipe((0,Wr.R)(C.outsideAngular),(0,bl.Q)(C.insideAngular))}}(Uo())(C)}},2090:(Xe,Ee,k)=>{"use strict";k.d(Ee,{BH:()=>Ue,LL:()=>ce,ZR:()=>Oe,zI:()=>ne,US:()=>pe,tV:()=>se,$s:()=>Nt,r3:()=>ki,Sg:()=>Te,ne:()=>Pi,vZ:()=>Qn,ZB:()=>U,pd:()=>Ss,m9:()=>oi,z$:()=>xe,jU:()=>ee,ru:()=>ge,d:()=>le,xb:()=>At,w1:()=>Me,hl:()=>re,uI:()=>Le,UG:()=>z,b$:()=>Ce,G6:()=>Ze,Mn:()=>Ie,xO:()=>Er,zd:()=>Ri,eu:()=>W});const ae=function(L){const H=[];let $=0;for(let ve=0;ve<L.length;ve++){let X=L.charCodeAt(ve);X<128?H[$++]=X:X<2048?(H[$++]=X>>6|192,H[$++]=63&X|128):55296==(64512&X)&&ve+1<L.length&&56320==(64512&L.charCodeAt(ve+1))?(X=65536+((1023&X)<<10)+(1023&L.charCodeAt(++ve)),H[$++]=X>>18|240,H[$++]=X>>12&63|128,H[$++]=X>>6&63|128,H[$++]=63&X|128):(H[$++]=X>>12|224,H[$++]=X>>6&63|128,H[$++]=63&X|128)}return H},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(L,H){if(!Array.isArray(L))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,ve=[];for(let X=0;X<L.length;X+=3){const $e=L[X],lt=X+1<L.length,Wt=lt?L[X+1]:0,Qt=X+2<L.length,tn=Qt?L[X+2]:0;let kn=(15&Wt)<<2|tn>>6,br=63&tn;Qt||(br=64,lt||(kn=64)),ve.push($[$e>>2],$[(3&$e)<<4|Wt>>4],$[kn],$[br])}return ve.join("")},encodeString(L,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(L):this.encodeByteArray(ae(L),H)},decodeString(L,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(L):function(L){const H=[];let $=0,ve=0;for(;$<L.length;){const X=L[$++];if(X<128)H[ve++]=String.fromCharCode(X);else if(X>191&&X<224){const $e=L[$++];H[ve++]=String.fromCharCode((31&X)<<6|63&$e)}else if(X>239&&X<365){const Qt=((7&X)<<18|(63&L[$++])<<12|(63&L[$++])<<6|63&L[$++])-65536;H[ve++]=String.fromCharCode(55296+(Qt>>10)),H[ve++]=String.fromCharCode(56320+(1023&Qt))}else{const $e=L[$++],lt=L[$++];H[ve++]=String.fromCharCode((15&X)<<12|(63&$e)<<6|63&lt)}}return H.join("")}(this.decodeStringToByteArray(L,H))},decodeStringToByteArray(L,H){this.init_();const $=H?this.charToByteMapWebSafe_:this.charToByteMap_,ve=[];for(let X=0;X<L.length;){const $e=$[L.charAt(X++)],Wt=X<L.length?$[L.charAt(X)]:0;++X;const tn=X<L.length?$[L.charAt(X)]:64;++X;const bt=X<L.length?$[L.charAt(X)]:64;if(++X,null==$e||null==Wt||null==tn||null==bt)throw Error();ve.push($e<<2|Wt>>4),64!==tn&&(ve.push(Wt<<4&240|tn>>2),64!==bt&&ve.push(tn<<6&192|bt))}return ve},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let L=0;L<this.ENCODED_VALS.length;L++)this.byteToCharMap_[L]=this.ENCODED_VALS.charAt(L),this.charToByteMap_[this.byteToCharMap_[L]]=L,this.byteToCharMapWebSafe_[L]=this.ENCODED_VALS_WEBSAFE.charAt(L),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[L]]=L,L>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(L)]=L,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(L)]=L)}}},fe=function(L){return function(L){const H=ae(L);return pe.encodeByteArray(H,!0)}(L).replace(/\./g,"")},se=function(L){try{return pe.decodeString(L,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function U(L,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===L&&(L={});break;case Array:L=[];break;default:return H}for(const $ in H)!H.hasOwnProperty($)||!J($)||(L[$]=U(L[$],H[$]));return L}function J(L){return"__proto__"!==L}class Ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,$)=>{this.resolve=H,this.reject=$})}wrapCallback(H){return($,ve)=>{$?this.reject($):this.resolve(ve),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H($):H($,ve))}}}function Te(L,H){if(L.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ve=H||"demo-project",X=L.iat||0,$e=L.sub||L.user_id;if(!$e)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const lt=Object.assign({iss:`https://securetoken.google.com/${ve}`,aud:ve,iat:X,exp:X+3600,auth_time:X,sub:$e,user_id:$e,firebase:{sign_in_provider:"custom",identities:{}}},L);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(lt)),""].join(".")}function xe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Le(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xe())}function z(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(L){return!1}}function ee(){return"object"==typeof self&&self.self===self}function ge(){const L="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof L&&void 0!==L.id}function Ce(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function le(){return xe().indexOf("Electron/")>=0}function Me(){const L=xe();return L.indexOf("MSIE ")>=0||L.indexOf("Trident/")>=0}function Ie(){return xe().indexOf("MSAppHost/")>=0}function Ze(){return!z()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function re(){return"object"==typeof indexedDB}function W(){return new Promise((L,H)=>{try{let $=!0;const ve="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(ve);X.onsuccess=()=>{X.result.close(),$||self.indexedDB.deleteDatabase(ve),L(!0)},X.onupgradeneeded=()=>{$=!1},X.onerror=()=>{var $e;H((null===($e=X.error)||void 0===$e?void 0:$e.message)||"")}}catch($){H($)}})}function ne(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Oe extends Error{constructor(H,$,ve){super($),this.code=H,this.customData=ve,this.name="FirebaseError",Object.setPrototypeOf(this,Oe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ce.prototype.create)}}class ce{constructor(H,$,ve){this.service=H,this.serviceName=$,this.errors=ve}create(H,...$){const ve=$[0]||{},X=`${this.service}/${H}`,$e=this.errors[H],lt=$e?function pt(L,H){return L.replace(Lt,($,ve)=>{const X=H[ve];return null!=X?String(X):`<${ve}?>`})}($e,ve):"Error";return new Oe(X,`${this.serviceName}: ${lt} (${X}).`,ve)}}const Lt=/\{\$([^}]+)}/g;function ki(L,H){return Object.prototype.hasOwnProperty.call(L,H)}function At(L){for(const H in L)if(Object.prototype.hasOwnProperty.call(L,H))return!1;return!0}function Qn(L,H){if(L===H)return!0;const $=Object.keys(L),ve=Object.keys(H);for(const X of $){if(!ve.includes(X))return!1;const $e=L[X],lt=H[X];if(As($e)&&As(lt)){if(!Qn($e,lt))return!1}else if($e!==lt)return!1}for(const X of ve)if(!$.includes(X))return!1;return!0}function As(L){return null!==L&&"object"==typeof L}function Er(L){const H=[];for(const[$,ve]of Object.entries(L))Array.isArray(ve)?ve.forEach(X=>{H.push(encodeURIComponent($)+"="+encodeURIComponent(X))}):H.push(encodeURIComponent($)+"="+encodeURIComponent(ve));return H.length?"&"+H.join("&"):""}function Ri(L){const H={};return L.replace(/^\?/,"").split("&").forEach(ve=>{if(ve){const[X,$e]=ve.split("=");H[decodeURIComponent(X)]=decodeURIComponent($e)}}),H}function Ss(L){const H=L.indexOf("?");if(!H)return"";const $=L.indexOf("#",H);return L.substring(H,$>0?$:void 0)}function Pi(L,H){const $=new ut(L,H);return $.subscribe.bind($)}class ut{constructor(H,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{H(this)}).catch(ve=>{this.error(ve)})}next(H){this.forEachObserver($=>{$.next(H)})}error(H){this.forEachObserver($=>{$.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,$,ve){let X;if(void 0===H&&void 0===$&&void 0===ve)throw new Error("Missing Observer.");X=function Nn(L,H){if("object"!=typeof L||null===L)return!1;for(const $ of H)if($ in L&&"function"==typeof L[$])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:$,complete:ve},void 0===X.next&&(X.next=_n),void 0===X.error&&(X.error=_n),void 0===X.complete&&(X.complete=_n);const $e=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch(lt){}}),this.observers.push(X),$e}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,H)}sendOne(H,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{$(this.observers[H])}catch(ve){"undefined"!=typeof console&&console.error&&console.error(ve)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _n(){}function Nt(L,H=1e3,$=2){const ve=H*Math.pow($,L),X=Math.round(.5*ve*(Math.random()-.5)*2);return Math.min(144e5,ve+X)}function oi(L){return L&&L._delegate?L._delegate:L}},5392:(Xe,Ee,k)=>{"use strict";var u=k(5e3);let Q=null;function R(){return Q}const oe=new u.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function se(){return(0,u.LFG)(U)}()},providedIn:"platform"}),n})();const j=new u.OlP("Location Initialized");let U=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){J()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){J()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ue(){return new U((0,u.LFG)(oe))}()},providedIn:"platform"}),n})();function J(){return!!window.history.pushState}function Te(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function xe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Le(n){return n&&"?"!==n[0]?"?"+n:n}let z=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ee(n){const e=(0,u.LFG)(oe).location;return new Ce((0,u.LFG)(fe),e&&e.origin||"")}()},providedIn:"root"}),n})();const ge=new u.OlP("appBaseHref");let Ce=(()=>{class n extends z{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Te(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Le(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,l){const h=this.prepareExternalUrl(o+Le(l));this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,l){const h=this.prepareExternalUrl(o+Le(l));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fe),u.LFG(ge,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),le=(()=>{class n extends z{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Te(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,l){let h=this.prepareExternalUrl(o+Le(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,l){let h=this.prepareExternalUrl(o+Le(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fe),u.LFG(ge,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Me=(()=>{class n{constructor(t,r){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=xe(Ze(o)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Le(r))}normalize(t){return n.stripTrailingSlash(function qe(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ze(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Le(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Le(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=Le,n.joinWithSlash=Te,n.stripTrailingSlash=xe,n.\u0275fac=function(t){return new(t||n)(u.LFG(z),u.LFG(fe))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ie(){return new Me((0,u.LFG)(z),(0,u.LFG)(fe))}()},providedIn:"root"}),n})();function Ze(n){return n.replace(/\/index.html$/,"")}var ne=(()=>((ne=ne||{})[ne.Zero=0]="Zero",ne[ne.One=1]="One",ne[ne.Two=2]="Two",ne[ne.Few=3]="Few",ne[ne.Many=4]="Many",ne[ne.Other=5]="Other",ne))();const Ss=u.kL8;class Vt{}let un=(()=>{class n extends Vt{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(Ss(r||this.locale)(t)){case ne.Zero:return"zero";case ne.One:return"one";case ne.Two:return"two";case ne.Few:return"few";case ne.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.soG))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Xs(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(l)}return null}let Ms=(()=>{class n{constructor(t,r,o,l){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=o,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Do{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rn=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,l,h)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new Do(o.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)r.remove(null===l?void 0:l);else if(null!==l){const m=r.get(l);r.move(m,h),Os(m,o)}});for(let o=0,l=r.length;o<l;o++){const m=r.get(o).context;m.index=o,m.count=l,m.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{Os(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Os(n,e){n.context.$implicit=e.item}let Zn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new $t,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Mc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Mc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class $t{constructor(){this.$implicit=null,this.ngIf=null}}function Mc(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}let ru=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[u.TTD]}),n})(),ss=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[{provide:Vt,useClass:un}]}),n})();function fr(n){return"server"===n}let ou=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new au((0,u.LFG)(oe),window)}),n})();class au{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function as(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const l=o.shadowRoot;if(l){const h=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(h)return h}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],o-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=rl(this.window.history)||rl(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function rl(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Kt{}class Rs extends class la extends class pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function te(n){Q||(Q=n)}(new Rs)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function uu(){return qt=qt||document.querySelector("base"),qt?qt.getAttribute("href"):null}();return null==t?null:function ro(n){ca=ca||document.createElement("a"),ca.setAttribute("href",n);const e=ca.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){qt=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Xs(document.cookie,e)}}let ca,qt=null;const $n=new u.OlP("TRANSITION_ID"),ln=[{provide:u.ip1,useFactory:function lu(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=R(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)r.remove(o[l])})}},deps:[$n,oe,u.zs3],multi:!0}];class us{static init(){(0,u.VLi)(new us)}addToWindow(e){u.dqk.getAngularTestability=(r,o=!0)=>{const l=e.findTestabilityInTree(r,o);if(null==l)throw new Error("Could not find testability for element.");return l},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const o=u.dqk.getAllAngularTestabilities();let l=o.length,h=!1;const m=function(E){h=h||E,l--,0==l&&r(h)};o.forEach(function(E){E.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let qn=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Oo=new u.OlP("EventManagerPlugins");let Fi=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let l=0;l<o.length;l++){const h=o[l];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Oo),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class sl{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=R().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let Gr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ps=(()=>{class n extends Gr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,o.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Fs),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Fs))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Fs(n){R().remove(n)}const at={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},da=/%COMP%/g;function be(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?be(n,o,t):(o=o.replace(da,n),t.push(o))}return t}function Dt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let cn=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Ls(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new al(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case u.ifc.ShadowDom:return new ul(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=be(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Fi),u.LFG(Ps),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Ls{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(at[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const l=at[o];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=at[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,o&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Dt(r)):this.eventManager.addEventListener(e,t,Dt(r))}}class al extends Ls{constructor(e,t,r,o){super(e),this.component=r;const l=be(o+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function pa(n){return"_ngcontent-%COMP%".replace(da,n)}(o+"-"+r.id),this.hostAttr=function Ah(n){return"_nghost-%COMP%".replace(da,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class ul extends Ls{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=be(o.id,o.styles,[]);for(let h=0;h<l.length;h++){const m=document.createElement("style");m.textContent=l[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Hc=(()=>{class n extends sl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Zc=["alt","control","meta","shift"],No={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ci={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ll=(()=>{class n extends sl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const l=n.parseEventName(r),h=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,l.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(r.pop());let h="";if(Zc.forEach(E=>{const T=r.indexOf(E);T>-1&&(r.splice(T,1),h+=E+".")}),h+=l,0!=r.length||0===l.length)return null;const m={};return m.domEventName=o,m.fullKey=h,m}static getEventFullKey(t){let r="",o=function Li(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Fn.hasOwnProperty(e)&&(e=Fn[e]))}return No[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Zc.forEach(l=>{l!=o&&Ci[l](t)&&(r+=l+".")}),r+=o,r}static eventCallback(t,r,o){return l=>{n.getEventFullKey(l)===t&&o.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const qc=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function ls(){Rs.makeCurrent(),us.init()},multi:!0},{provide:oe,useFactory:function $c(){return(0,u.RDi)(document),document},deps:[]}]),io=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function ya(){return new u.qLn},deps:[]},{provide:Oo,useClass:Hc,multi:!0,deps:[oe,u.R0b,u.Lbi]},{provide:Oo,useClass:ll,multi:!0,deps:[oe]},{provide:cn,useClass:cn,deps:[Fi,Ps,u.AFp]},{provide:u.FYo,useExisting:cn},{provide:Gr,useExisting:Ps},{provide:Ps,useClass:Ps,deps:[oe]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:Fi,useClass:Fi,deps:[Oo,u.R0b]},{provide:Kt,useClass:qn,deps:[]}];let cl=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:$n,useExisting:u.AFp},ln]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:io,imports:[ss,u.hGG]}),n})();"undefined"!=typeof window&&window;var vn=k(8996),Vs=k(3269);function We(...n){const e=(0,Vs.yG)(n);return(0,vn.D)(n,e)}var wn=k(7579);class zr extends wn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Ln=k(8306);const{isArray:ao}=Array,{getPrototypeOf:Wc,prototype:nn,keys:gl}=Object;function fs(n){if(1===n.length){const e=n[0];if(ao(e))return{args:e,keys:null};if(function Ia(n){return n&&"object"==typeof n&&Wc(n)===nn}(e)){const t=gl(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ii=k(4671),gt=k(4004);const{isArray:Kc}=Array;function _l(n){return(0,gt.U)(e=>function ml(n,e){return Kc(e)?n(...e):n(e)}(n,e))}function Ta(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var Jt=k(5403),uo=k(9672);function pr(n,e,t){n?(0,uo.f)(t,n,e):e()}const Bs=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var js=k(8189);function Po(...n){return function Da(){return(0,js.J)(1)}()((0,vn.D)(n,(0,Vs.yG)(n)))}var Ti=k(8421);function pu(n){return new Ln.y(e=>{(0,Ti.Xf)(n()).subscribe(e)})}var lo=k(515),di=k(727),Xn=k(4482);function vl(){return(0,Xn.e)((n,e)=>{let t=null;n._refCount++;const r=new Jt.Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,l=t;t=null,o&&(!l||o===l)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class gu extends Ln.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Xn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new di.w0;const t=this.getSubject();e.add(this.source.subscribe(new Jt.Q(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=di.w0.EMPTY)}return e}refCount(){return vl()(this)}}function sn(n,e){return(0,Xn.e)((t,r)=>{let o=null,l=0,h=!1;const m=()=>h&&!o&&r.complete();t.subscribe(new Jt.Q(r,E=>{null==o||o.unsubscribe();let T=0;const M=l++;(0,Ti.Xf)(n(E,M)).subscribe(o=new Jt.Q(r,N=>r.next(e?e(E,N,M,T++):N),()=>{o=null,m()}))},()=>{h=!0,m()}))})}var Fo=k(5698);function Hs(...n){const e=(0,Vs.yG)(n);return(0,Xn.e)((t,r)=>{(e?Po(n,t,e):Po(n,t)).subscribe(r)})}function Lo(n,e,t,r,o){return(l,h)=>{let m=t,E=e,T=0;l.subscribe(new Jt.Q(h,M=>{const N=T++;E=m?n(E,M,N):(m=!0,M),r&&h.next(E)},o&&(()=>{m&&h.next(E),h.complete()})))}}function Ui(n,e){return(0,Xn.e)(Lo(n,e,arguments.length>=2,!0))}function Vn(n,e){return(0,Xn.e)((t,r)=>{let o=0;t.subscribe(new Jt.Q(r,l=>n.call(e,l,o++)&&r.next(l)))})}function er(n){return(0,Xn.e)((e,t)=>{let l,r=null,o=!1;r=e.subscribe(new Jt.Q(t,void 0,void 0,h=>{l=(0,Ti.Xf)(n(h,er(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,l.subscribe(t))})}var En=k(5577),Bi=k(576);function Di(n,e){return(0,Bi.m)(e)?(0,En.z)(n,e,1):(0,En.z)(n,1)}function co(n){return n<=0?()=>lo.E:(0,Xn.e)((e,t)=>{let r=[];e.subscribe(new Jt.Q(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function mu(n=hn){return(0,Xn.e)((e,t)=>{let r=!1;e.subscribe(new Jt.Q(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function hn(){return new Bs}function kh(n){return(0,Xn.e)((e,t)=>{let r=!1;e.subscribe(new Jt.Q(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function Aa(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Vn((o,l)=>n(o,l,r)):Ii.y,(0,Fo.q)(1),t?kh(e):mu(()=>new Bs))}var Dr=k(8505);class ps{constructor(e,t){this.id=e,this.url=t}}class Yc extends ps{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ai extends ps{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ph extends ps{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fn extends ps{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wl extends ps{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ho extends ps{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class h_ extends ps{constructor(e,t,r,o,l){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class El extends ps{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gr extends ps{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wr{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bl{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vo{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ji{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hi{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _u{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yu{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ct="primary";class Qc{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Si(n){return new Qc(n)}const Ar="ngNavigationCancelingError";function vu(n){const e=Error("NavigationCancelingError: "+n);return e[Ar]=!0,e}function Jc(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let l=0;l<r.length;l++){const h=r[l],m=n[l];if(h.startsWith(":"))o[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Wn(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let l=0;l<t.length;l++)if(o=t[l],!Cl(n[o],e[o]))return!1;return!0}function Cl(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,l)=>r[l]===o)}return n===e}function wu(n){return Array.prototype.concat.apply([],n)}function Eu(n){return n.length>0?n[n.length-1]:null}function pn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Un(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,vn.D)(Promise.resolve(n)):We(n)}const Fh={exact:function ed(n,e,t){if(!He(n.segments,e.segments)||!F(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ed(n.children[r],e.children[r],t))return!1;return!0},subset:I},gs={exact:function bu(n,e){return Wn(n,e)},subset:function C(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Cl(n[t],e[t]))},ignored:()=>!0};function Bo(n,e,t){return Fh[t.paths](n.root,e.root,t.matrixParams)&&gs[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function I(n,e,t){return x(n,e,e.segments,t)}function x(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!He(o,t)||e.hasChildren()||!F(o,t,r))}if(n.segments.length===t.length){if(!He(n.segments,t)||!F(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!I(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(He(n.segments,o)&&F(n.segments,o,r)&&n.children[Ct])&&x(n.children[Ct],e,l,r)}}function F(n,e,t){return e.every((r,o)=>gs[t](n[o].parameters,r.parameters))}class G{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Si(this.queryParams)),this._queryParamMap}toString(){return mr.serialize(this)}}class Y{constructor(e,t){this.segments=e,this.children=t,this.parent=null,pn(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return on(this)}}class De{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Si(this.parameters)),this._parameterMap}toString(){return Tl(this)}}function He(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Bt{}class bn{parse(e){const t=new Xp(e);return new G(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ms(e.root,!0)}`,r=function Jp(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Sr(t)}=${Sr(o)}`).join("&"):`${Sr(t)}=${Sr(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function _s(n){return encodeURI(n)}(e.fragment)}`:""}`}}const mr=new bn;function on(n){return n.segments.map(e=>Tl(e)).join("/")}function ms(n,e){if(!n.hasChildren())return on(n);if(e){const t=n.children[Ct]?ms(n.children[Ct],!1):"",r=[];return pn(n.children,(o,l)=>{l!==Ct&&r.push(`${l}:${ms(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function kt(n,e){let t=[];return pn(n.children,(r,o)=>{o===Ct&&(t=t.concat(e(r,o)))}),pn(n.children,(r,o)=>{o!==Ct&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Ct?[ms(n.children[Ct],!1)]:[`${o}:${ms(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ct]?`${on(n)}/${t[0]}`:`${on(n)}/(${t.join("//")})`}}function Zi(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sr(n){return Zi(n).replace(/%3B/gi,";")}function xr(n){return Zi(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jo(n){return decodeURIComponent(n)}function Lh(n){return jo(n.replace(/\+/g,"%20"))}function Tl(n){return`${xr(n.path)}${function Cu(n){return Object.keys(n).map(e=>`;${xr(e)}=${xr(n[e])}`).join("")}(n.parameters)}`}const f_=/^[^\/()?;=#]+/;function td(n){const e=n.match(f_);return e?e[0]:""}const Ho=/^[^=?&#]+/,p_=/^[^&#]+/;class Xp{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Y([],{}):new Y([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ct]=new Y(e,t)),r}parseSegment(){const e=td(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new De(jo(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=td(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=td(this.remaining);o&&(r=o,this.capture(r))}e[jo(t)]=jo(r)}parseQueryParam(e){const t=function Dl(n){const e=n.match(Ho);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function g_(n){const e=n.match(p_);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=Lh(t),l=Lh(r);if(e.hasOwnProperty(o)){let h=e[o];Array.isArray(h)||(h=[h],e[o]=h),h.push(l)}else e[o]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=td(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Ct);const h=this.parseChildren();t[l]=1===Object.keys(h).length?h[Ct]:new Y([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Al{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=eg(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=eg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Vh(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Vh(e,this._root).map(t=>t.value)}}function eg(n,e){if(n===e.value)return e;for(const t of e.children){const r=eg(n,t);if(r)return r}return null}function Vh(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Vh(n,t);if(r.length)return r.unshift(e),r}return[]}class fo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Iu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Sl extends Al{constructor(e,t){super(e),this.snapshot=t,sd(this,e)}toString(){return this.snapshot.toString()}}function nd(n,e){const t=function Tu(n,e){const h=new xa([],{},{},"",{},Ct,e,null,n.root,-1,{});return new id("",new fo(h,[]))}(n,e),r=new zr([new De("",{})]),o=new zr({}),l=new zr({}),h=new zr({}),m=new zr(""),E=new Du(r,o,h,m,l,Ct,e,t.root);return E.snapshot=t.root,new Sl(new fo(E,[]),t)}class Du{constructor(e,t,r,o,l,h,m,E){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=m,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gt.U)(e=>Si(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gt.U)(e=>Si(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rd(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],l=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(l.component)break;r--}}return function R0(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class xa{constructor(e,t,r,o,l,h,m,E,T,M,N){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=m,this.routeConfig=E,this._urlSegment=T,this._lastPathIndex=M,this._resolve=N}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Si(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Si(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class id extends Al{constructor(e,t){super(t),this.url=e,sd(this,t)}toString(){return Uh(this._root)}}function sd(n,e){e.value._routerState=n,e.children.forEach(t=>sd(n,t))}function Uh(n){const e=n.children.length>0?` { ${n.children.map(Uh).join(", ")} } `:"";return`${n.value}${e}`}function xl(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Wn(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Wn(e.params,t.params)||n.params.next(t.params),function Xc(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Wn(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Wn(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function od(n,e){const t=Wn(n.params,e.params)&&function Be(n,e){return He(n,e)&&n.every((t,r)=>Wn(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||od(n.parent,e.parent))}function Ml(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function __(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Ml(n,r,o);return Ml(n,r)})}(n,e,t);return new fo(r,o)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const h=l.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(m=>Ml(n,m)),h}}const r=function Bh(n){return new Du(new zr(n.url),new zr(n.params),new zr(n.queryParams),new zr(n.fragment),new zr(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(l=>Ml(n,l));return new fo(r,o)}}function xi(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function po(n){return"object"==typeof n&&null!=n&&n.outlets}function ad(n,e,t,r,o){let l={};return r&&pn(r,(h,m)=>{l[m]=Array.isArray(h)?h.map(E=>`${E}`):`${h}`}),new G(t.root===n?e:v_(t.root,n,e),l,o)}function v_(n,e,t){const r={};return pn(n.children,(o,l)=>{r[l]=o===e?t:v_(o,e,t)}),new Y(n.segments,r)}class jh{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&xi(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(po);if(o&&o!==Eu(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hh{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function ng(n,e,t){if(n||(n=new Y([],{})),0===n.segments.length&&n.hasChildren())return Zh(n,e,t);const r=function Ma(n,e,t){let r=0,o=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return l;const h=n.segments[o],m=t[r];if(po(m))break;const E=`${m}`,T=r<t.length-1?t[r+1]:null;if(o>0&&void 0===E)break;if(E&&T&&"object"==typeof T&&void 0===T.outlets){if(!$h(E,T,h))return l;r+=2}else{if(!$h(E,{},h))return l;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Y(n.segments.slice(0,r.pathIndex),{});return l.children[Ct]=new Y(n.segments.slice(r.pathIndex),n.children),Zh(l,0,o)}return r.match&&0===o.length?new Y(n.segments,{}):r.match&&!n.hasChildren()?rg(n,e,t):r.match?Zh(n,0,o):rg(n,e,t)}function Zh(n,e,t){if(0===t.length)return new Y(n.segments,{});{const r=function E_(n){return po(n[0])?n[0].outlets:{[Ct]:n}}(t),o={};return pn(r,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(o[h]=ng(n.children[h],e,l))}),pn(n.children,(l,h)=>{void 0===r[h]&&(o[h]=l)}),new Y(n.segments,o)}}function rg(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const l=t[o];if(po(l)){const E=b_(l.outlets);return new Y(r,E)}if(0===o&&xi(t[0])){r.push(new De(n.segments[e].path,Oa(t[0]))),o++;continue}const h=po(l)?l.outlets[Ct]:`${l}`,m=o<t.length-1?t[o+1]:null;h&&m&&xi(m)?(r.push(new De(h,Oa(m))),o+=2):(r.push(new De(h,{})),o++)}return new Y(r,{})}function b_(n){const e={};return pn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=rg(new Y([],{}),0,t))}),e}function Oa(n){const e={};return pn(n,(t,r)=>e[r]=`${t}`),e}function $h(n,e,t){return n==t.path&&Wn(e,t.parameters)}class Ol{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),xl(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Iu(t);e.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,o[h],r),delete o[h]}),pn(o,(l,h)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(o===l)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=Iu(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);if(r&&r.outlet){const h=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=Iu(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Iu(t);e.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],r),this.forwardEvent(new _u(l.value.snapshot))}),e.children.length&&this.forwardEvent(new ji(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(xl(o),o===l)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),xl(m.route.value),this.activateChildRoutes(e,null,h.children)}else{const m=function ig(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),E=m?m.module.componentFactoryResolver:null;h.attachRef=null,h.route=o,h.resolver=E,h.outlet&&h.outlet.activateWith(o,E),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}class Au{constructor(e,t){this.routes=e,this.module=t}}function go(n){return"function"==typeof n}function Zo(n){return n instanceof G}const ud=Symbol("INITIAL_VALUE");function Nl(){return sn(n=>function Us(...n){const e=(0,Vs.yG)(n),t=(0,Vs.jO)(n),{args:r,keys:o}=fs(n);if(0===r.length)return(0,vn.D)([],e);const l=new Ln.y(function fu(n,e,t=Ii.y){return r=>{pr(e,()=>{const{length:o}=n,l=new Array(o);let h=o,m=o;for(let E=0;E<o;E++)pr(e,()=>{const T=(0,vn.D)(n[E],e);let M=!1;T.subscribe(new Jt.Q(r,N=>{l[E]=N,M||(M=!0,m--),m||r.next(t(l.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,e,o?h=>Ta(o,h):Ii.y));return t?l.pipe(_l(t)):l}(n.map(e=>e.pipe((0,Fo.q)(1),Hs(ud)))).pipe(Ui((e,t)=>{let r=!1;return t.reduce((o,l,h)=>o!==ud?o:(l===ud&&(r=!0),r||!1!==l&&h!==t.length-1&&!Zo(l)?o:l),e)},ud),Vn(e=>e!==ud),(0,gt.U)(e=>Zo(e)?e:!0===e),(0,Fo.q)(1)))}class ld{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new kl,this.attachRef=null}}class kl{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new ld,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Wh=(()=>{class n{constructor(t,r,o,l,h){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=l||Ct,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,E=new Kh(t,m,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(kl),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Kh{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Du?this.route:e===kl?this.childContexts:this.parent.get(e,t)}}let cd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},directives:[Wh],encapsulation:2}),n})();function Yh(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];dd(r,hd(e,r))}}function dd(n,e){n.children&&Yh(n.children,e)}function hd(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Rl(n){const e=n.children&&n.children.map(Rl),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ct&&(t.component=cd),t}function qi(n){return n.outlet||Ct}function Sn(n,e){const t=n.filter(r=>qi(r)===e);return t.push(...n.filter(r=>qi(r)!==e)),t}const Qh={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function fd(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Qh):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(e.matcher||Jc)(t,n,e);if(!l)return Object.assign({},Qh);const h={};pn(l.posParams,(E,T)=>{h[T]=E.path});const m=l.consumed.length>0?Object.assign(Object.assign({},h),l.consumed[l.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:m,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function Su(n,e,t,r,o="corrected"){if(t.length>0&&function pd(n,e,t){return t.some(r=>Pl(n,e,r)&&qi(r)!==Ct)}(n,t,r)){const h=new Y(e,function C_(n,e,t,r){const o={};o[Ct]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&qi(l)!==Ct){const h=new Y([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[qi(l)]=h}return o}(n,e,r,new Y(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function I_(n,e,t){return t.some(r=>Pl(n,e,r))}(n,t,r)){const h=new Y(n.segments,function sg(n,e,t,r,o,l){const h={};for(const m of r)if(Pl(n,t,m)&&!o[qi(m)]){const E=new Y([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===l?n.segments.length:e.length,h[qi(m)]=E}return Object.assign(Object.assign({},o),h)}(n,e,t,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const l=new Y(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function Pl(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function og(n,e,t,r){return!!(qi(n)===r||r!==Ct&&Pl(e,t,n))&&("**"===n.path||fd(e,n,t).matched)}function T_(n,e,t){return 0===e.length&&!n.children[t]}class gd{constructor(e){this.segmentGroup=e||null}}class xu{constructor(e){this.urlTree=e}}function Kn(n){return new Ln.y(e=>e.error(new gd(n)))}function Mu(n){return new Ln.y(e=>e.error(new xu(n)))}function md(n){return new Ln.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Na{constructor(e,t,r,o,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(u.h0i)}apply(){const e=Su(this.urlTree.root,[],[],this.config).segmentGroup,t=new Y(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Ct).pipe((0,gt.U)(l=>this.createUrlTree(Kr(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(er(l=>{if(l instanceof xu)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof gd?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Ct).pipe((0,gt.U)(o=>this.createUrlTree(Kr(o),e.queryParams,e.fragment))).pipe(er(o=>{throw o instanceof gd?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new Y([],{[Ct]:e}):e;return new G(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,gt.U)(l=>new Y([],l))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const l of Object.keys(r.children))"primary"===l?o.unshift(l):o.push(l);return(0,vn.D)(o).pipe(Di(l=>{const h=r.children[l],m=Sn(t,l);return this.expandSegmentGroup(e,m,h,l).pipe((0,gt.U)(E=>({segment:E,outlet:l})))}),Ui((l,h)=>(l[h.outlet]=h.segment,l),{}),function d_(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Vn((o,l)=>n(o,l,r)):Ii.y,co(1),t?kh(e):mu(()=>new Bs))}())}expandSegment(e,t,r,o,l,h){return(0,vn.D)(r).pipe(Di(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,l,h).pipe(er(T=>{if(T instanceof gd)return We(null);throw T}))),Aa(m=>!!m),er((m,E)=>{if(m instanceof Bs||"EmptyError"===m.name){if(T_(t,o,l))return We(new Y([],{}));throw new gd(t)}throw m}))}expandSegmentAgainstRoute(e,t,r,o,l,h,m){return og(o,t,l,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,l,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h):Kn(t):Kn(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Mu(l):this.lineralizeSegments(r,l).pipe((0,En.z)(h=>{const m=new Y(h,{});return this.expandSegment(e,m,t,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h){const{matched:m,consumedSegments:E,lastChild:T,positionalParamSegments:M}=fd(t,o,l);if(!m)return Kn(t);const N=this.applyRedirectCommands(E,o.redirectTo,M);return o.redirectTo.startsWith("/")?Mu(N):this.lineralizeSegments(o,N).pipe((0,En.z)(V=>this.expandSegment(e,t,r,V.concat(l.slice(T)),h,!1)))}matchSegmentAgainstRoute(e,t,r,o,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?We(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,gt.U)(V=>(r._loadedConfig=V,new Y(o,{})))):We(new Y(o,{}));const{matched:h,consumedSegments:m,lastChild:E}=fd(t,r,o);if(!h)return Kn(t);const T=o.slice(E);return this.getChildConfig(e,r,o).pipe((0,En.z)(N=>{const V=N.module,Z=N.routes,{segmentGroup:he,slicedSegments:Fe}=Su(t,m,T,Z),ze=new Y(he.segments,he.children);if(0===Fe.length&&ze.hasChildren())return this.expandChildren(V,Z,ze).pipe((0,gt.U)(St=>new Y(m,St)));if(0===Z.length&&0===Fe.length)return We(new Y(m,{}));const ft=qi(r)===l;return this.expandSegment(V,ze,Z,Fe,ft?Ct:l,!0).pipe((0,gt.U)(an=>new Y(m.concat(an.segments),an.children)))}))}getChildConfig(e,t,r){return t.children?We(new Au(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?We(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,En.z)(o=>o?this.configLoader.load(e.injector,t).pipe((0,gt.U)(l=>(t._loadedConfig=l,l))):function Jh(n){return new Ln.y(e=>e.error(vu(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):We(new Au([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;return o&&0!==o.length?We(o.map(h=>{const m=e.get(h);let E;if(function L0(n){return n&&go(n.canLoad)}(m))E=m.canLoad(t,r);else{if(!go(m))throw new Error("Invalid CanLoad guard");E=m(t,r)}return Un(E)})).pipe(Nl(),(0,Dr.b)(h=>{if(!Zo(h))return;const m=vu(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw m.url=h,m}),(0,gt.U)(h=>!0===h)):We(!0)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return We(r);if(o.numberOfChildren>1||!o.children[Ct])return md(e.redirectTo);o=o.children[Ct]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const l=this.createSegmentGroup(e,t.root,r,o);return new G(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return pn(e,(o,l)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[l]=t[m]}else r[l]=o}),r}createSegmentGroup(e,t,r,o){const l=this.createSegments(e,t.segments,r,o);let h={};return pn(t.children,(m,E)=>{h[E]=this.createSegmentGroup(e,m,r,o)}),new Y(l,h)}createSegments(e,t,r,o){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,o):this.findOrReturn(l,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function Kr(n){const e={};for(const r of Object.keys(n.children)){const l=Kr(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function Xh(n){if(1===n.numberOfChildren&&n.children[Ct]){const e=n.children[Ct];return new Y(n.segments.concat(e.segments),e.children)}return n}(new Y(n.segments,e))}class _d{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class yd{constructor(e,t){this.component=e,this.route=t}}function vd(n,e,t){const r=n._root;return Vl(r,e?e._root:null,t,[r.value])}function Ll(n,e,t){const r=function ag(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Vl(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=Iu(e);return n.children.forEach(h=>{(function Zs(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,h=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const E=function ug(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!He(n.url,e.url);case"pathParamsOrQueryParamsChange":return!He(n.url,e.url)||!Wn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!od(n,e)||!Wn(n.queryParams,e.queryParams);default:return!od(n,e)}}(h,l,l.routeConfig.runGuardsAndResolvers);E?o.canActivateChecks.push(new _d(r)):(l.data=h.data,l._resolvedData=h._resolvedData),Vl(n,e,l.component?m?m.children:null:t,r,o),E&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new yd(m.outlet.component,h))}else h&&Ul(e,m,o),o.canActivateChecks.push(new _d(r)),Vl(n,null,l.component?m?m.children:null:t,r,o)})(h,l[h.value.outlet],t,r.concat([h.value]),o),delete l[h.value.outlet]}),pn(l,(h,m)=>Ul(h,t.getContext(m),o)),o}function Ul(n,e,t){const r=Iu(n),o=n.value;pn(r,(l,h)=>{Ul(l,o.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new yd(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class Bl{}function wd(n){return new Ln.y(e=>e.error(n))}class S_{constructor(e,t,r,o,l,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const e=Su(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Ct);if(null===t)return null;const r=new xa([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ct,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new fo(r,t),l=new id(this.url,o);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=rd(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const h=t.children[l],m=Sn(e,l),E=this.processSegmentGroup(m,h,l);if(null===E)return null;r.push(...E)}const o=hg(r);return function sf(n){n.sort((e,t)=>e.value.outlet===Ct?-1:t.value.outlet===Ct?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}processSegment(e,t,r,o){for(const l of e){const h=this.processSegmentAgainstRoute(l,t,r,o);if(null!==h)return h}return T_(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!og(e,t,r,o))return null;let l,h=[],m=[];if("**"===e.path){const Z=r.length>0?Eu(r).parameters:{};l=new xa(r,Z,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,g(e),qi(e),e.component,e,_(t),f(t)+r.length,v(e))}else{const Z=fd(t,e,r);if(!Z.matched)return null;h=Z.consumedSegments,m=r.slice(Z.lastChild),l=new xa(h,Z.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,g(e),qi(e),e.component,e,_(t),f(t)+h.length,v(e))}const E=function x_(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:T,slicedSegments:M}=Su(t,h,m,E.filter(Z=>void 0===Z.redirectTo),this.relativeLinkResolution);if(0===M.length&&T.hasChildren()){const Z=this.processChildren(E,T);return null===Z?null:[new fo(l,Z)]}if(0===E.length&&0===M.length)return[new fo(l,[])];const N=qi(e)===o,V=this.processSegment(E,T,M,N?Ct:o);return null===V?null:[new fo(l,V)]}}function dg(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function hg(n){const e=[],t=new Set;for(const r of n){if(!dg(r)){e.push(r);continue}const o=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=hg(r.children);e.push(new fo(r.value,o))}return e.filter(r=>!t.has(r))}function _(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function f(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function g(n){return n.data||{}}function v(n){return n.resolve||{}}function Ve(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function ht(n){return sn(e=>{const t=n(e);return t?(0,vn.D)(t).pipe((0,gt.U)(()=>e)):We(e)})}class Gi extends class gn{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const ka=new u.OlP("ROUTES");class jl{constructor(e,t,r,o){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,gt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=l.create(e);return new Au(wu(h.injector.get(ka,void 0,u.XFs.Self|u.XFs.Optional)).map(Rl),h)}),er(l=>{throw t._loader$=void 0,l}));return t._loader$=new gu(o,()=>new wn.x).pipe(vl()),t._loader$}loadModuleFactory(e){return Un(e()).pipe((0,En.z)(t=>t instanceof u.YKP?We(t):(0,vn.D)(this.compiler.compileModuleAsync(t))))}}class of{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function O_(n){throw n}function $o(n,e,t){return e.parse("/")}function Zl(n,e){return We(null)}const af={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uf={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Or=(()=>{class n{constructor(t,r,o,l,h,m,E){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=l,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new wn.x,this.errorHandler=O_,this.malformedUriErrorHandler=$o,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Zl,afterPreactivation:Zl},this.urlHandlingStrategy=new of,this.routeReuseStrategy=new Gi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(u.h0i),this.console=h.get(u.c2e);const N=h.get(u.R0b);this.isNgZoneEnabled=N instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=function Il(){return new G(new Y([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new jl(h,m,V=>this.triggerEvent(new Wr(V)),V=>this.triggerEvent(new bl(V))),this.routerState=nd(this.currentUrlTree,this.rootComponentType),this.transitions=new zr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Vn(o=>0!==o.id),(0,gt.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),sn(o=>{let l=!1,h=!1;return We(o).pipe((0,Dr.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),sn(m=>{const E=this.browserUrlTree.toString(),T=!this.navigated||m.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Ou(m.source)&&(this.browserUrlTree=m.extractedUrl),We(m).pipe(sn(N=>{const V=this.transitions.getValue();return r.next(new Yc(N.id,this.serializeUrl(N.extractedUrl),N.source,N.restoredState)),V!==this.transitions.getValue()?lo.E:Promise.resolve(N)}),function Fl(n,e,t,r){return sn(o=>function Mr(n,e,t,r,o){return new Na(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,gt.U)(l=>Object.assign(Object.assign({},o),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Dr.b)(N=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:N.urlAfterRedirects})}),function A(n,e,t,r,o){return(0,En.z)(l=>function cg(n,e,t,r,o="emptyOnly",l="legacy"){try{const h=new S_(n,e,t,r,o,l).recognize();return null===h?wd(new Bl):We(h)}catch(h){return wd(h)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,o).pipe((0,gt.U)(h=>Object.assign(Object.assign({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,N=>this.serializeUrl(N),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Dr.b)(N=>{if("eager"===this.urlUpdateStrategy){if(!N.extras.skipLocationChange){const Z=this.urlHandlingStrategy.merge(N.urlAfterRedirects,N.rawUrl);this.setBrowserUrl(Z,N)}this.browserUrlTree=N.urlAfterRedirects}const V=new wl(N.id,this.serializeUrl(N.extractedUrl),this.serializeUrl(N.urlAfterRedirects),N.targetSnapshot);r.next(V)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:Z,source:he,restoredState:Fe,extras:ze}=m,ft=new Yc(V,this.serializeUrl(Z),he,Fe);r.next(ft);const Ut=nd(Z,this.rootComponentType).snapshot;return We(Object.assign(Object.assign({},m),{targetSnapshot:Ut,urlAfterRedirects:Z,extras:Object.assign(Object.assign({},ze),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),lo.E}),ht(m=>{const{targetSnapshot:E,id:T,extractedUrl:M,rawUrl:N,extras:{skipLocationChange:V,replaceUrl:Z}}=m;return this.hooks.beforePreactivation(E,{navigationId:T,appliedUrlTree:M,rawUrlTree:N,skipLocationChange:!!V,replaceUrl:!!Z})}),(0,Dr.b)(m=>{const E=new ho(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(E)}),(0,gt.U)(m=>Object.assign(Object.assign({},m),{guards:vd(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function tf(n,e){return(0,En.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:h}}=t;return 0===h.length&&0===l.length?We(Object.assign(Object.assign({},t),{guardsResult:!0})):function D_(n,e,t,r){return(0,vn.D)(n).pipe((0,En.z)(o=>function mo(n,e,t,r,o){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?We(l.map(m=>{const E=Ll(m,e,o);let T;if(function zh(n){return n&&go(n.canDeactivate)}(E))T=Un(E.canDeactivate(n,e,t,r));else{if(!go(E))throw new Error("Invalid CanDeactivate guard");T=Un(E(n,e,t,r))}return T.pipe(Aa())})).pipe(Nl()):We(!0)}(o.component,o.route,t,e,r)),Aa(o=>!0!==o,!0))}(h,r,o,n).pipe((0,En.z)(m=>m&&function F0(n){return"boolean"==typeof n}(m)?function lg(n,e,t,r){return(0,vn.D)(e).pipe(Di(o=>Po(function nf(n,e){return null!==n&&e&&e(new Vo(n)),We(!0)}(o.route.parent,r),function tr(n,e){return null!==n&&e&&e(new Hi(n)),We(!0)}(o.route,r),function A_(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(h=>function ef(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>pu(()=>We(h.guards.map(E=>{const T=Ll(E,h.node,t);let M;if(function Gh(n){return n&&go(n.canActivateChild)}(T))M=Un(T.canActivateChild(r,n));else{if(!go(T))throw new Error("Invalid CanActivateChild guard");M=Un(T(r,n))}return M.pipe(Aa())})).pipe(Nl())));return We(l).pipe(Nl())}(n,o.path,t),function rf(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return We(!0);const o=r.map(l=>pu(()=>{const h=Ll(l,e,t);let m;if(function qh(n){return n&&go(n.canActivate)}(h))m=Un(h.canActivate(e,n));else{if(!go(h))throw new Error("Invalid CanActivate guard");m=Un(h(e,n))}return m.pipe(Aa())}));return We(o).pipe(Nl())}(n,o.route,t))),Aa(o=>!0!==o,!0))}(r,l,n,e):We(m)),(0,gt.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Dr.b)(m=>{if(Zo(m.guardsResult)){const T=vu(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw T.url=m.guardsResult,T}const E=new h_(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(E)}),Vn(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),ht(m=>{if(m.guards.canActivateChecks.length)return We(m).pipe((0,Dr.b)(E=>{const T=new El(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(T)}),sn(E=>{let T=!1;return We(E).pipe(function O(n,e){return(0,En.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return We(t);let l=0;return(0,vn.D)(o).pipe(Di(h=>function q(n,e,t,r){return function ue(n,e,t,r){const o=Ve(n);if(0===o.length)return We({});const l={};return(0,vn.D)(o).pipe((0,En.z)(h=>function Qe(n,e,t,r){const o=Ll(n,e,r);return Un(o.resolve?o.resolve(e,t):o(e,t))}(n[h],e,t,r).pipe((0,Dr.b)(m=>{l[h]=m}))),co(1),(0,En.z)(()=>Ve(l).length===o.length?We(l):lo.E))}(n._resolve,n,e,r).pipe((0,gt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),rd(n,t).resolve),null)))}(h.route,r,n,e)),(0,Dr.b)(()=>l++),co(1),(0,En.z)(h=>l===o.length?We(t):lo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Dr.b)({next:()=>T=!0,complete:()=>{T||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,Dr.b)(E=>{const T=new gr(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(T)}))}),ht(m=>{const{targetSnapshot:E,id:T,extractedUrl:M,rawUrl:N,extras:{skipLocationChange:V,replaceUrl:Z}}=m;return this.hooks.afterPreactivation(E,{navigationId:T,appliedUrlTree:M,rawUrlTree:N,skipLocationChange:!!V,replaceUrl:!!Z})}),(0,gt.U)(m=>{const E=function m_(n,e,t){const r=Ml(n,e._root,t?t._root:void 0);return new Sl(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:E})}),(0,Dr.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,gt.U)(r=>(new Ol(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Dr.b)({next(){l=!0},complete(){l=!0}}),function Rh(n){return(0,Xn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var m;l||h||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===o.id&&(this.currentNavigation=null)}),er(m=>{if(h=!0,function Sa(n){return n&&n[Ar]}(m)){const E=Zo(m.url);E||(this.navigated=!0,this.restoreHistory(o,!0));const T=new Ph(o.id,this.serializeUrl(o.extractedUrl),m.message);r.next(T),E?setTimeout(()=>{const M=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),N={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ou(o.source)};this.scheduleNavigation(M,"imperative",null,N,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const E=new fn(o.id,this.serializeUrl(o.extractedUrl),m);r.next(E);try{o.resolve(this.errorHandler(m))}catch(T){o.reject(T)}}return lo.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const l={replaceUrl:!0},h=(null===(o=t.state)||void 0===o?void 0:o.navigationId)?t.state:null;if(h){const E=Object.assign({},h);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(l.state=E)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,h,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Yh(t),this.config=t.map(Rl),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:l,fragment:h,queryParamsHandling:m,preserveFragment:E}=r,T=o||this.routerState.root,M=E?this.currentUrlTree.fragment:h;let N=null;switch(m){case"merge":N=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":N=this.currentUrlTree.queryParams;break;default:N=l||null}return null!==N&&(N=this.removeEmptyProps(N)),function y_(n,e,t,r,o){if(0===t.length)return ad(e.root,e.root,e,r,o);const l=function P0(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new jh(!0,0,n);let e=0,t=!1;const r=n.reduce((o,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return pn(l.outlets,(E,T)=>{m[T]="string"==typeof E?E.split("/"):E}),[...o,{outlets:m}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===h?(l.split("/").forEach((m,E)=>{0==E&&"."===m||(0==E&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,l]},[]);return new jh(t,e,r)}(t);if(l.toRoot())return ad(e.root,new Y([],{}),e,r,o);const h=function w_(n,e,t){if(n.isAbsolute)return new Hh(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new Hh(l,l===e.root,0)}const r=xi(n.commands[0])?0:1;return function tg(n,e,t){let r=n,o=e,l=t;for(;l>o;){if(l-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new Hh(r,!1,o-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),m=h.processChildren?Zh(h.segmentGroup,h.index,l.commands):ng(h.segmentGroup,h.index,l.commands);return ad(h.segmentGroup,m,e,r,o)}(T,this.currentUrlTree,t,N,null!=M?M:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Zo(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function N_(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},af):!1===r?Object.assign({},uf):r,Zo(t))return Bo(this.currentUrlTree,t,o);const l=this.parseUrl(t);return Bo(this.currentUrlTree,l,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const l=t[o];return null!=l&&(r[o]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ai(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,l,h){var m,E,T;if(this.disposed)return Promise.resolve(!1);const M=this.transitions.value,N=Ou(r)&&M&&!Ou(M.source),V=M.rawUrl.toString()===t.toString(),Z=M.id===(null===(m=this.currentNavigation)||void 0===m?void 0:m.id);if(N&&V&&Z)return Promise.resolve(!0);let Fe,ze,ft;h?(Fe=h.resolve,ze=h.reject,ft=h.promise):ft=new Promise((St,Mn)=>{Fe=St,ze=Mn});const Ut=++this.navigationId;let an;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),an=o&&o.\u0275routerPageId?o.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(E=this.browserPageId)&&void 0!==E?E:0:(null!==(T=this.browserPageId)&&void 0!==T?T:0)+1):an=0,this.setTransition({id:Ut,targetPageId:an,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:Fe,reject:ze,promise:ft,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ft.catch(St=>Promise.reject(St))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",l):this.location.go(o,"",l)}restoreHistory(t,r=!1){var o,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===h?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new Ph(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Ou(n){return"imperative"!==n}let Nu=(()=>{class n{constructor(t,r,o,l,h){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=l,this.el=h,this.commands=null,this.onChanges=new wn.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,o=this.el.nativeElement;null!==t?r.setAttribute(o,"tabindex",t):r.removeAttribute(o,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Ed(this.skipLocationChange),replaceUrl:Ed(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ed(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Or),u.Y36(Du),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&u.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),n})();function Ed(n){return""===n||!!n}class fg{}class pg{preload(e,t){return We(null)}}let B0=(()=>{class n{constructor(t,r,o,l){this.router=t,this.injector=o,this.preloadingStrategy=l,this.loader=new jl(o,r,E=>t.triggerEvent(new Wr(E)),E=>t.triggerEvent(new bl(E)))}setUpPreloading(){this.subscription=this.router.events.pipe(Vn(t=>t instanceof Ai),Di(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(u.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const h=l._loadedConfig;o.push(this.processRoutes(h.module,h.routes))}else l.loadChildren&&!l.canLoad?o.push(this.preloadConfig(t,l)):l.children&&o.push(this.processRoutes(t,l.children));return(0,vn.D)(o).pipe((0,js.J)(),(0,gt.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?We(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,En.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Or),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(fg))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),R_=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Yc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ai&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof yu&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new yu(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ku=new u.OlP("ROUTER_CONFIGURATION"),Ru=new u.OlP("ROUTER_FORROOT_GUARD"),j0=[Me,{provide:Bt,useClass:bn},{provide:Or,useFactory:function q0(n,e,t,r,o,l,h={},m,E){const T=new Or(null,n,e,t,r,o,wu(l));return m&&(T.urlHandlingStrategy=m),E&&(T.routeReuseStrategy=E),function F_(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(h,T),h.enableTracing&&T.events.subscribe(M=>{var N,V;null===(N=console.group)||void 0===N||N.call(console,`Router Event: ${M.constructor.name}`),console.log(M.toString()),console.log(M),null===(V=console.groupEnd)||void 0===V||V.call(console)}),T},deps:[Bt,kl,Me,u.zs3,u.Sil,ka,ku,[class Hl{},new u.FiY],[class rt{},new u.FiY]]},kl,{provide:Du,useFactory:function G0(n){return n.routerState.root},deps:[Or]},B0,pg,class U0{preload(e,t){return t().pipe(er(()=>We(null)))}},{provide:ku,useValue:{enableTracing:!1}}];function H0(){return new u.PXZ("Router",Or)}let Z0=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[j0,P_(t),{provide:Ru,useFactory:$0,deps:[[Or,new u.FiY,new u.tp0]]},{provide:ku,useValue:r||{}},{provide:z,useFactory:LC,deps:[fe,[new u.tBr(ge),new u.FiY],ku]},{provide:R_,useFactory:gg,deps:[Or,ou,ku]},{provide:fg,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:pg},{provide:u.PXZ,multi:!0,useFactory:H0},[bd,{provide:u.ip1,multi:!0,useFactory:mg,deps:[bd]},{provide:_g,useFactory:z0,deps:[bd]},{provide:u.tb,multi:!0,useExisting:_g}]]}}static forChild(t){return{ngModule:n,providers:[P_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ru,8),u.LFG(Or,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function gg(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new R_(n,e,t)}function LC(n,e,t={}){return t.useHash?new le(n,e):new Ce(n,e)}function $0(n){return"guarded"}function P_(n){return[{provide:u.deG,multi:!0,useValue:n},{provide:ka,multi:!0,useValue:n}]}let bd=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new wn.x}appInitializer(){return this.injector.get(j,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(m=>r=m),l=this.injector.get(Or),h=this.injector.get(ku);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?We(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(ku),o=this.injector.get(B0),l=this.injector.get(R_),h=this.injector.get(Or),m=this.injector.get(u.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),o.setUpPreloading(),l.init(),h.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function mg(n){return n.appInitializer.bind(n)}function z0(n){return n.bootstrapListener.bind(n)}const _g=new u.OlP("Router Initializer");let Cd=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-home"]],decls:12,vars:0,consts:[[1,"container_work"],[1,"init"],[1,"welcome"],[1,"contain-home"],[2,"margin-bottom","5vh"],["routerLink","/register"]],template:function(t,r){1&t&&(u.TgZ(0,"section",0),u._UZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"h1",4),u._uU(5,"Estas buscando el trabajo de tus sue\xf1os !!! "),u.qZA(),u.TgZ(6,"h4"),u._uU(7,"En work for world estamos aqui para ti"),u.qZA(),u.TgZ(8,"h4"),u._uU(9,"Miles de oportunidades de empleo est\xe1n esper\xe1ndote"),u.qZA(),u.qZA(),u.TgZ(10,"button",5),u._uU(11,"Crea tu cuenta "),u.qZA(),u.qZA(),u.qZA())},directives:[Nu],styles:[".container_work[_ngcontent-%COMP%]{width:100vw;height:100vh;display:flex;justify-content:center;align-items:center;flex-direction:column;z-index:0;color:#000;background-image:url(fnd6.be15b0707bdd20cd.jpg);background-repeat:no-repeat;background-size:100% 100%}.init[_ngcontent-%COMP%]{width:100vw;height:60vh;display:flex;z-index:1;justify-content:center;justify-items:center;opacity:.5;transform:rotate(10deg)}.welcome[_ngcontent-%COMP%]{z-index:50;width:1000vw;height:100vh;position:absolute;background-color:#00012254;justify-content:center;display:flex;align-items:center;flex-direction:column;color:#fff;border-radius:20px}button[_ngcontent-%COMP%]{width:10vw;height:15vh;border:none;width:18vw;border-radius:10px;background:#006cb4;color:#fff;font-size:1.5em}button[_ngcontent-%COMP%]:hover{cursor:pointer;background:linear-gradient(.25turn,#0063a5,hsla(0,100%,63%,.527));margin-right:-1vw}.contain-home[_ngcontent-%COMP%]{width:67vw;justify-content:center;display:flex;flex-direction:column;align-items:center;text-align:center;height:40vh;background:#8a8a8a42;border-radius:20px;margin-bottom:7vh;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);animation:welcome 4s}@keyframes welcome{0%{margin-left:-70vw;background:#8a8a8a00}to{background:#8a8a8a42}}"]}),n})(),L_=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),$l=(()=>{class n extends L_{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const $s=new u.OlP("NgValueAccessor"),Y0={provide:$s,useExisting:(0,u.Gpc)(()=>lf),multi:!0};let lf=(()=>{class n extends $l{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(l){return r.onChange(l.target.checked)})("blur",function(){return r.onTouched()})},features:[u._Bn([Y0]),u.qOj]}),n})();const Q0={provide:$s,useExisting:(0,u.Gpc)(()=>cf),multi:!0},J0=new u.OlP("CompositionEventMode");let cf=(()=>{class n extends L_{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function nA(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(J0,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[u._Bn([Q0]),u.qOj]}),n})();function Ra(n){return null==n||0===n.length}function X0(n){return null!=n&&"number"==typeof n.length}const hi=new u.OlP("NgValidators"),Nr=new u.OlP("NgAsyncValidators"),UC=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Pu{static min(e){return ew(e)}static max(e){return function tw(n){return e=>{if(Ra(e.value)||Ra(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return nw(e)}static requiredTrue(e){return function rw(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function V_(n){return Ra(n.value)||UC.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function iw(n){return e=>Ra(e.value)||!X0(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function sw(n){return e=>X0(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return ow(e)}static nullValidator(e){return null}static compose(e){return aw(e)}static composeAsync(e){return qo(e)}}function ew(n){return e=>{if(Ra(e.value)||Ra(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function nw(n){return Ra(n.value)?{required:!0}:null}function ow(n){if(!n)return mt;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ra(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}function mt(n){return null}function U_(n){return null!=n}function B_(n){const e=(0,u.QGY)(n)?(0,vn.D)(n):n;return(0,u.CqO)(e),e}function j_(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function df(n,e){return e.map(t=>t(n))}function H_(n){return n.map(e=>function _o(n){return!n.validate}(e)?e:t=>e.validate(t))}function aw(n){if(!n)return null;const e=n.filter(U_);return 0==e.length?null:function(t){return j_(df(t,e))}}function hf(n){return null!=n?aw(H_(n)):null}function qo(n){if(!n)return null;const e=n.filter(U_);return 0==e.length?null:function(t){return function VC(...n){const e=(0,Vs.jO)(n),{args:t,keys:r}=fs(n),o=new Ln.y(l=>{const{length:h}=t;if(!h)return void l.complete();const m=new Array(h);let E=h,T=h;for(let M=0;M<h;M++){let N=!1;(0,Ti.Xf)(t[M]).subscribe(new Jt.Q(l,V=>{N||(N=!0,T--),m[M]=V},()=>E--,void 0,()=>{(!E||!N)&&(T||l.next(r?Ta(r,m):m),l.complete())}))}});return e?o.pipe(_l(e)):o}(df(t,e).map(B_)).pipe((0,gt.U)(j_))}}function ff(n){return null!=n?qo(H_(n)):null}function Z_(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function yg(n){return n._rawValidators}function BC(n){return n._rawAsyncValidators}function vg(n){return n?Array.isArray(n)?n:[n]:[]}function $_(n,e){return Array.isArray(n)?n.includes(e):n===e}function pf(n,e){const t=vg(e);return vg(n).forEach(o=>{$_(t,o)||t.push(o)}),t}function gf(n,e){return vg(e).filter(t=>!$_(n,t))}class wg{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=hf(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ff(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Go extends wg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Yr extends wg{get formDirective(){return null}get path(){return null}}class jC{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}let q_=(()=>{class n extends jC{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Go,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[u.qOj]}),n})(),uw=(()=>{class n extends jC{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Yr,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[u.qOj]}),n})();function z_(n,e){return[...e.path,n]}function bg(n,e){Cg(n,e),e.valueAccessor.writeValue(n.value),function hw(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&fw(n,e)})}(n,e),function Fu(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function W_(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&fw(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function qC(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function yo(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Td(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Id(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Cg(n,e){const t=yg(n);null!==e.validator?n.setValidators(Z_(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=BC(n);null!==e.asyncValidator?n.setAsyncValidators(Z_(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Id(e._rawValidators,o),Id(e._rawAsyncValidators,o)}function Td(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=yg(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(h=>h!==e.validator);l.length!==o.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const o=BC(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(h=>h!==e.asyncValidator);l.length!==o.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return Id(e._rawValidators,r),Id(e._rawAsyncValidators,r),t}function fw(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ig(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function ql(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(l=>{l.constructor===cf?t=l:function WC(n){return Object.getPrototypeOf(n.constructor)===$l}(l)?r=l:o=l}),o||r||t||null}function Pa(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Fa="VALID",La="INVALID",Dd="PENDING",Ad="DISABLED";function mf(n){return(Ag(n)?n.validators:n)||null}function Tg(n){return Array.isArray(n)?hf(n):n||null}function Dg(n,e){return(Ag(e)?e.asyncValidators:n)||null}function _f(n){return Array.isArray(n)?ff(n):n||null}function Ag(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Sg=n=>n instanceof ty,Y_=n=>n instanceof fi,Q_=n=>n instanceof vw;function J_(n){return Sg(n)?n.value:n.getRawValue()}function yw(n,e){const t=Y_(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[e])throw new u.vHH(1001,"")}function X_(n,e){Y_(n),n._forEachChild((r,o)=>{if(void 0===e[o])throw new u.vHH(1002,"")})}class ey{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Tg(this._rawValidators),this._composedAsyncValidatorFn=_f(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Fa}get invalid(){return this.status===La}get pending(){return this.status==Dd}get disabled(){return this.status===Ad}get enabled(){return this.status!==Ad}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Tg(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=_f(e)}addValidators(e){this.setValidators(pf(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(pf(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(gf(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(gf(e,this._rawAsyncValidators))}hasValidator(e){return $_(this._rawValidators,e)}hasAsyncValidator(e){return $_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Dd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ad,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Fa,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fa||this.status===Dd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ad:Fa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Dd,this._hasOwnPendingAsyncValidator=!0;const t=B_(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function _w(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=Y_(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:Q_(r)&&r.at(o)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Ad:this.errors?La:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Dd)?Dd:this._anyControlsHaveStatus(La)?La:Fa}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ag(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ty extends ey{constructor(e=null,t,r){super(mf(t),Dg(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ag(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Pa(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Pa(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class fi extends ey{constructor(e,t,r){super(mf(t),Dg(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){X_(this,e),Object.keys(e).forEach(r=>{yw(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=J_(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,l)=>{r=t(r,o,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class vw extends ey{constructor(e,t,r){super(mf(t),Dg(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){X_(this,e),e.forEach((r,o)=>{yw(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>J_(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const JC={provide:Go,useExisting:(0,u.Gpc)(()=>iy)},ry=(()=>Promise.resolve(null))();let iy=(()=>{class n extends Go{constructor(t,r,o,l,h){super(),this._changeDetectorRef=h,this.control=new ty,this._registered=!1,this.update=new u.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=ql(0,l)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),Ig(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?z_(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){bg(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){ry.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=""===r||r&&"false"!==r;ry.then(()=>{var l;o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),null===(l=this._changeDetectorRef)||void 0===l||l.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Yr,9),u.Y36(hi,10),u.Y36(Nr,10),u.Y36($s,10),u.Y36(u.sBO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([JC]),u.qOj,u.TTD]}),n})(),sy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const XC={provide:$s,useExisting:(0,u.Gpc)(()=>oy),multi:!0};let oy=(()=>{class n extends $l{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[u._Bn([XC]),u.qOj]}),n})(),Iw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Dw=new u.OlP("NgModelWithFormControlWarning"),nI={provide:Yr,useExisting:(0,u.Gpc)(()=>Og)};let Og=(()=>{class n extends Yr{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Td(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return bg(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){yo(t.control||null,t,!1),Pa(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function gw(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(yo(r||null,t),Sg(o)&&(bg(o,t),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function K_(n,e){Cg(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function GC(n,e){return Td(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Cg(this.form,this),this._oldForm&&Td(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(hi,10),u.Y36(Nr,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([nI]),u.qOj,u.TTD]}),n})();const iI={provide:Go,useExisting:(0,u.Gpc)(()=>yf)};let yf=(()=>{class n extends Go{constructor(t,r,o,l,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=ql(0,l)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),Ig(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return z_(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(Yr,13),u.Y36(hi,10),u.Y36(Nr,10),u.Y36($s,10),u.Y36(Dw,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([iI]),u.qOj,u.TTD]}),n})();const ly={provide:$s,useExisting:(0,u.Gpc)(()=>kg),multi:!0};function cy(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let kg=(()=>{class n extends $l{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const o=cy(this._getOptionId(t),t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function sI(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([ly]),u.qOj]}),n})(),Rg=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(cy(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(kg,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const dA={provide:$s,useExisting:(0,u.Gpc)(()=>Pg),multi:!0};function xw(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Pg=(()=>{class n extends $l{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const o=t.map(l=>this._getOptionId(l));r=(l,h)=>{l._setSelected(o.indexOf(h.toString())>-1)}}else r=(o,l)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const o=[],l=r.selectedOptions;if(void 0!==l){const h=l;for(let m=0;m<h.length;m++){const T=this._getOptionValue(h[m].value);o.push(T)}}else{const h=r.options;for(let m=0;m<h.length;m++){const E=h[m];if(E.selected){const T=this._getOptionValue(E.value);o.push(T)}}}this.value=o,t(o)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function Mw(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(l){return r.onChange(l.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([dA]),u.qOj]}),n})(),dy=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(xw(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(xw(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(Pg,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let xd=(()=>{class n{constructor(){this._validator=mt}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):mt,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,features:[u.TTD]}),n})();const fy={provide:hi,useExisting:(0,u.Gpc)(()=>Fg),multi:!0};let Fg=(()=>{class n extends xd{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>function vf(n){return"number"==typeof n?n:parseFloat(n)}(t),this.createValidator=t=>ew(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&u.uIk("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[u._Bn([fy]),u.qOj]}),n})();const py={provide:hi,useExisting:(0,u.Gpc)(()=>Lg),multi:!0};let Lg=(()=>{class n extends xd{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function Va(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>nw}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&u.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([py]),u.qOj]}),n})();const lI={provide:hi,useExisting:(0,u.Gpc)(()=>Ug),multi:!0};let Ug=(()=>{class n{constructor(){this._validator=mt}ngOnChanges(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=ow(this.pattern)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&u.uIk("pattern",r.pattern?r.pattern:null)},inputs:{pattern:"pattern"},features:[u._Bn([lI]),u.TTD]}),n})(),Pw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Iw]]}),n})(),Gl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Pw]}),n})(),Fw=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Dw,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Pw]}),n})(),hI=(()=>{class n{group(t,r=null){const o=this._reduceControls(t);let m,l=null,h=null;return null!=r&&(function dI(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(l=null!=r.validators?r.validators:null,h=null!=r.asyncValidators?r.asyncValidators:null,m=null!=r.updateOn?r.updateOn:void 0):(l=null!=r.validator?r.validator:null,h=null!=r.asyncValidator?r.asyncValidator:null)),new fi(o,{asyncValidators:h,updateOn:m,validators:l})}control(t,r,o){return new ty(t,r,o)}array(t,r,o){const l=t.map(h=>this._createControl(h));return new vw(l,r,o)}_reduceControls(t){const r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){return Sg(t)||Y_(t)||Q_(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:Fw}),n})();var Mi=k(4986),kr=k(5813);function Bg(){return(0,Xn.e)((n,e)=>{let t,r=!1;n.subscribe(new Jt.Q(e,o=>{const l=t;t=o,r&&e.next([l,o]),r=!0}))})}function Vw(n,e){return n===e}var Je,qs=k(2011),fI=(k(389),k(3942)),ye=k(5861),zl=k(9681),bf=k(4859),Wl=k(1877),xt=k(2090),pI="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ua={},Uw=Uw||{},yt=pI||self;function jg(){}function Hg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Md(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var ys="closure_uid_"+(1e9*Math.random()>>>0),mA=0;function _A(n,e,t){return n.call.apply(n.bind,arguments)}function Bw(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Rr(n,e,t){return(Rr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_A:Bw).apply(null,arguments)}function Cf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Qr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,l){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return e.prototype[o].apply(r,h)}}function Kl(){this.s=this.s,this.o=this.o}var _y={};Kl.prototype.s=!1,Kl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function gA(n){return Object.prototype.hasOwnProperty.call(n,ys)&&n[ys]||(n[ys]=++mA)}(this);delete _y[n]}},Kl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Hw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Zg=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in o&&e.call(t,o[l],l,n)};function Zw(n){return Array.prototype.concat.apply([],arguments)}function yy(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function $g(n){return/^[\s\xa0]*$/.test(n)}var nr,$w=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Oi(n,e){return-1!=n.indexOf(e)}function Od(n,e){return n<e?-1:n>e?1:0}e:{var qw=yt.navigator;if(qw){var Nd=qw.userAgent;if(Nd){nr=Nd;break e}}nr=""}function vy(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Gw(n){const e={};for(const t in n)e[t]=n[t];return e}var qg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vo(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let l=0;l<qg.length;l++)t=qg[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Yl(n){return Yl[" "](n),n}Yl[" "]=jg;var ja,n,Ql=Oi(nr,"Opera"),Ba=Oi(nr,"Trident")||Oi(nr,"MSIE"),vs=Oi(nr,"Edge"),If=vs||Ba,Jl=Oi(nr,"Gecko")&&!(Oi(nr.toLowerCase(),"webkit")&&!Oi(nr,"Edge"))&&!(Oi(nr,"Trident")||Oi(nr,"MSIE"))&&!Oi(nr,"Edge"),kd=Oi(nr.toLowerCase(),"webkit")&&!Oi(nr,"Edge");function Xl(){var n=yt.document;return n?n.documentMode:void 0}e:{var Vu="",Uu=(n=nr,Jl?/rv:([^\);]+)(\)|;)/.exec(n):vs?/Edge\/([\d\.]+)/.exec(n):Ba?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):kd?/WebKit\/(\S+)/.exec(n):Ql?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Uu&&(Vu=Uu?Uu[1]:""),Ba){var Bu=Xl();if(null!=Bu&&Bu>parseFloat(Vu)){ja=String(Bu);break e}}ja=Vu}var Rd={};var zw=yt.document&&Ba&&(Xl()||parseInt(ja,10))||void 0,Ww=function(){if(!yt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{yt.addEventListener("test",jg,e),yt.removeEventListener("test",jg,e)}catch(t){}return n}();function Jr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Fd(n,e){if(Jr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Jl){e:{try{Yl(e.nodeName);var o=!0;break e}catch(l){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Kw[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Fd.Z.h.call(this)}}Jr.prototype.h=function(){this.defaultPrevented=!0},Qr(Fd,Jr);var Kw={2:"touch",3:"pen",4:"mouse"};Fd.prototype.h=function(){Fd.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ld="closure_listenable_"+(1e6*Math.random()|0),Yw=0;function mI(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++Yw,this.ca=this.fa=!1}function Tf(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function zg(n){this.src=n,this.g={},this.h=0}function Wg(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],o=Hw(r,e);(l=0<=o)&&Array.prototype.splice.call(r,o,1),l&&(Tf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Kg(n,e,t,r){for(var o=0;o<n.length;++o){var l=n[o];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return o}return-1}zg.prototype.add=function(n,e,t,r,o){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var h=Kg(n,e,r,o);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new mI(e,this.src,l,!!r,o)).fa=t,n.push(e)),e};var Ey="closure_lm_"+(1e6*Math.random()|0),by={};function Cy(n,e,t,r,o){if(r&&r.once)return Xw(n,e,t,r,o);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Cy(n,e[l],t,r,o);return null}return t=rE(t),n&&n[Ld]?n.N(e,t,Md(r)?!!r.capture:!!r,o):Qw(n,e,t,!1,r,o)}function Qw(n,e,t,r,o,l){if(!e)throw Error("Invalid event type");var h=Md(o)?!!o.capture:!!o,m=Df(n);if(m||(n[Ey]=m=new zg(n)),(t=m.add(e,t,r,h,l)).proxy)return t;if(r=function Jw(){var e=Iy;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Ww||(o=h),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(nE(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Xw(n,e,t,r,o){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Xw(n,e[l],t,r,o);return null}return t=rE(t),n&&n[Ld]?n.O(e,t,Md(r)?!!r.capture:!!r,o):Qw(n,e,t,!0,r,o)}function eE(n,e,t,r,o){if(Array.isArray(e))for(var l=0;l<e.length;l++)eE(n,e[l],t,r,o);else r=Md(r)?!!r.capture:!!r,t=rE(t),n&&n[Ld]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Kg(l=n.g[e],t,r,o))&&(Tf(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Df(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Kg(e,t,r,o)),(t=-1<n?e[n]:null)&&tE(t))}function tE(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Ld])Wg(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(nE(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Df(e))?(Wg(t,n),0==t.h&&(t.src=null,e[Ey]=null)):Tf(n)}}}function nE(n){return n in by?by[n]:by[n]="on"+n}function Iy(n,e){if(n.ca)n=!0;else{e=new Fd(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&tE(n),n=t.call(r,e)}return n}function Df(n){return(n=n[Ey])instanceof zg?n:null}var Ty="__closure_events_fn_"+(1e9*Math.random()>>>0);function rE(n){return"function"==typeof n?n:(n[Ty]||(n[Ty]=function(e){return n.handleEvent(e)}),n[Ty])}function Xr(){Kl.call(this),this.i=new zg(this),this.P=this,this.I=null}function gi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Jr(e,n);else if(e instanceof Jr)e.target=e.target||n;else{var o=e;vo(e=new Jr(r,n),o)}if(o=!0,t)for(var l=t.length-1;0<=l;l--){var h=e.g=t[l];o=Yg(h,r,!0,e)&&o}if(o=Yg(h=e.g=n,r,!0,e)&&o,o=Yg(h,r,!1,e)&&o,t)for(l=0;l<t.length;l++)o=Yg(h=e.g=t[l],r,!1,e)&&o}function Yg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,l=0;l<e.length;++l){var h=e[l];if(h&&!h.ca&&h.capture==t){var m=h.listener,E=h.ia||h.src;h.fa&&Wg(n.i,h),o=!1!==m.call(E,r)&&o}}return o&&!r.defaultPrevented}Qr(Xr,Kl),Xr.prototype[Ld]=!0,Xr.prototype.removeEventListener=function(n,e,t,r){eE(this,n,e,t,r)},Xr.prototype.M=function(){if(Xr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Tf(t[r]);delete n.g[e],n.h--}}this.I=null},Xr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Xr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Qg=yt.JSON.stringify;function yA(){var n=Sy;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Jg,ec=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new yI,n=>n.reset());class yI{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function iE(n){yt.setTimeout(()=>{throw n},0)}function Dy(n,e){Jg||function Xg(){var n=yt.Promise.resolve(void 0);Jg=function(){n.then(vI)}}(),Ay||(Jg(),Ay=!0),Sy.add(n,e)}var Ay=!1,Sy=new class _I{constructor(){this.h=this.g=null}add(e,t){const r=ec.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function vI(){for(var n;n=yA();){try{n.h.call(n.g)}catch(t){iE(t)}var e=ec;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ay=!1}function em(n,e){Xr.call(this),this.h=n||1,this.g=e||yt,this.j=Rr(this.kb,this),this.l=Date.now()}function xy(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function My(n,e,t){if("function"==typeof n)t&&(n=Rr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Rr(n.handleEvent,n)}return 2147483647<Number(e)?-1:yt.setTimeout(n,e||0)}function sE(n){n.g=My(()=>{n.g=null,n.i&&(n.i=!1,sE(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Qr(em,Xr),(Je=em.prototype).da=!1,Je.S=null,Je.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),gi(this,"tick"),this.da&&(xy(this),this.start()))}},Je.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Je.M=function(){em.Z.M.call(this),xy(this),delete this.g};class oE extends Kl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:sE(this)}M(){super.M(),this.g&&(yt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Af(n){Kl.call(this),this.h=n,this.g={}}Qr(Af,Kl);var Oy=[];function Ny(n,e,t,r){Array.isArray(t)||(t&&(Oy[0]=t.toString()),t=Oy);for(var o=0;o<t.length;o++){var l=Cy(e,t[o],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function tm(n){vy(n.g,function(e,t){this.g.hasOwnProperty(t)&&tE(e)},n),n.g={}}function ky(){this.g=!0}function Sf(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function aE(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<o.length;h++)o[h]=""}}}return Qg(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}Af.prototype.M=function(){Af.Z.M.call(this),tm(this)},Af.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ky.prototype.Aa=function(){this.g=!1},ky.prototype.info=function(){};var Ha={},nm=null;function rm(){return nm=nm||new Xr}function im(n){Jr.call(this,Ha.Ma,n)}function tc(n){const e=rm();gi(e,new im(e,n))}function Py(n,e){Jr.call(this,Ha.STAT_EVENT,n),this.stat=e}function zi(n){const e=rm();gi(e,new Py(e,n))}function uE(n,e){Jr.call(this,Ha.Na,n),this.size=e}function nc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return yt.setTimeout(function(){n()},e)}Ha.Ma="serverreachability",Qr(im,Jr),Ha.STAT_EVENT="statevent",Qr(Py,Jr),Ha.Na="timingevent",Qr(uE,Jr);var Vd={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Fy={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function sm(){}function Ly(){}sm.prototype.h=null;var Vy,Ud={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Mf(){Jr.call(this,"d")}function am(){Jr.call(this,"c")}function Of(){}function Bd(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Af(this),this.P=lE,this.W=new em(n=If?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new um}function um(){this.i=null,this.g="",this.h=!1}Qr(Mf,Jr),Qr(am,Jr),Qr(Of,sm),Of.prototype.g=function(){return new XMLHttpRequest},Of.prototype.i=function(){return{}},Vy=new Of;var lE=45e3,Uy={},Nf={};function lm(n,e,t){n.K=1,n.v=gm(Za(e)),n.s=t,n.U=!0,cm(n,null)}function cm(n,e){n.F=Date.now(),jd(n),n.A=Za(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Gy(t.h,"t",r),n.C=0,t=n.l.H,n.h=new um,n.g=Cm(n.l,t?e:null,!n.s),0<n.O&&(n.L=new oE(Rr(n.Ia,n,n.g),n.O)),Ny(n.V,n.g,"readystatechange",n.gb),e=n.H?Gw(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),tc(1),function Ry(n,e,t,r,o,l){n.info(function(){if(n.g)if(l)for(var h="",m=l.split("&"),E=0;E<m.length;E++){var T=m[E].split("=");if(1<T.length){var M=T[0];T=T[1];var N=M.split("_");h=2<=N.length&&"type"==N[1]?h+(M+"=")+T+"&":h+(M+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function dm(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function By(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=cE(n,t),o==Nf){4==e&&(n.o=4,zi(14),r=!1),Sf(n.j,n.m,null,"[Incomplete Response]");break}if(o==Uy){n.o=4,zi(15),Sf(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Sf(n.j,n.m,o,null),hm(n,o)}dm(n)&&o!=Nf&&o!=Uy&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,zi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),bm(e),e.L=!0,zi(11))):(Sf(n.j,n.m,t,"[Invalid Chunked Response]"),ju(n),Hd(n))}function cE(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Nf:(t=Number(e.substring(t,r)),isNaN(t)?Uy:(r+=1)+t>e.length?Nf:(e=e.substr(r,t),n.C=r+t,e))}function jd(n){n.Y=Date.now()+n.P,jy(n,n.P)}function jy(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=nc(Rr(n.eb,n),e)}function kf(n){n.B&&(yt.clearTimeout(n.B),n.B=null)}function Hd(n){0==n.l.G||n.I||Zu(n.l,n)}function ju(n){kf(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,xy(n.W),tm(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function hm(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||_m(t.i,n)))if(t.I=n.N,!n.J&&_m(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(T){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=nc(Rr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Bf(t),vm(t)}Em(t),zi(18)}if(1>=pE(t.i)&&t.ka){try{t.ka()}catch(T){}t.ka=void 0}}else sc(t,11)}else if((n.J||t.g==n)&&Bf(t),!$g(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let T=o[e];if(t.U=T[0],T=T[1],2==t.G)if("c"==T[0]){t.J=T[1],t.la=T[2];const M=T[3];null!=M&&(t.ma=M,t.h.info("VER="+t.ma));const N=T[4];null!=N&&(t.za=N,t.h.info("SVER="+t.za));const V=T[5];null!=V&&"number"==typeof V&&0<V&&(t.K=r=1.5*V,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const Z=n.g;if(Z){const he=Z.g?Z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(he){var l=r.i;!l.g&&(Oi(he,"spdy")||Oi(he,"quic")||Oi(he,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(Wy(l,l.h),l.h=null))}if(r.D){const Fe=Z.g?Z.g.getResponseHeader("X-HTTP-Session-Id"):null;Fe&&(r.sa=Fe,Xt(r.F,r.D,Fe))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=NI(r,r.H?r.la:null,r.W),h.J){Ky(r.i,h);var m=h,E=r.K;E&&m.setTimeout(E),m.B&&(kf(m),jd(m)),r.g=h}else rv(r);0<t.l.length&&Uf(t)}else"stop"!=T[0]&&"close"!=T[0]||sc(t,7);else 3==t.G&&("stop"==T[0]||"close"==T[0]?"stop"==T[0]?sc(t,7):ev(t):"noop"!=T[0]&&t.j&&t.j.wa(T),t.A=0)}tc(4)}catch(T){}}function Hy(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Hg(n)||"string"==typeof n)Zg(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Hg(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function vA(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Hg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var l=0;l<o;l++)e.call(void 0,r[l],t&&t[l],n)}}function Zd(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Zd)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function fm(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];rc(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)rc(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function rc(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Je=Bd.prototype).setTimeout=function(n){this.P=n},Je.gb=function(n){n=n.target;const e=this.L;e&&3==$a(n)?e.l():this.Ia(n)},Je.Ia=function(n){try{if(n==this.g)e:{const M=$a(this.g);var e=this.g.Da();const N=this.g.ba();if(!(3>M)&&(3!=M||If||this.g&&(this.h.h||this.g.ga()||bE(this.g)))){this.I||4!=M||7==e||tc(8==e||0>=N?3:2),kf(this);var t=this.g.ba();this.N=t;t:if(dm(this)){var r=bE(this.g);n="";var o=r.length,l=4==$a(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ju(this),Hd(this);var h="";break t}this.h.i=new yt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function wI(n,e,t,r,o,l,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,M,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,E=this.g;if((m=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$g(m)){var T=m;break t}}T=null}if(!(t=T)){this.i=!1,this.o=3,zi(12),ju(this),Hd(this);break e}Sf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,hm(this,t)}this.U?(By(this,M,h),If&&this.i&&3==M&&(Ny(this.V,this.W,"tick",this.fb),this.W.start())):(Sf(this.j,this.m,h,null),hm(this,h)),4==M&&ju(this),this.i&&!this.I&&(4==M?Zu(this.l,this):(this.i=!1,jd(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,zi(12)):(this.o=0,zi(13)),ju(this),Hd(this)}}}catch(M){}},Je.fb=function(){if(this.g){var n=$a(this.g),e=this.g.ga();this.C<e.length&&(kf(this),By(this,n,e),this.i&&4!=n&&jd(this))}},Je.cancel=function(){this.I=!0,ju(this)},Je.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function xf(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(tc(3),zi(17)),ju(this),this.o=2,Hd(this)):jy(this,this.Y-n)},(Je=Zd.prototype).R=function(){fm(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Je.T=function(){return fm(this),this.g.concat()},Je.get=function(n,e){return rc(this.h,n)?this.h[n]:e},Je.set=function(n,e){rc(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Je.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],l=this.get(o);n.call(e,l,o,this)}};var rr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ic(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof ic){this.g=void 0!==e?e:n.g,Rf(this,n.j),this.s=n.s,pm(this,n.i),Pf(this,n.m),this.l=n.l,e=n.h;var t=new Wi;t.i=e.i,e.g&&(t.g=new Zd(e.g),t.h=e.h),Zy(this,t),this.o=n.o}else n&&(t=String(n).match(rr))?(this.g=!!e,Rf(this,t[1]||"",!0),this.s=Ff(t[2]||""),pm(this,t[3]||"",!0),Pf(this,t[4]),this.l=Ff(t[5]||"",!0),Zy(this,t[6]||"",!0),this.o=Ff(t[7]||"")):(this.g=!!e,this.h=new Wi(null,this.g))}function Za(n){return new ic(n)}function Rf(n,e,t){n.j=t?Ff(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function pm(n,e,t){n.i=t?Ff(e,!0):e}function Pf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Zy(n,e,t){e instanceof Wi?(n.h=e,function II(n,e){e&&!n.j&&(Pr(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(Gs(this,r),Gy(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=$d(e,bI)),n.h=new Wi(e,n.g))}function Xt(n,e,t){n.h.set(e,t)}function gm(n){return Xt(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ff(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function $d(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,wA),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function wA(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ic.prototype.toString=function(){var n=[],e=this.j;e&&n.push($d(e,mm,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push($d(e,mm,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push($d(t,"/"==t.charAt(0)?Wo:$y,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",$d(t,CI)),n.join("")};var mm=/[#\/\?@]/g,$y=/[#\?:]/g,Wo=/[#\?]/g,bI=/[#\?@]/g,CI=/#/g;function Wi(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Pr(n){n.g||(n.g=new Zd,n.h=0,n.i&&function dE(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var l=n[t].substring(0,r);o=n[t].substring(r+1)}else l=n[t];e(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Gs(n,e){Pr(n),e=qd(n,e),rc(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,rc((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&fm(n)))}function qy(n,e){return Pr(n),e=qd(n,e),rc(n.g.h,e)}function Gy(n,e,t){Gs(n,e),0<t.length&&(n.i=null,n.g.set(qd(n,e),yy(t)),n.h+=t.length)}function qd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function fE(n){this.l=n||zy,n=yt.PerformanceNavigationTiming?0<(n=yt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(yt.g&&yt.g.Ea&&yt.g.Ea()&&yt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Je=Wi.prototype).add=function(n,e){Pr(this),this.i=null,n=qd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Je.forEach=function(n,e){Pr(this),this.g.forEach(function(t,r){Zg(t,function(o){n.call(e,o,r,this)},this)},this)},Je.T=function(){Pr(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],l=0;l<o.length;l++)t.push(e[r]);return t},Je.R=function(n){Pr(this);var e=[];if("string"==typeof n)qy(this,n)&&(e=Zw(e,this.g.get(qd(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Zw(e,n[t])}return e},Je.set=function(n,e){return Pr(this),this.i=null,qy(this,n=qd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Je.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Je.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var h=o;""!==r[l]&&(h+="="+encodeURIComponent(String(r[l]))),n.push(h)}}return this.i=n.join("&")};var zy=10;function Gd(n){return!!n.h||!!n.g&&n.g.size>=n.j}function pE(n){return n.h?1:n.g?n.g.size:0}function _m(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Wy(n,e){n.g?n.g.add(e):n.h=e}function Ky(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Yy(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return yy(n.i)}function zd(){}function DI(){this.g=new zd}function gE(n,e,t){const r=t||"";try{Hy(n,function(o,l){let h=o;Md(o)&&(h=Qg(o)),e.push(r+l+"="+encodeURIComponent(h))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Wd(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(l){}}function Hu(n){this.l=n.$b||null,this.j=n.ib||!1}function Kd(n,e){Xr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Lf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fE.prototype.cancel=function(){if(this.i=Yy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},zd.prototype.stringify=function(n){return yt.JSON.stringify(n,void 0)},zd.prototype.parse=function(n){return yt.JSON.parse(n,void 0)},Qr(Hu,sm),Hu.prototype.g=function(){return new Kd(this.l,this.j)},Hu.prototype.i=function(n){return function(){return n}}({}),Qr(Kd,Xr);var Lf=0;function Qy(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Yd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Qd(n)}function Qd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Je=Kd.prototype).open=function(n,e){if(this.readyState!=Lf)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Qd(this)},Je.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||yt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Je.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yd(this)),this.readyState=Lf},Je.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Qd(this)),this.g&&(this.readyState=3,Qd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==yt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Qy(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Je.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Yd(this):Qd(this),3==this.readyState&&Qy(this)}},Je.Ua=function(n){this.g&&(this.response=this.responseText=n,Yd(this))},Je.Ta=function(n){this.g&&(this.response=n,Yd(this))},Je.ha=function(){this.g&&Yd(this)},Je.setRequestHeader=function(n,e){this.v.append(n,e)},Je.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Je.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Kd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var _E=yt.JSON.parse;function Yn(n){Xr.call(this),this.headers=new Zd,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Jy,this.K=this.L=!1}Qr(Yn,Xr);var Jy="",AI=/^https?$/i,SI=["POST","PUT"];function MI(n){return"content-type"==n.toLowerCase()}function yE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,vE(n),ym(n)}function vE(n){n.D||(n.D=!0,gi(n,"complete"),gi(n,"error"))}function wE(n){if(n.h&&void 0!==Uw&&(!n.C[1]||4!=$a(n)||2!=n.ba()))if(n.v&&4==$a(n))My(n.Fa,0,n);else if(gi(n,"readystatechange"),4==$a(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(rr)[1]||null;if(!o&&yt.self&&yt.self.location){var l=yt.self.location.protocol;o=l.substr(0,l.length-1)}r=!AI.test(o?o.toLowerCase():"")}t=r}if(t)gi(n,"complete"),gi(n,"success");else{n.m=6;try{var h=2<$a(n)?n.g.statusText:""}catch(E){h=""}n.j=h+" ["+n.ba()+"]",vE(n)}}finally{ym(n)}}}function ym(n,e){if(n.g){EE(n);const t=n.g,r=n.C[0]?jg:null;n.g=null,n.C=null,e||gi(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function EE(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(yt.clearTimeout(n.A),n.A=null)}function $a(n){return n.g?n.g.readyState:0}function bE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Jy:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Xy(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function OI(n){let e="";return vy(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Xt(n,e,t))}function Vf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function CE(n){this.za=0,this.l=[],this.h=new ky,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Vf("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Vf("baseRetryDelayMs",5e3,n),this.$a=Vf("retryDelaySeedMs",1e4,n),this.Ya=Vf("forwardChannelMaxRetries",2,n),this.ra=Vf("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new fE(n&&n.concurrentRequestLimit),this.Ca=new DI,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function ev(n){if(IE(n),3==n.G){var e=n.V++,t=Za(n.F);Xt(t,"SID",n.J),Xt(t,"RID",e),Xt(t,"TYPE","terminate"),Jd(n,t),(e=new Bd(n,n.h,e,void 0)).K=2,e.v=gm(Za(t)),t=!1,yt.navigator&&yt.navigator.sendBeacon&&(t=yt.navigator.sendBeacon(e.v.toString(),"")),!t&&yt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Cm(e.l,null),e.g.ea(e.v)),e.F=Date.now(),jd(e)}oc(n)}function vm(n){n.g&&(bm(n),n.g.cancel(),n.g=null)}function IE(n){vm(n),n.u&&(yt.clearTimeout(n.u),n.u=null),Bf(n),n.i.cancel(),n.m&&("number"==typeof n.m&&yt.clearTimeout(n.m),n.m=null)}function wm(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Uf(n)}function Uf(n){Gd(n.i)||n.m||(n.m=!0,Dy(n.Ha,n),n.C=0)}function tv(n,e){var t;t=e?e.m:n.V++;const r=Za(n.F);Xt(r,"SID",n.J),Xt(r,"RID",t),Xt(r,"AID",n.U),Jd(n,r),n.o&&n.s&&Xy(r,n.o,n.s),t=new Bd(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=nv(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Wy(n.i,t),lm(t,r,e)}function Jd(n,e){n.j&&Hy({},function(t,r){Xt(e,r,t)})}function nv(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Rr(n.j.Oa,n.j,n):null;e:{var o=n.l;let l=-1;for(;;){const h=["count="+t];-1==l?0<t?(l=o[0].h,h.push("ofs="+l)):l=0:h.push("ofs="+l);let m=!0;for(let E=0;E<t;E++){let T=o[E].h;const M=o[E].g;if(T-=l,0>T)l=Math.max(0,o[E].h-100),m=!1;else try{gE(M,h,"req"+T+"_")}catch(N){r&&r(M)}}if(m){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function rv(n){n.g||n.u||(n.Y=1,Dy(n.Ga,n),n.A=0)}function Em(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=nc(Rr(n.Ga,n),DE(n,n.A)),n.A++,0))}function bm(n){null!=n.B&&(yt.clearTimeout(n.B),n.B=null)}function iv(n){n.g=new Bd(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Za(n.oa);Xt(e,"RID","rpc"),Xt(e,"SID",n.J),Xt(e,"CI",n.N?"0":"1"),Xt(e,"AID",n.U),Jd(n,e),Xt(e,"TYPE","xmlhttp"),n.o&&n.s&&Xy(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=gm(Za(e)),t.s=null,t.U=!0,cm(t,n)}function Bf(n){null!=n.v&&(yt.clearTimeout(n.v),n.v=null)}function Zu(n,e){var t=null;if(n.g==e){Bf(n),bm(n),n.g=null;var r=2}else{if(!_m(n.i,e))return;t=e.D,Ky(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;gi(r=rm(),new uE(r,t,e,o)),Uf(n)}else rv(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function TE(n,e){return!(pE(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=nc(Rr(n.Ha,n,e),DE(n,n.C)),n.C++,0)))}(n,e)||2==r&&Em(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:sc(n,5);break;case 4:sc(n,10);break;case 3:sc(n,6);break;default:sc(n,2)}}function DE(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function sc(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Rr(n.jb,n);t||(t=new ic("//www.google.com/images/cleardot.gif"),yt.location&&"http"==yt.location.protocol||Rf(t,"https"),gm(t)),function mE(n,e){const t=new ky;if(yt.Image){const r=new Image;r.onload=Cf(Wd,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Cf(Wd,t,r,"TestLoadImage: error",!1,e),r.onabort=Cf(Wd,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Cf(Wd,t,r,"TestLoadImage: timeout",!1,e),yt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else zi(2);n.G=0,n.j&&n.j.va(e),oc(n),IE(n)}function oc(n){n.G=0,n.I=-1,n.j&&((0!=Yy(n.i).length||0!=n.l.length)&&(n.i.i.length=0,yy(n.l),n.l.length=0),n.j.ua())}function NI(n,e,t){let r=function EI(n){return n instanceof ic?Za(n):new ic(n,void 0)}(t);if(""!=r.i)e&&pm(r,e+"."+r.i),Pf(r,r.m);else{const o=yt.location;r=function hE(n,e,t,r){var o=new ic(null,void 0);return n&&Rf(o,n),e&&pm(o,e),t&&Pf(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&vy(n.aa,function(o,l){Xt(r,l,o)}),t=n.sa,(e=n.D)&&t&&Xt(r,e,t),Xt(r,"VER",n.ma),Jd(n,r),r}function Cm(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Yn(t&&n.Ba&&!n.qa?new Hu({ib:!0}):n.qa)).L=n.H,e}function kI(){}function jf(){if(Ba&&!(10<=Number(zw)))throw Error("Environmental error: no available transport.")}function Ki(n,e){Xr.call(this),this.g=new CE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!$g(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$g(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Xd(this)}function RI(n){Mf.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function dt(){am.call(this),this.status=1}function Xd(n){this.g=n}(Je=Yn.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Vy.g(),this.C=function om(n){return n.h||(n.h=n.i())}(this.u?this.u:Vy),this.g.onreadystatechange=Rr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void yE(this,l)}n=t||"";const o=new Zd(this.headers);r&&Hy(r,function(l,h){o.set(h,l)}),r=function gI(n){e:{var e=MI;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=yt.FormData&&n instanceof yt.FormData,!(0<=Hw(SI,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{EE(this),0<this.B&&((this.K=function xI(n){return Ba&&function Pd(){return function pi(n){var e=Rd;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=$w(String(ja)).split("."),t=$w("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var o=e[h]||"",l=t[h]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==o[0].length&&0==l[0].length)break;n=Od(0==o[1].length?0:parseInt(o[1],10),0==l[1].length?0:parseInt(l[1],10))||Od(0==o[2].length,0==l[2].length)||Od(o[2],l[2]),o=o[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Rr(this.pa,this)):this.A=My(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){yE(this,l)}},Je.pa=function(){void 0!==Uw&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gi(this,"timeout"),this.abort(8))},Je.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,gi(this,"complete"),gi(this,"abort"),ym(this))},Je.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ym(this,!0)),Yn.Z.M.call(this)},Je.Fa=function(){this.s||(this.F||this.v||this.l?wE(this):this.cb())},Je.cb=function(){wE(this)},Je.ba=function(){try{return 2<$a(this)?this.g.status:-1}catch(n){return-1}},Je.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Je.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),_E(e)}},Je.Da=function(){return this.m},Je.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Je=CE.prototype).ma=8,Je.G=1,Je.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Je.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new Bd(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=Gw(l),vo(l,this.P)):l=this.P),null===this.o&&(o.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=nv(this,o,e),Xt(t=Za(this.F),"RID",n),Xt(t,"CVER",22),this.D&&Xt(t,"X-HTTP-Session-Id",this.D),Jd(this,t),this.o&&l&&Xy(t,this.o,l),Wy(this.i,o),this.Ra&&Xt(t,"TYPE","init"),this.ja?(Xt(t,"$req",e),Xt(t,"SID","null"),o.$=!0,lm(o,t,null)):lm(o,t,e),this.G=2}}else 3==this.G&&(n?tv(this,n):0==this.l.length||Gd(this.i)||tv(this))},Je.Ga=function(){if(this.u=null,iv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=nc(Rr(this.bb,this),n)}},Je.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,zi(10),vm(this),iv(this))},Je.ab=function(){null!=this.v&&(this.v=null,vm(this),Em(this),zi(19))},Je.jb=function(n){n?(this.h.info("Successfully pinged google.com"),zi(2)):(this.h.info("Failed to ping google.com"),zi(1))},(Je=kI.prototype).xa=function(){},Je.wa=function(){},Je.va=function(){},Je.ua=function(){},Je.Oa=function(){},jf.prototype.g=function(n,e){return new Ki(n,e)},Qr(Ki,Xr),Ki.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Dy(Rr(n.hb,n,e))),zi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=NI(n,null,n.W),Uf(n)},Ki.prototype.close=function(){ev(this.g)},Ki.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,wm(this.g,e)}else this.v?((e={}).__data__=Qg(n),wm(this.g,e)):wm(this.g,n)},Ki.prototype.M=function(){this.g.j=null,delete this.j,ev(this.g),delete this.g,Ki.Z.M.call(this)},Qr(RI,Mf),Qr(dt,am),Qr(Xd,kI),Xd.prototype.xa=function(){gi(this.g,"a")},Xd.prototype.wa=function(n){gi(this.g,new RI(n))},Xd.prototype.va=function(n){gi(this.g,new dt(n))},Xd.prototype.ua=function(){gi(this.g,"b")},jf.prototype.createWebChannel=jf.prototype.g,Ki.prototype.send=Ki.prototype.u,Ki.prototype.open=Ki.prototype.m,Ki.prototype.close=Ki.prototype.close,Vd.NO_ERROR=0,Vd.TIMEOUT=8,Vd.HTTP_ERROR=6,Fy.COMPLETE="complete",Ly.EventType=Ud,Ud.OPEN="a",Ud.CLOSE="b",Ud.ERROR="c",Ud.MESSAGE="d",Xr.prototype.listen=Xr.prototype.N,Yn.prototype.listenOnce=Yn.prototype.O,Yn.prototype.getLastError=Yn.prototype.La,Yn.prototype.getLastErrorCode=Yn.prototype.Da,Yn.prototype.getStatus=Yn.prototype.ba,Yn.prototype.getResponseJson=Yn.prototype.Qa,Yn.prototype.getResponseText=Yn.prototype.ga,Yn.prototype.send=Yn.prototype.ea;var PI=Ua.createWebChannelTransport=function(){return new jf},FI=Ua.getStatEventTarget=function(){return rm()},eh=Ua.ErrorCode=Vd,LI=Ua.EventType=Fy,Im=Ua.Event=Ha,Hf=Ua.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Bn=Ua.FetchXmlHttpFactory=Hu,sv=Ua.WebChannel=Ly,AE=Ua.XhrIo=Yn;const SE="@firebase/firestore";class ei{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ei.UNAUTHENTICATED=new ei(null),ei.GOOGLE_CREDENTIALS=new ei("google-credentials-uid"),ei.FIRST_PARTY=new ei("first-party-uid"),ei.MOCK_USER=new ei("mock-user");let ac="9.6.5";const qa=new Wl.Yd("@firebase/firestore");function Tm(){return qa.logLevel}function Re(n,...e){if(qa.logLevel<=Wl.in.DEBUG){const t=e.map(uc);qa.debug(`Firestore (${ac}): ${n}`,...t)}}function ir(n,...e){if(qa.logLevel<=Wl.in.ERROR){const t=e.map(uc);qa.error(`Firestore (${ac}): ${n}`,...t)}}function Zf(n,...e){if(qa.logLevel<=Wl.in.WARN){const t=e.map(uc);qa.warn(`Firestore (${ac}): ${n}`,...t)}}function uc(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function it(n="Unexpected state"){const e=`FIRESTORE (${ac}) INTERNAL ASSERTION FAILED: `+n;throw ir(e),new Error(e)}function _t(n,e){n||it()}function je(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends xt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _r{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ME{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $f{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ei.UNAUTHENTICATED))}shutdown(){}}class qf{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class UI{constructor(e){this.t=e,this.currentUser=ei.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const l=T=>this.i!==o?(o=this.i,t(T)):Promise.resolve();let h=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new _r,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const T=h;e.enqueueRetryable((0,ye.Z)(function*(){yield T.promise,yield l(r.currentUser)}))},E=T=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=T,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(T=>E(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?E(T):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new _r)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_t("string"==typeof r.accessToken),new ME(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return _t(null===e||"string"==typeof e),new ei(e)}}class BI{constructor(e,t,r){this.type="FirstParty",this.user=ei.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class jI{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new BI(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ei.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ov{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OE{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=o=>{e.enqueueRetryable(()=>{return null!=(l=o).error&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`),t(l.token);var l})};const r=o=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?r(o):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(_t("string"==typeof t.token),new ov(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ws{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.p(r),this.T=r=>t.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function NE(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}ws.I=-1;class kE{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=NE(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+=e.charAt(o[l]%e.length))}return r}}function Rt(n,e){return n<e?-1:n>e?1:0}function Gf(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function ZI(n){return n+"\0"}class ti{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Se(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ti.fromMillis(Date.now())}static fromDate(e){return ti.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ti(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Rt(this.nanoseconds,e.nanoseconds):Rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Et{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Et(e)}static min(){return new Et(new ti(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function av(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ko(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function RE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class zf{constructor(e,t,r){void 0===t?t=0:t>e.length&&it(),void 0===r?r=e.length-t:r>e.length-t&&it(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===zf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof zf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Gt extends zf{construct(e,t,r){return new Gt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Gt(t)}static emptyPath(){return new Gt([])}}const Wf=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ni extends zf{construct(e,t,r){return new ni(e,t,r)}static isValidIdentifier(e){return Wf.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ni.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ni(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(0===r.length)throw new Se(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Se(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[o+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new Se(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,o+=2}else"`"===m?(h=!h,o++):"."!==m||h?(r+=m,o++):(l(),o++)}if(l(),h)throw new Se(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ni(t)}static emptyPath(){return new ni([])}}class th{constructor(e){this.fields=e,e.sort(ni.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Gf(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class yr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new yr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new yr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yr.EMPTY_BYTE_STRING=new yr("");const qI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ga(n){if(_t(!!n),"string"==typeof n){let e=0;const t=qI.exec(n);if(_t(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:sr(n.seconds),nanos:sr(n.nanos)}}function sr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function nh(n){return"string"==typeof n?yr.fromBase64String(n):yr.fromUint8Array(n)}function $u(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function PE(n){const e=n.mapValue.fields.__previous_value__;return $u(e)?PE(e):e}function rh(n){const e=Ga(n.mapValue.fields.__local_write_time__.timestampValue);return new ti(e.seconds,e.nanos)}function lc(n){return null==n}function Kf(n){return 0===n&&1/n==-1/0}function FE(n){return"number"==typeof n&&Number.isInteger(n)&&!Kf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class et{constructor(e){this.path=e}static fromPath(e){return new et(Gt.fromString(e))}static fromName(e){return new et(Gt.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Gt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new Gt(e.slice()))}}function cc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$u(n)?4:10:it()}function zs(n,e){if(n===e)return!0;const t=cc(n);if(t!==cc(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return rh(n).isEqual(rh(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=Ga(r.timestampValue),h=Ga(o.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,nh(n.bytesValue).isEqual(nh(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return sr(r.geoPointValue.latitude)===sr(o.geoPointValue.latitude)&&sr(r.geoPointValue.longitude)===sr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return sr(r.integerValue)===sr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=sr(r.doubleValue),h=sr(o.doubleValue);return l===h?Kf(l)===Kf(h):isNaN(l)&&isNaN(h)}return!1}(n,e);case 9:return Gf(n.arrayValue.values||[],e.arrayValue.values||[],zs);case 10:return function(r,o){const l=r.mapValue.fields||{},h=o.mapValue.fields||{};if(av(l)!==av(h))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===h[m]||!zs(l[m],h[m])))return!1;return!0}(n,e);default:return it()}var o}function Yf(n,e){return void 0!==(n.values||[]).find(t=>zs(t,e))}function dc(n,e){if(n===e)return 0;const t=cc(n),r=cc(e);if(t!==r)return Rt(t,r);switch(t){case 0:return 0;case 1:return Rt(n.booleanValue,e.booleanValue);case 2:return function(o,l){const h=sr(o.integerValue||o.doubleValue),m=sr(l.integerValue||l.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(n,e);case 3:return uv(n.timestampValue,e.timestampValue);case 4:return uv(rh(n),rh(e));case 5:return Rt(n.stringValue,e.stringValue);case 6:return function(o,l){const h=nh(o),m=nh(l);return h.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const h=o.split("/"),m=l.split("/");for(let E=0;E<h.length&&E<m.length;E++){const T=Rt(h[E],m[E]);if(0!==T)return T}return Rt(h.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const h=Rt(sr(o.latitude),sr(l.latitude));return 0!==h?h:Rt(sr(o.longitude),sr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,l){const h=o.values||[],m=l.values||[];for(let E=0;E<h.length&&E<m.length;++E){const T=dc(h[E],m[E]);if(T)return T}return Rt(h.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,l){const h=o.fields||{},m=Object.keys(h),E=l.fields||{},T=Object.keys(E);m.sort(),T.sort();for(let M=0;M<m.length&&M<T.length;++M){const N=Rt(m[M],T[M]);if(0!==N)return N;const V=dc(h[m[M]],E[T[M]]);if(0!==V)return V}return Rt(m.length,T.length)}(n.mapValue,e.mapValue);default:throw it()}}function uv(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Rt(n,e);const t=Ga(n),r=Ga(e),o=Rt(t.seconds,r.seconds);return 0!==o?o:Rt(t.nanos,r.nanos)}function lv(n){return cv(n)}function cv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Ga(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?nh(n.bytesValue).toBase64():"referenceValue"in n?et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",l=!0;for(const h of r.values||[])l?l=!1:o+=",",o+=cv(h);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",h=!0;for(const m of o)h?h=!1:l+=",",l+=`${m}:${cv(r.fields[m])}`;return l+"}"}(n.mapValue):it();var e}function Dm(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Qf(n){return!!n&&"integerValue"in n}function dv(n){return!!n&&"arrayValue"in n}function hv(n){return!!n&&"nullValue"in n}function LE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Am(n){return!!n&&"mapValue"in n}function Jf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ko(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Jf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Jf(n.arrayValue.values[t]);return e}return Object.assign({},n)}class mi{constructor(e){this.value=e}static empty(){return new mi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Am(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jf(t)}setAll(e){let t=ni.emptyPath(),r={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const E=this.getFieldsMap(t);this.applyChanges(E,r,o),r={},o=[],t=m.popLast()}h?r[m.lastSegment()]=Jf(h):o.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());Am(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Am(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Ko(t,(o,l)=>e[o]=l);for(const o of r)delete e[o]}clone(){return new mi(Jf(this.value))}}function VE(n){const e=[];return Ko(n.fields,(t,r)=>{const o=new ni([t]);if(Am(r)){const l=VE(r.mapValue).fields;if(0===l.length)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new th(e)}class Cn{constructor(e,t,r,o,l){this.key=e,this.documentType=t,this.version=r,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Cn(e,0,Et.min(),mi.empty(),0)}static newFoundDocument(e,t,r){return new Cn(e,1,t,r,0)}static newNoDocument(e,t){return new Cn(e,2,t,mi.empty(),0)}static newUnknownDocument(e,t){return new Cn(e,3,t,mi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class GI{constructor(e,t=null,r=[],o=[],l=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=h,this.endAt=m,this.R=null}}function UE(n,e=null,t=[],r=[],o=null,l=null,h=null){return new GI(n,e,t,r,o,l,h)}function ih(n){const e=je(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function zI(n){return n.field.canonicalString()+n.op.toString()+lv(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),lc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Om(e.startAt)),e.endAt&&(t+="|ub:",t+=Om(e.endAt)),e.R=t}return e.R}function Sm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!JI(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!zs(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!HE(n.startAt,e.startAt)&&HE(n.endAt,e.endAt)}function xm(n){return et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class _i extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new WI(e,t,r):"array-contains"===t?new jE(e,r):"in"===t?new pv(e,r):"not-in"===t?new YI(e,r):"array-contains-any"===t?new QI(e,r):new _i(e,t,r)}static P(e,t,r){return"in"===t?new KI(e,r):new fv(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(dc(t,this.value)):null!==t&&cc(this.value)===cc(t)&&this.v(dc(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return it()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class WI extends _i{constructor(e,t,r){super(e,t,r),this.key=et.fromName(r.referenceValue)}matches(e){const t=et.comparator(e.key,this.key);return this.v(t)}}class KI extends _i{constructor(e,t){super(e,"in",t),this.keys=Mm(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class fv extends _i{constructor(e,t){super(e,"not-in",t),this.keys=Mm(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Mm(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>et.fromName(r.referenceValue))}class jE extends _i{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return dv(t)&&Yf(t.arrayValue,this.value)}}class pv extends _i{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Yf(this.value.arrayValue,t)}}class YI extends _i{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Yf(this.value.arrayValue,t)}}class QI extends _i{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!dv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Yf(this.value.arrayValue,r))}}class hc{constructor(e,t){this.position=e,this.before=t}}function Om(n){return`${n.before?"b":"a"}:${n.position.map(e=>lv(e)).join(",")}`}class fc{constructor(e,t="asc"){this.field=e,this.dir=t}}function JI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function gv(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const l=e[o],h=n.position[o];if(r=l.field.isKeyField()?et.comparator(et.fromName(h.referenceValue),t.key):dc(h,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function HE(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!zs(n.position[t],e.position[t]))return!1;return!0}class Yo{constructor(e,t=null,r=[],o=[],l=null,h="F",m=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=h,this.startAt=m,this.endAt=E,this.S=null,this.D=null}}function XI(n,e,t,r,o,l,h,m){return new Yo(n,e,t,r,o,l,h,m)}function sh(n){return new Yo(n)}function qu(n){return!lc(n.limit)&&"F"===n.limitType}function Nm(n){return!lc(n.limit)&&"L"===n.limitType}function Gu(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function pc(n){for(const e of n.filters)if(e.V())return e.field;return null}function mv(n){return null!==n.collectionGroup}function Xf(n){const e=je(n);if(null===e.S){e.S=[];const t=pc(e),r=Gu(e);if(null!==t&&null===r)t.isKeyField()||e.S.push(new fc(t)),e.S.push(new fc(ni.keyField(),"asc"));else{let o=!1;for(const l of e.explicitOrderBy)e.S.push(l),l.field.isKeyField()&&(o=!0);if(!o){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new fc(ni.keyField(),l))}}}return e.S}function Es(n){const e=je(n);if(!e.D)if("F"===e.limitType)e.D=UE(e.path,e.collectionGroup,Xf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Xf(e))t.push(new fc(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new hc(e.endAt.position,!e.endAt.before):null,o=e.startAt?new hc(e.startAt.position,!e.startAt.before):null;e.D=UE(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.D}function ZE(n,e,t){return new Yo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ep(n,e){return Sm(Es(n),Es(e))&&n.limitType===e.limitType}function $E(n){return`${ih(Es(n))}|lt:${n.limitType}`}function _v(n){return`Query(target=${function BE(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${lv(r.value)}`;var r}).join(", ")}]`),lc(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+Om(n.startAt)),n.endAt&&(e+=", endAt: "+Om(n.endAt)),`Target(${e})`}(Es(n))}; limitType=${n.limitType})`}function oh(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):et.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!gv(t.startAt,Xf(t),r)||t.endAt&&gv(t.endAt,Xf(t),r)));var t,r}function yv(n){return(e,t)=>{let r=!1;for(const o of Xf(n)){const l=vv(o,e,t);if(0!==l)return l;r=r||o.field.isKeyField()}return 0}}function vv(n,e,t){const r=n.field.isKeyField()?et.comparator(e.key,t.key):function(o,l,h){const m=l.data.field(o),E=h.data.field(o);return null!==m&&null!==E?dc(m,E):it()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return it()}}function tp(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kf(e)?"-0":e}}function ah(n){return{integerValue:""+n}}function qE(n,e){return FE(e)?ah(e):tp(n,e)}class np{constructor(){this._=void 0}}function GE(n,e,t){return n instanceof uh?function(r,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof za?WE(n,e):n instanceof lh?KE(n,e):function(r,o){const l=zE(r,o),h=gc(l)+gc(r.N);return Qf(l)&&Qf(r.N)?ah(h):tp(r.k,h)}(n,e)}function eT(n,e,t){return n instanceof za?WE(n,e):n instanceof lh?KE(n,e):t}function zE(n,e){return n instanceof ch?Qf(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class uh extends np{}class za extends np{constructor(e){super(),this.elements=e}}function WE(n,e){const t=wv(e);for(const r of n.elements)t.some(o=>zs(o,r))||t.push(r);return{arrayValue:{values:t}}}class lh extends np{constructor(e){super(),this.elements=e}}function KE(n,e){let t=wv(e);for(const r of n.elements)t=t.filter(o=>!zs(o,r));return{arrayValue:{values:t}}}class ch extends np{constructor(e,t){super(),this.k=e,this.N=t}}function gc(n){return sr(n.integerValue||n.doubleValue)}function wv(n){return dv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Qo{constructor(e,t){this.field=e,this.transform=t}}class YE{constructor(e,t){this.version=e,this.transformResults=t}}class or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ev(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class rp{}function bA(n,e,t){n instanceof dh?function(r,o,l){const h=r.value.clone(),m=JE(r.fieldTransforms,o,l.transformResults);h.setAll(m),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Wa?function(r,o,l){if(!Ev(r.precondition,o))return void o.convertToUnknownDocument(l.version);const h=JE(r.fieldTransforms,o,l.transformResults),m=o.data;m.setAll(Iv(r)),m.setAll(h),o.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function km(n,e,t){var o;n instanceof dh?function(r,o,l){if(!Ev(r.precondition,o))return;const h=r.value.clone(),m=XE(r.fieldTransforms,l,o);h.setAll(m),o.convertToFoundDocument(Cv(o),h).setHasLocalMutations()}(n,e,t):n instanceof Wa?function(r,o,l){if(!Ev(r.precondition,o))return;const h=XE(r.fieldTransforms,l,o),m=o.data;m.setAll(Iv(r)),m.setAll(h),o.convertToFoundDocument(Cv(o),m).setHasLocalMutations()}(n,e,t):Ev(n.precondition,o=e)&&o.convertToNoDocument(Et.min())}function bv(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),l=zE(r.transform,o||null);null!=l&&(null==t&&(t=mi.empty()),t.set(r.field,l))}return t||null}function QE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Gf(t,r,(o,l)=>function EA(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof za&&r instanceof za||t instanceof lh&&r instanceof lh?Gf(t.elements,r.elements,zs):t instanceof ch&&r instanceof ch?zs(t.N,r.N):t instanceof uh&&r instanceof uh);var t,r}(o,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function Cv(n){return n.isFoundDocument()?n.version:Et.min()}class dh extends rp{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class Wa extends rp{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}}function Iv(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function JE(n,e,t){const r=new Map;_t(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],h=l.transform,m=e.data.field(l.field);r.set(l.field,eT(h,m,t[o]))}return r}function XE(n,e,t){const r=new Map;for(const o of n){const l=o.transform,h=t.data.field(o.field);r.set(o.field,GE(l,h,e))}return r}class ip extends rp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Tv extends rp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class tT{constructor(e){this.count=e}}var In,Pt;function Dv(n){switch(n){default:return it();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function Av(n){if(void 0===n)return ir("GRPC error has no .code"),de.UNKNOWN;switch(n){case In.OK:return de.OK;case In.CANCELLED:return de.CANCELLED;case In.UNKNOWN:return de.UNKNOWN;case In.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case In.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case In.INTERNAL:return de.INTERNAL;case In.UNAVAILABLE:return de.UNAVAILABLE;case In.UNAUTHENTICATED:return de.UNAUTHENTICATED;case In.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case In.NOT_FOUND:return de.NOT_FOUND;case In.ALREADY_EXISTS:return de.ALREADY_EXISTS;case In.PERMISSION_DENIED:return de.PERMISSION_DENIED;case In.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case In.ABORTED:return de.ABORTED;case In.OUT_OF_RANGE:return de.OUT_OF_RANGE;case In.UNIMPLEMENTED:return de.UNIMPLEMENTED;case In.DATA_LOSS:return de.DATA_LOSS;default:return it()}}(Pt=In||(In={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";class ar{constructor(e,t){this.comparator=e,this.root=t||Fr.EMPTY}insert(e,t){return new ar(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Fr.BLACK,null,null))}remove(e){return new ar(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sp(this.root,e,this.comparator,!1)}getReverseIterator(){return new sp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sp(this.root,e,this.comparator,!0)}}class sp{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fr{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=null!=r?r:Fr.RED,this.left=null!=o?o:Fr.EMPTY,this.right=null!=l?l:Fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new Fr(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===l?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Fr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Fr.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw it();const e=this.left.check();if(e!==this.right.check())throw it();return e+(this.isRed()?0:1)}}Fr.EMPTY=null,Fr.RED=!0,Fr.BLACK=!1,Fr.EMPTY=new class{constructor(){this.size=0}get key(){throw it()}get value(){throw it()}get color(){throw it()}get left(){throw it()}get right(){throw it()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Fr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jn{constructor(e){this.comparator=e,this.data=new ar(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new eb(this.data.getIterator())}getIteratorFrom(e){return new eb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof jn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(o,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new jn(this.comparator);return t.data=e,t}}class eb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const tb=new ar(et.comparator);function Ws(){return tb}const nT=new ar(et.comparator);function Sv(){return nT}const op=new ar(et.comparator);function nb(){return op}const xv=new jn(et.comparator);function Mt(...n){let e=xv;for(const t of n)e=e.add(t);return e}const rT=new jn(Rt);function hh(){return rT}class Ka{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,ap.createSynthesizedTargetChangeForCurrentChange(e,t)),new Ka(Et.min(),r,hh(),Ws(),Mt())}}class ap{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new ap(yr.EMPTY_BYTE_STRING,t,Mt(),Mt(),Mt())}}class Rm{constructor(e,t,r,o){this.$=e,this.removedTargetIds=t,this.key=r,this.O=o}}class rb{constructor(e,t){this.targetId=e,this.M=t}}class up{constructor(e,t,r=yr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class lp{constructor(){this.F=0,this.L=Mv(),this.B=yr.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=Mt(),t=Mt(),r=Mt();return this.L.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:it()}}),new ap(this.B,this.U,e,t,r)}H(){this.q=!1,this.L=Mv()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class iT{constructor(e){this.et=e,this.nt=new Map,this.st=Ws(),this.it=ib(),this.rt=new jn(Rt)}ot(e){for(const t of e.$)e.O&&e.O.isFoundDocument()?this.ct(t,e.O):this.at(t,e.key,e.O);for(const t of e.removedTargetIds)this.at(t,e.key,e.O)}ut(e){this.forEachTarget(e,t=>{const r=this.ht(t);switch(e.state){case 0:this.lt(t)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(t);break;case 3:this.lt(t)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),r.W(e.resumeToken));break;default:it()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((r,o)=>{this.lt(o)&&t(o)})}dt(e){const t=e.targetId,r=e.M.count,o=this.wt(t);if(o){const l=o.target;if(xm(l))if(0===r){const h=new et(l.path);this.at(t,h,Cn.newNoDocument(h,Et.min()))}else _t(1===r);else this._t(t)!==r&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((l,h)=>{const m=this.wt(h);if(m){if(l.current&&xm(m.target)){const E=new et(m.target.path);null!==this.st.get(E)||this.yt(h,E)||this.at(h,E,Cn.newNoDocument(E,e))}l.j&&(t.set(h,l.G()),l.H())}});let r=Mt();this.it.forEach((l,h)=>{let m=!0;h.forEachWhile(E=>{const T=this.wt(E);return!T||2===T.purpose||(m=!1,!1)}),m&&(r=r.add(l))});const o=new Ka(e,t,this.rt,this.st,r);return this.st=Ws(),this.it=ib(),this.rt=new jn(Rt),o}ct(e,t){if(!this.lt(e))return;const r=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,r),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}at(e,t,r){if(!this.lt(e))return;const o=this.ht(e);this.yt(e,t)?o.J(t,1):o.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),r&&(this.st=this.st.insert(t,r))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new lp,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new jn(Rt),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||Re("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new lp),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function ib(){return new ar(et.comparator)}function Mv(){return new ar(et.comparator)}const sb={asc:"ASCENDING",desc:"DESCENDING"},Ov={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ob{constructor(e,t){this.databaseId=e,this.C=t}}function cp(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ab(n,e){return n.C?e.toBase64():e.toUint8Array()}function CA(n,e){return cp(n,e.toTimestamp())}function ur(n){return _t(!!n),Et.fromTimestamp(function(e){const t=Ga(e);return new ti(t.seconds,t.nanos)}(n))}function dp(n,e){return(t=n,new Gt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Nv(n){const e=Gt.fromString(n);return _t(Bv(e)),e}function mc(n,e){return dp(n.databaseId,e.path)}function Ks(n,e){const t=Nv(e);if(t.get(1)!==n.databaseId.projectId)throw new Se(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Se(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new et(lb(t))}function kv(n,e){return dp(n.databaseId,e)}function ub(n){const e=Nv(n);return 4===e.length?Gt.emptyPath():lb(e)}function hp(n){return new Gt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function lb(n){return _t(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Rv(n,e,t){return{name:mc(n,e),fields:t.value.mapValue.fields}}function Pm(n,e,t){const r=Ks(n,e.name),o=ur(e.updateTime),l=new mi({mapValue:{fields:e.fields}}),h=Cn.newFoundDocument(r,o,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function fp(n,e){let t;if(e instanceof dh)t={update:Rv(n,e.key,e.value)};else if(e instanceof ip)t={delete:mc(n,e.key)};else if(e instanceof Wa)t={update:Rv(n,e.key,e.data),updateMask:lT(e.fieldMask)};else{if(!(e instanceof Tv))return it();t={verify:mc(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const h=l.transform;if(h instanceof uh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof za)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof lh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof ch)return{fieldPath:l.field.canonicalString(),increment:h.N};throw it()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:CA(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:it()),t;var o}function Pv(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?or.updateTime(ur(o.updateTime)):void 0!==o.exists?or.exists(o.exists):or.none():or.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(l,h){let m=null;"setToServerValue"in h?(_t("REQUEST_TIME"===h.setToServerValue),m=new uh):"appendMissingElements"in h?m=new za(h.appendMissingElements.values||[]):"removeAllFromArray"in h?m=new lh(h.removeAllFromArray.values||[]):"increment"in h?m=new ch(l,h.increment):it();const E=ni.fromServerFormat(h.fieldPath);return new Qo(E,m)}(n,o)):[];var o;if(e.update){const o=Ks(n,e.update.name),l=new mi({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new th((e.updateMask.fieldPaths||[]).map(T=>ni.fromServerFormat(T)));return new Wa(o,l,h,t,r)}return new dh(o,l,t,r)}if(e.delete){const o=Ks(n,e.delete);return new ip(o,t)}if(e.verify){const o=Ks(n,e.verify);return new Tv(o,t)}return it()}function Fv(n,e){return{documents:[kv(n,e.path)]}}function Lv(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=kv(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=kv(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(m){if(0===m.length)return;const E=m.map(T=>function(M){if("=="===M.op){if(LE(M.value))return{unaryFilter:{field:pp(M.field),op:"IS_NAN"}};if(hv(M.value))return{unaryFilter:{field:pp(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(LE(M.value))return{unaryFilter:{field:pp(M.field),op:"IS_NOT_NAN"}};if(hv(M.value))return{unaryFilter:{field:pp(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pp(M.field),op:aT(M.op),value:M.value}}}(T));return 1===E.length?E[0]:{compositeFilter:{op:"AND",filters:E}}}(e.filters);o&&(t.structuredQuery.where=o);const l=function(m){if(0!==m.length)return m.map(E=>{return{field:pp((T=E).field),direction:oT(T.dir)};var T})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const h=(E=e.limit,n.C||lc(E)?E:{value:E});var E;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=yi(e.startAt)),e.endAt&&(t.structuredQuery.endAt=yi(e.endAt)),t}function hb(n){let e=ub(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){_t(1===r);const M=t.from[0];M.allDescendants?o=M.collectionId:e=e.child(M.collectionId)}let l=[];t.where&&(l=Vv(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(M=>{return new fc(Jo((N=M).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction));var N}));let m=null;t.limit&&(m=function(M){let N;return N="object"==typeof M?M.value:M,lc(N)?null:N}(t.limit));let E=null;t.startAt&&(E=_c(t.startAt));let T=null;return t.endAt&&(T=_c(t.endAt)),XI(e,o,h,l,m,"F",E,T)}function Vv(n){return n?void 0!==n.unaryFilter?[Uv(n)]:void 0!==n.fieldFilter?[uT(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Vv(e)).reduce((e,t)=>e.concat(t)):it():[]}function yi(n){return{before:n.before,values:n.position}}function _c(n){return new hc(n.values||[],!!n.before)}function oT(n){return sb[n]}function aT(n){return Ov[n]}function pp(n){return{fieldPath:n.canonicalString()}}function Jo(n){return ni.fromServerFormat(n.fieldPath)}function uT(n){return _i.create(Jo(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return it()}}(n.fieldFilter.op),n.fieldFilter.value)}function Uv(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Jo(n.unaryFilter.field);return _i.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Jo(n.unaryFilter.field);return _i.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Jo(n.unaryFilter.field);return _i.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Jo(n.unaryFilter.field);return _i.create(o,"!=",{nullValue:"NULL_VALUE"});default:return it()}}function lT(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Bv(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function wo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Fm(e)),e=cT(n.get(t),e);return Fm(e)}function cT(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const l=n.charAt(o);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function Fm(n){return n+"\x01\x01"}function Xo(n){const e=n.length;if(_t(e>=2),2===e)return _t("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Gt.emptyPath();const t=e-2,r=[];let o="";for(let l=0;l<e;){const h=n.indexOf("\x01",l);switch((h<0||h>t)&&it(),n.charAt(h+1)){case"\x01":const m=n.substring(l,h);let E;0===o.length?E=m:(o+=m,E=o,o=""),r.push(E);break;case"\x10":o+=n.substring(l,h),o+="\0";break;case"\x11":o+=n.substring(l,h+1);break;default:it()}l=h+2}return new Gt(r)}class pb{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class vi{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}vi.store="owner",vi.key="owner";class ea{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}ea.store="mutationQueues",ea.keyPath="userId";class Tn{constructor(e,t,r,o,l){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=o,this.mutations=l}}Tn.store="mutations",Tn.keyPath="batchId",Tn.userMutationsIndex="userMutationsIndex",Tn.userMutationsKeyPath=["userId","batchId"];class ri{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,wo(t)]}static key(e,t,r){return[e,wo(t),r]}}ri.store="documentMutations",ri.PLACEHOLDER=new ri;class dT{constructor(e,t){this.path=e,this.readTime=t}}class gb{constructor(e,t){this.path=e,this.version=t}}class mn{constructor(e,t,r,o,l,h){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=o,this.readTime=l,this.parentPath=h}}mn.store="remoteDocuments",mn.readTimeIndex="readTimeIndex",mn.readTimeIndexPath="readTime",mn.collectionReadTimeIndex="collectionReadTimeIndex",mn.collectionReadTimeIndexPath=["parentPath","readTime"];class Eo{constructor(e){this.byteSize=e}}Eo.store="remoteDocumentGlobal",Eo.key="remoteDocumentGlobalKey";class Yi{constructor(e,t,r,o,l,h,m){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=o,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=h,this.query=m}}Yi.store="targets",Yi.keyPath="targetId",Yi.queryTargetsIndexName="queryTargetsIndex",Yi.queryTargetsKeyPath=["canonicalId","targetId"];class vr{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}vr.store="targetDocuments",vr.keyPath=["targetId","path"],vr.documentTargetsIndex="documentTargetsIndex",vr.documentTargetsKeyPath=["path","targetId"];class Ni{constructor(e,t,r,o){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=o}}Ni.key="targetGlobalKey",Ni.store="targetGlobal";class fh{constructor(e,t){this.collectionId=e,this.parent=t}}fh.store="collectionParents",fh.keyPath=["collectionId","parent"];class Ya{constructor(e,t,r,o){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=o}}Ya.store="clientMetadata",Ya.keyPath="clientId";class ph{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}ph.store="bundles",ph.keyPath="bundleId";class yc{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}yc.store="namedQueries",yc.keyPath="name";const mb=[ea.store,Tn.store,ri.store,mn.store,Yi.store,vi.store,Ni.store,vr.store,Ya.store,Eo.store,fh.store,ph.store,yc.store],_b="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&it(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ae((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ae?t:Ae.resolve(t)}catch(t){return Ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ae.reject(t)}static resolve(e){return new Ae((t,r)=>{t(e)})}static reject(e){return new Ae((t,r)=>{r(e)})}static waitFor(e){return new Ae((t,r)=>{let o=0,l=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++l,h&&l===o&&t()},E=>r(E))}),h=!0,l===o&&t()})}static or(e){let t=Ae.resolve(!1);for(const r of e)t=t.next(o=>o?Ae.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,l)=>{r.push(t.call(this,o,l))}),this.waitFor(r)}}class Lm{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new _r,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new gp(e,t.error)):this.It.resolve()},this.transaction.onerror=r=>{const o=Zv(r.target.error);this.It.reject(new gp(e,o))}}static open(e,t,r,o){try{return new Lm(t,e.transaction(o,r))}catch(l){throw new gp(t,l)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(Re("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new vb(t)}}class bo{constructor(e,t,r){this.name=e,this.version=t,this.Rt=r,12.2===bo.bt((0,xt.z$)())&&ir("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Re("SimpleDb","Removing database:",e),Wu(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if(!(0,xt.hl)())return!1;if(bo.vt())return!0;const e=(0,xt.z$)(),t=bo.bt(e),r=0<t&&t<10,o=bo.Vt(e),l=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static bt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Ct(e){var t=this;return(0,ye.Z)(function*(){return t.db||(Re("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=h=>{r(h.target.result)},l.onblocked=()=>{o(new gp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=h=>{const m=h.target.error;o("VersionError"===m.name?new Se(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Se(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new gp(e,m))},l.onupgradeneeded=h=>{Re("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.Rt.Nt(h.target.result,l.transaction,h.oldVersion,t.version).next(()=>{Re("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.kt&&(t.db.onversionchange=r=>t.kt(r)),t.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var l=this;return(0,ye.Z)(function*(){const h="readonly"===t;let m=0;for(;;){++m;try{l.db=yield l.Ct(e);const E=Lm.open(l.db,e,h?"readonly":"readwrite",r),T=o(E).catch(M=>(E.abort(M),Ae.reject(M))).toPromise();return T.catch(()=>{}),yield E.At,T}catch(E){const T="FirebaseError"!==E.name&&m<3;if(Re("SimpleDb","Transaction failed with error:",E.message,"Retrying:",T),l.close(),!T)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class yb{constructor(e){this.$t=e,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(e){this.$t=e}done(){this.Ot=!0}Lt(e){this.Mt=e}delete(){return Wu(this.$t.delete())}}class gp extends Se{constructor(e,t){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function zu(n){return"IndexedDbTransactionError"===n.name}class vb{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Re("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Re("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Wu(r)}add(e){return Re("SimpleDb","ADD",this.store.name,e,e),Wu(this.store.add(e))}get(e){return Wu(this.store.get(e)).next(t=>(void 0===t&&(t=null),Re("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Re("SimpleDb","DELETE",this.store.name,e),Wu(this.store.delete(e))}count(){return Re("SimpleDb","COUNT",this.store.name),Wu(this.store.count())}Bt(e,t){const r=this.cursor(this.options(e,t)),o=[];return this.Ut(r,(l,h)=>{o.push(h)}).next(()=>o)}qt(e,t){Re("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Kt=!1;const o=this.cursor(r);return this.Ut(o,(l,h,m)=>m.delete())}jt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Ut(o,t)}Qt(e){const t=this.cursor({});return new Ae((r,o)=>{t.onerror=l=>{const h=Zv(l.target.error);o(h)},t.onsuccess=l=>{const h=l.target.result;h?e(h.primaryKey,h.value).next(m=>{m?h.continue():r()}):r()}})}Ut(e,t){const r=[];return new Ae((o,l)=>{e.onerror=h=>{l(h.target.error)},e.onsuccess=h=>{const m=h.target.result;if(!m)return void o();const E=new yb(m),T=t(m.primaryKey,m.value,E);if(T instanceof Ae){const M=T.catch(N=>(E.done(),Ae.reject(N)));r.push(M)}E.isDone?o():null===E.Ft?m.continue():m.continue(E.Ft)}}).next(()=>Ae.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Kt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Wu(n){return new Ae((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=Zv(r.target.error);t(o)}})}let Hv=!1;function Zv(n){const e=bo.bt((0,xt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Se("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Hv||(Hv=!0,setTimeout(()=>{throw r},0)),r}}return n}class wb extends jv{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function bs(n,e){const t=je(n);return bo.Dt(t.Wt,e)}class Vm{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&bA(l,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&km(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&km(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(Et.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Mt())}isEqual(e){return this.batchId===e.batchId&&Gf(this.mutations,e.mutations,(t,r)=>QE(t,r))&&Gf(this.baseMutations,e.baseMutations,(t,r)=>QE(t,r))}}class Eb{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){_t(e.mutations.length===r.length);let o=nb();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,r[h].version);return new Eb(e,t,r,o)}}class vc{constructor(e,t,r,o,l=Et.min(),h=Et.min(),m=yr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m}withSequenceNumber(e){return new vc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new vc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new vc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class hT{constructor(e){this.Gt=e}}function $v(n,e){if(e.document)return Pm(n.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=et.fromSegments(e.noDocument.path),r=Qa(e.noDocument.readTime),o=Cn.newNoDocument(t,r);return e.hasCommittedMutations?o.setHasCommittedMutations():o}if(e.unknownDocument){const t=et.fromSegments(e.unknownDocument.path),r=Qa(e.unknownDocument.version);return Cn.newUnknownDocument(t,r)}return it()}function bb(n,e,t){const r=Cb(t),o=e.key.path.popLast().toArray();if(e.isFoundDocument()){const l={name:mc(m=n.Gt,(E=e).key),fields:E.data.value.mapValue.fields,updateTime:cp(m,E.version.toTimestamp())};return new mn(null,null,l,e.hasCommittedMutations,r,o)}var m,E;if(e.isNoDocument()){const l=e.key.path.toArray(),h=mp(e.version),m=e.hasCommittedMutations;return new mn(null,new dT(l,h),null,m,r,o)}if(e.isUnknownDocument()){const l=e.key.path.toArray(),h=mp(e.version);return new mn(new gb(l,h),null,null,!0,r,o)}return it()}function Cb(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ib(n){const e=new ti(n[0],n[1]);return Et.fromTimestamp(e)}function mp(n){const e=n.toTimestamp();return new pb(e.seconds,e.nanoseconds)}function Qa(n){const e=new ti(n.seconds,n.nanoseconds);return Et.fromTimestamp(e)}function _p(n,e){const t=(e.baseMutations||[]).map(l=>Pv(n.Gt,l));for(let l=0;l<e.mutations.length-1;++l){const h=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(h.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>Pv(n.Gt,l)),o=ti.fromMillis(e.localWriteTimeMs);return new Vm(e.batchId,o,t,r)}function wc(n){const e=Qa(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Qa(n.lastLimboFreeSnapshotVersion):Et.min();let r;var o;return void 0!==n.query.documents?(_t(1===(o=n.query).documents.length),r=Es(sh(ub(o.documents[0])))):r=Es(hb(n.query)),new vc(r,n.targetId,0,n.lastListenSequenceNumber,e,t,yr.fromBase64String(n.resumeToken))}function Ec(n,e){const t=mp(e.snapshotVersion),r=mp(e.lastLimboFreeSnapshotVersion);let o;o=xm(e.target)?Fv(n.Gt,e.target):Lv(n.Gt,e.target);const l=e.resumeToken.toBase64();return new Yi(e.targetId,ih(e.target),t,l,e.sequenceNumber,r,o)}function Um(n){const e=hb({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ZE(e,e.limit,"L"):e}class fT{getBundleMetadata(e,t){return Tb(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Qa(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return Tb(e).put({bundleId:(r=t).id,createTime:mp(ur(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Bm(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:Um(o.bundledQuery),readTime:Qa(o.readTime)};var o})}saveNamedQuery(e,t){return Bm(e).put({name:(r=t).name,readTime:mp(ur(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Tb(n){return bs(n,ph.store)}function Bm(n){return bs(n,yc.store)}class Db{constructor(){this.zt=new jm}addToCollectionParentIndex(e,t){return this.zt.add(t),Ae.resolve()}getCollectionParents(e,t){return Ae.resolve(this.zt.getEntries(t))}}class jm{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new jn(Gt.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new jn(Gt.comparator)).toArray()}}class Ab{constructor(){this.Ht=new jm}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const l={collectionId:r,parent:wo(o)};return pT(e).put(l)}return Ae.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[ZI(t),""],!1,!0);return pT(e).Bt(o).next(l=>{for(const h of l){if(h.collectionId!==t)break;r.push(Xo(h.parent))}return r})}}function pT(n){return bs(n,fh.store)}const qv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ii{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ii(e,ii.DEFAULT_COLLECTION_PERCENTILE,ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Gv(n,e,t){const r=n.store(Tn.store),o=n.store(ri.store),l=[],h=IDBKeyRange.only(t.batchId);let m=0;const E=r.jt({range:h},(M,N,V)=>(m++,V.delete()));l.push(E.next(()=>{_t(1===m)}));const T=[];for(const M of t.mutations){const N=ri.key(e,M.key.path,t.batchId);l.push(o.delete(N)),T.push(M.key)}return Ae.waitFor(l).next(()=>T)}function zv(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw it();e=n.noDocument}return JSON.stringify(e).length}ii.DEFAULT_COLLECTION_PERCENTILE=10,ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ii.DEFAULT=new ii(41943040,ii.DEFAULT_COLLECTION_PERCENTILE,ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ii.DISABLED=new ii(-1,0,0);class Sb{constructor(e,t,r,o){this.userId=e,this.k=t,this.Jt=r,this.referenceDelegate=o,this.Yt={}}static Xt(e,t,r,o){_t(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new Sb(l,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ku(e).jt({index:Tn.userMutationsIndex,range:r},(o,l,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const l=Yu(e),h=Ku(e);return h.add({}).next(m=>{_t("number"==typeof m);const E=new Vm(m,t,r,o),T=function(V,Z,he){const Fe=he.baseMutations.map(ft=>fp(V.Gt,ft)),ze=he.mutations.map(ft=>fp(V.Gt,ft));return new Tn(Z,he.batchId,he.localWriteTime.toMillis(),Fe,ze)}(this.k,this.userId,E),M=[];let N=new jn((V,Z)=>Rt(V.canonicalString(),Z.canonicalString()));for(const V of o){const Z=ri.key(this.userId,V.key.path,m);N=N.add(V.key.path.popLast()),M.push(h.put(T)),M.push(l.put(Z,ri.PLACEHOLDER))}return N.forEach(V=>{M.push(this.Jt.addToCollectionParentIndex(e,V))}),e.addOnCommittedListener(()=>{this.Yt[m]=E.keys()}),Ae.waitFor(M).next(()=>E)})}lookupMutationBatch(e,t){return Ku(e).get(t).next(r=>r?(_t(r.userId===this.userId),_p(this.k,r)):null)}Zt(e,t){return this.Yt[t]?Ae.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Yt[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Ku(e).jt({index:Tn.userMutationsIndex,range:o},(h,m,E)=>{m.userId===this.userId&&(_t(m.batchId>=r),l=_p(this.k,m)),E.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ku(e).jt({index:Tn.userMutationsIndex,range:t,reverse:!0},(o,l,h)=>{r=l.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ku(e).Bt(Tn.userMutationsIndex,t).next(r=>r.map(o=>_p(this.k,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=ri.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(r),l=[];return Yu(e).jt({range:o},(h,m,E)=>{const[T,M,N]=h,V=Xo(M);if(T===this.userId&&t.path.isEqual(V))return Ku(e).get(N).next(Z=>{if(!Z)throw it();_t(Z.userId===this.userId),l.push(_p(this.k,Z))});E.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new jn(Rt);const o=[];return t.forEach(l=>{const h=ri.prefixForPath(this.userId,l.path),m=IDBKeyRange.lowerBound(h),E=Yu(e).jt({range:m},(T,M,N)=>{const[V,Z,he]=T,Fe=Xo(Z);V===this.userId&&l.path.isEqual(Fe)?r=r.add(he):N.done()});o.push(E)}),Ae.waitFor(o).next(()=>this.te(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,l=ri.prefixForPath(this.userId,r),h=IDBKeyRange.lowerBound(l);let m=new jn(Rt);return Yu(e).jt({range:h},(E,T,M)=>{const[N,V,Z]=E,he=Xo(V);N===this.userId&&r.isPrefixOf(he)?he.length===o&&(m=m.add(Z)):M.done()}).next(()=>this.te(e,m))}te(e,t){const r=[],o=[];return t.forEach(l=>{o.push(Ku(e).get(l).next(h=>{if(null===h)throw it();_t(h.userId===this.userId),r.push(_p(this.k,h))}))}),Ae.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return Gv(e.Wt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),Ae.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ae.resolve();const r=IDBKeyRange.lowerBound(ri.prefixForUser(this.userId)),o=[];return Yu(e).jt({range:r},(l,h,m)=>{if(l[0]===this.userId){const E=Xo(l[1]);o.push(E)}else m.done()}).next(()=>{_t(0===o.length)})})}containsKey(e,t){return gT(e,this.userId,t)}ne(e){return xb(e).get(this.userId).next(t=>t||new ea(this.userId,-1,""))}}function gT(n,e,t){const r=ri.prefixForPath(e,t.path),o=r[1],l=IDBKeyRange.lowerBound(r);let h=!1;return Yu(n).jt({range:l,Kt:!0},(m,E,T)=>{const[M,N,V]=m;M===e&&N===o&&(h=!0),T.done()}).next(()=>h)}function Ku(n){return bs(n,Tn.store)}function Yu(n){return bs(n,ri.store)}function xb(n){return bs(n,ea.store)}class gh{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new gh(0)}static re(){return new gh(-1)}}class mT{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const r=new gh(t.highestTargetId);return t.highestTargetId=r.next(),this.ce(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(t=>Et.fromTimestamp(new ti(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.oe(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.ce(e,o)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.oe(e).next(r=>(r.targetCount+=1,this.ue(t,r),this.ce(e,r))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Qu(e).delete(t.targetId)).next(()=>this.oe(e)).next(r=>(_t(r.targetCount>0),r.targetCount-=1,this.ce(e,r)))}removeTargets(e,t,r){let o=0;const l=[];return Qu(e).jt((h,m)=>{const E=wc(m);E.sequenceNumber<=t&&null===r.get(E.targetId)&&(o++,l.push(this.removeTargetData(e,E)))}).next(()=>Ae.waitFor(l)).next(()=>o)}forEachTarget(e,t){return Qu(e).jt((r,o)=>{const l=wc(o);t(l)})}oe(e){return Mb(e).get(Ni.key).next(t=>(_t(null!==t),t))}ce(e,t){return Mb(e).put(Ni.key,t)}ae(e,t){return Qu(e).put(Ec(this.k,t))}ue(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.oe(e).next(t=>t.targetCount)}getTargetData(e,t){const r=ih(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Qu(e).jt({range:o,index:Yi.queryTargetsIndexName},(h,m,E)=>{const T=wc(m);Sm(t,T.target)&&(l=T,E.done())}).next(()=>l)}addMatchingKeys(e,t,r){const o=[],l=lr(e);return t.forEach(h=>{const m=wo(h.path);o.push(l.put(new vr(r,m))),o.push(this.referenceDelegate.addReference(e,r,h))}),Ae.waitFor(o)}removeMatchingKeys(e,t,r){const o=lr(e);return Ae.forEach(t,l=>{const h=wo(l.path);return Ae.waitFor([o.delete([r,h]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=lr(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=lr(e);let l=Mt();return o.jt({range:r,Kt:!0},(h,m,E)=>{const T=Xo(h[1]),M=new et(T);l=l.add(M)}).next(()=>l)}containsKey(e,t){const r=wo(t.path),o=IDBKeyRange.bound([r],[ZI(r)],!1,!0);let l=0;return lr(e).jt({index:vr.documentTargetsIndex,Kt:!0,range:o},([h,m],E,T)=>{0!==h&&(l++,T.done())}).next(()=>l>0)}Et(e,t){return Qu(e).get(t).next(r=>r?wc(r):null)}}function Qu(n){return bs(n,Yi.store)}function Mb(n){return bs(n,Ni.store)}function lr(n){return bs(n,vr.store)}function bc(n){return yp.apply(this,arguments)}function yp(){return yp=(0,ye.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==_b)throw n;Re("LocalStore","Unexpectedly lost primary lease")}),yp.apply(this,arguments)}function Ob([n,e],[t,r]){const o=Rt(n,t);return 0===o?Rt(e,r):o}class _T{constructor(e){this.he=e,this.buffer=new jn(Ob),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Ob(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Wv{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var t=this;const r=this.we?3e5:6e4;Re("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,ye.Z)(function*(){t._e=null,t.we=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){zu(o)?Re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield bc(o)}yield t.me(e)}))}}class Nb{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Ae.resolve(ws.I);const r=new _T(t);return this.ge.forEachTarget(e,o=>r.de(o.sequenceNumber)).next(()=>this.ge.pe(e,o=>r.de(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.ge.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(qv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qv):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let r,o,l,h,m,E,T;const M=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),o=this.params.maximumSequenceNumbersToCollect):o=N,h=Date.now(),this.nthSequenceNumber(e,o))).next(N=>(r=N,m=Date.now(),this.removeTargets(e,r,t))).next(N=>(l=N,E=Date.now(),this.removeOrphanedDocuments(e,r))).next(N=>(T=Date.now(),Tm()<=Wl.in.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-M}ms\n\tDetermined least recently used ${o} in `+(m-h)+`ms\n\tRemoved ${l} targets in `+(E-m)+`ms\n\tRemoved ${N} documents in `+(T-E)+`ms\nTotal Duration: ${T-M}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:N})))}}class kb{constructor(e,t){this.db=e,this.garbageCollector=new Nb(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Ee(e){let t=0;return this.pe(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(r,o)=>t(o))}addReference(e,t,r){return Hm(e,r)}removeReference(e,t,r){return Hm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Hm(e,t)}Ae(e,t){return function(r,o){let l=!1;return xb(r).Qt(h=>gT(r,h,o).next(m=>(m&&(l=!0),Ae.resolve(!m)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let l=0;return this.Ie(e,(h,m)=>{if(m<=t){const E=this.Ae(e,h).next(T=>{if(!T)return l++,r.getEntry(e,h).next(()=>(r.removeEntry(h),lr(e).delete([0,wo(h.path)])))});o.push(E)}}).next(()=>Ae.waitFor(o)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Hm(e,t)}Ie(e,t){const r=lr(e);let o,l=ws.I;return r.jt({index:vr.documentTargetsIndex},([h,m],{path:E,sequenceNumber:T})=>{0===h?(l!==ws.I&&t(new et(Xo(o)),l),l=T,o=E):l=ws.I}).next(()=>{l!==ws.I&&t(new et(Xo(o)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Hm(n,e){return lr(n).put((r=n.currentSequenceNumber,new vr(0,wo(e.path),r)));var r}class Cc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,l]of r)if(this.equalsFn(o,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o){for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),!0;return!1}forEach(e){Ko(this.inner,(t,r)=>{for(const[o,l]of r)e(o,l)})}isEmpty(){return RE(this.inner)}}class Kv{constructor(){this.changes=new Cc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Et.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Cn.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ae.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yT{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,r){return Lr(e).put($m(t),r)}removeEntry(e,t){const r=Lr(e),o=$m(t);return r.delete(o)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Re(e,r)))}getEntry(e,t){return Lr(e).get($m(t)).next(r=>this.be(t,r))}Pe(e,t){return Lr(e).get($m(t)).next(r=>({document:this.be(t,r),size:zv(r)}))}getEntries(e,t){let r=Ws();return this.ve(e,t,(o,l)=>{const h=this.be(o,l);r=r.insert(o,h)}).next(()=>r)}Ve(e,t){let r=Ws(),o=new ar(et.comparator);return this.ve(e,t,(l,h)=>{const m=this.be(l,h);r=r.insert(l,m),o=o.insert(l,zv(h))}).next(()=>({documents:r,Se:o}))}ve(e,t,r){if(t.isEmpty())return Ae.resolve();const o=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),l=t.getIterator();let h=l.getNext();return Lr(e).jt({range:o},(m,E,T)=>{const M=et.fromSegments(m);for(;h&&et.comparator(h,M)<0;)r(h,null),h=l.getNext();h&&h.isEqual(M)&&(r(h,E),h=l.hasNext()?l.getNext():null),h?T.Lt(h.path.toArray()):T.done()}).next(()=>{for(;h;)r(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r){let o=Ws();const l=t.path.length+1,h={};if(r.isEqual(Et.min())){const m=t.path.toArray();h.range=IDBKeyRange.lowerBound(m)}else{const m=t.path.toArray(),E=Cb(r);h.range=IDBKeyRange.lowerBound([m,E],!0),h.index=mn.collectionReadTimeIndex}return Lr(e).jt(h,(m,E,T)=>{if(m.length!==l)return;const M=$v(this.k,E);t.path.isPrefixOf(M.key.path)?oh(t,M)&&(o=o.insert(M.key,M)):T.done()}).next(()=>o)}newChangeBuffer(e){return new vT(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Zm(e).get(Eo.key).next(t=>(_t(!!t),t))}Re(e,t){return Zm(e).put(Eo.key,t)}be(e,t){if(t){const r=$v(this.k,t);if(!r.isNoDocument()||!r.version.isEqual(Et.min()))return r}return Cn.newInvalidDocument(e)}}class vT extends Kv{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new Cc(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new jn((l,h)=>Rt(l.canonicalString(),h.canonicalString()));return this.changes.forEach((l,h)=>{const m=this.Ce.get(l);if(h.document.isValidDocument()){const E=bb(this.De.k,h.document,this.getReadTime(l));o=o.add(l.path.popLast()),r+=zv(E)-m,t.push(this.De.addEntry(e,l,E))}else if(r-=m,this.trackRemovals){const E=bb(this.De.k,Cn.newNoDocument(l,Et.min()),this.getReadTime(l));t.push(this.De.addEntry(e,l,E))}else t.push(this.De.removeEntry(e,l))}),o.forEach(l=>{t.push(this.De.Jt.addToCollectionParentIndex(e,l))}),t.push(this.De.updateMetadata(e,r)),Ae.waitFor(t)}getFromCache(e,t){return this.De.Pe(e,t).next(r=>(this.Ce.set(t,r.size),r.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:r,Se:o})=>(o.forEach((l,h)=>{this.Ce.set(l,h)}),r))}}function Zm(n){return bs(n,Eo.store)}function Lr(n){return bs(n,mn.store)}function $m(n){return n.path.toArray()}class IA{constructor(e){this.k=e}Nt(e,t,r,o){_t(r<o&&r>=0&&o<=11);const l=new Lm("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore(vi.store),(m=e).createObjectStore(ea.store,{keyPath:ea.keyPath}),m.createObjectStore(Tn.store,{keyPath:Tn.keyPath,autoIncrement:!0}).createIndex(Tn.userMutationsIndex,Tn.userMutationsKeyPath,{unique:!0}),m.createObjectStore(ri.store),Rb(e),function(m){m.createObjectStore(mn.store)}(e));let h=Ae.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore(vr.store),m.deleteObjectStore(Yi.store),m.deleteObjectStore(Ni.store)}(e),Rb(e)),h=h.next(()=>function(m){const E=m.store(Ni.store),T=new Ni(0,0,Et.min().toTimestamp(),0);return E.put(Ni.key,T)}(l))),r<4&&o>=4&&(0!==r&&(h=h.next(()=>function(m,E){return E.store(Tn.store).Bt().next(T=>{m.deleteObjectStore(Tn.store),m.createObjectStore(Tn.store,{keyPath:Tn.keyPath,autoIncrement:!0}).createIndex(Tn.userMutationsIndex,Tn.userMutationsKeyPath,{unique:!0});const M=E.store(Tn.store),N=T.map(V=>M.put(V));return Ae.waitFor(N)})}(e,l))),h=h.next(()=>{!function(m){m.createObjectStore(Ya.store,{keyPath:Ya.keyPath})}(e)})),r<5&&o>=5&&(h=h.next(()=>this.Ne(l))),r<6&&o>=6&&(h=h.next(()=>(function(m){m.createObjectStore(Eo.store)}(e),this.ke(l)))),r<7&&o>=7&&(h=h.next(()=>this.xe(l))),r<8&&o>=8&&(h=h.next(()=>this.$e(e,l))),r<9&&o>=9&&(h=h.next(()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(e),function(m){const E=m.objectStore(mn.store);E.createIndex(mn.readTimeIndex,mn.readTimeIndexPath,{unique:!1}),E.createIndex(mn.collectionReadTimeIndex,mn.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&o>=10&&(h=h.next(()=>this.Oe(l))),r<11&&o>=11&&(h=h.next(()=>{(function(m){m.createObjectStore(ph.store,{keyPath:ph.keyPath})})(e),function(m){m.createObjectStore(yc.store,{keyPath:yc.keyPath})}(e)})),h}ke(e){let t=0;return e.store(mn.store).jt((r,o)=>{t+=zv(o)}).next(()=>{const r=new Eo(t);return e.store(Eo.store).put(Eo.key,r)})}Ne(e){const t=e.store(ea.store),r=e.store(Tn.store);return t.Bt().next(o=>Ae.forEach(o,l=>{const h=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.Bt(Tn.userMutationsIndex,h).next(m=>Ae.forEach(m,E=>{_t(E.userId===l.userId);const T=_p(this.k,E);return Gv(e,l.userId,T).next(()=>{})}))}))}xe(e){const t=e.store(vr.store),r=e.store(mn.store);return e.store(Ni.store).get(Ni.key).next(o=>{const l=[];return r.jt((h,m)=>{const E=new Gt(h),T=[0,wo(E)];l.push(t.get(T).next(M=>M?Ae.resolve():t.put(new vr(0,wo(E),o.highestListenSequenceNumber))))}).next(()=>Ae.waitFor(l))})}$e(e,t){e.createObjectStore(fh.store,{keyPath:fh.keyPath});const r=t.store(fh.store),o=new jm,l=h=>{if(o.add(h)){const m=h.lastSegment(),E=h.popLast();return r.put({collectionId:m,parent:wo(E)})}};return t.store(mn.store).jt({Kt:!0},(h,m)=>{const E=new Gt(h);return l(E.popLast())}).next(()=>t.store(ri.store).jt({Kt:!0},([h,m,E],T)=>{const M=Xo(m);return l(M.popLast())}))}Oe(e){const t=e.store(Yi.store);return t.jt((r,o)=>{const l=wc(o),h=Ec(this.k,l);return t.put(h)})}}function Rb(n){n.createObjectStore(vr.store,{keyPath:vr.keyPath}).createIndex(vr.documentTargetsIndex,vr.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Yi.store,{keyPath:Yi.keyPath}).createIndex(Yi.queryTargetsIndexName,Yi.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Ni.store)}const qm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Yv{constructor(e,t,r,o,l,h,m,E,T,M){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Me=l,this.window=h,this.document=m,this.Fe=T,this.Le=M,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=N=>Promise.resolve(),!Yv.Pt())throw new Se(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new kb(this,o),this.Ge=t+"main",this.k=new hT(E),this.ze=new bo(this.Ge,11,new IA(this.k)),this.He=new mT(this.referenceDelegate,this.k),this.Jt=new Ab,this.Je=new yT(this.k,this.Jt),this.Ye=new fT,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===M&&ir("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Se(de.FAILED_PRECONDITION,qm);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new ws(e,this.Fe)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var t=this;return this.We=function(){var r=(0,ye.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var t=(0,ye.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>wp(e).put(new Ya(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(t=>{t||(this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.cn(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(zu(e))return Re("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Me.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return vp(e).get(vi.key).next(t=>Ae.resolve(this.un(t)))}hn(e){return wp(e).delete(this.clientId)}ln(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=bs(r,Ya.store);return o.Bt().next(l=>{const h=e.dn(l,18e5),m=l.filter(E=>-1===h.indexOf(E));return Ae.forEach(m,E=>o.delete(E.clientId)).next(()=>m)})}).catch(()=>[]);if(e.Xe)for(const r of t)e.Xe.removeItem(e.wn(r.clientId))}})()}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?Ae.resolve(!0):vp(e).get(vi.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new Se(de.FAILED_PRECONDITION,qm);return!1}}return!(!this.networkEnabled||!this.inForeground)||wp(e).Bt().next(r=>void 0===this.dn(r,5e3).find(o=>{if(this.clientId!==o.clientId){const h=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||h&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Re("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[vi.store,Ya.store],t=>{const r=new wb(t,ws.I);return e.cn(r).next(()=>e.hn(r))}),e.ze.close(),e.pn()})()}dn(e,t){return e.filter(r=>this.fn(r.updateTimeMs,t)&&!this._n(r.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>wp(e).Bt().next(t=>this.dn(t,18e5).map(r=>r.clientId)))}get started(){return this.Ue}getMutationQueue(e){return Sb.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,r){let l;return Re("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===t?"readonly":"readwrite",mb,h=>(l=new wb(h,this.Be?this.Be.next():ws.I),"readwrite-primary"===t?this.rn(l).next(m=>!!m||this.on(l)).next(m=>{if(!m)throw ir(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)),new Se(de.FAILED_PRECONDITION,_b);return r(l)}).next(m=>this.an(l).next(()=>m)):this.En(l).next(()=>r(l)))).then(h=>(l.raiseOnCommittedEvent(),h))}En(e){return vp(e).get(vi.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)&&!this.un(t)&&!(this.Le||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Se(de.FAILED_PRECONDITION,qm)})}an(e){const t=new vi(this.clientId,this.allowTabSynchronization,Date.now());return vp(e).put(vi.key,t)}static Pt(){return bo.Pt()}cn(e){const t=vp(e);return t.get(vi.key).next(r=>this.un(r)?(Re("IndexedDbPersistence","Releasing primary lease."),t.delete(vi.key)):Ae.resolve())}fn(e,t){const r=Date.now();return!(e<r-t||e>r&&(ir(`Detected an update time that is in the future: ${e} > ${r}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,xt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const r=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Re("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ir("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){ir("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function vp(n){return bs(n,vi.store)}function wp(n){return bs(n,Ya.store)}function Qv(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class TA{constructor(e,t){this.progress=e,this.In=t}}class Jv{constructor(e,t,r){this.Je=e,this.An=t,this.Jt=r}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.bn(e,t,r))}bn(e,t,r){return this.Je.getEntry(e,t).next(o=>{for(const l of r)l.applyToLocalView(o);return o})}Pn(e,t){e.forEach((r,o)=>{for(const l of t)l.applyToLocalView(o)})}vn(e,t){return this.Je.getEntries(e,t).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Pn(t,r))}getDocumentsMatchingQuery(e,t,r){return et.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.Sn(e,t.path):mv(t)?this.Dn(e,t,r):this.Cn(e,t,r);var o}Sn(e,t){return this.Rn(e,new et(t)).next(r=>{let o=Sv();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}Dn(e,t,r){const o=t.collectionGroup;let l=Sv();return this.Jt.getCollectionParents(e,o).next(h=>Ae.forEach(h,m=>{const E=(T=t,M=m.child(o),new Yo(M,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));var T,M;return this.Cn(e,E,r).next(T=>{T.forEach((M,N)=>{l=l.insert(M,N)})})}).next(()=>l))}Cn(e,t,r){let o,l;return this.Je.getDocumentsMatchingQuery(e,t,r).next(h=>(o=h,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(h=>(l=h,this.Nn(e,l,o).next(m=>{o=m;for(const E of l)for(const T of E.mutations){const M=T.key;let N=o.get(M);null==N&&(N=Cn.newInvalidDocument(M),o=o.insert(M,N)),km(T,N,E.localWriteTime),N.isFoundDocument()||(o=o.remove(M))}}))).next(()=>(o.forEach((h,m)=>{oh(t,m)||(o=o.remove(h))}),o))}Nn(e,t,r){let o=Mt();for(const h of t)for(const m of h.mutations)m instanceof Wa&&null===r.get(m.key)&&(o=o.add(m.key));let l=r;return this.Je.getEntries(e,o).next(h=>(h.forEach((m,E)=>{E.isFoundDocument()&&(l=l.insert(m,E))}),l))}}class Gm{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.kn=r,this.xn=o}static $n(e,t){let r=Mt(),o=Mt();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Gm(e,t.fromCache,r,o)}}class Pb{On(e){this.Mn=e}getDocumentsMatchingQuery(e,t,r,o){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(Et.min())?this.Fn(e,t):this.Mn.vn(e,o).next(l=>{const h=this.Ln(t,l);return(qu(t)||Nm(t))&&this.Bn(t.limitType,h,o,r)?this.Fn(e,t):(Tm()<=Wl.in.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),_v(t)),this.Mn.getDocumentsMatchingQuery(e,t,r).next(m=>(h.forEach(E=>{m=m.insert(E.key,E)}),m)))});var l}Ln(e,t){let r=new jn(yv(e));return t.forEach((o,l)=>{oh(e,l)&&(r=r.add(l))}),r}Bn(e,t,r,o){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Fn(e,t){return Tm()<=Wl.in.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",_v(t)),this.Mn.getDocumentsMatchingQuery(e,t,Et.min())}}class wT{constructor(e,t,r,o){this.persistence=e,this.Un=t,this.k=o,this.qn=new ar(Rt),this.Kn=new Cc(l=>ih(l),Sm),this.jn=Et.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new Jv(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function Xv(n,e,t,r){return new wT(n,e,t,r)}function mh(n,e){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,ye.Z)(function*(n,e){const t=je(n);let r=t.An,o=t.Wn;const l=yield t.persistence.runTransaction("Handle user change","readonly",h=>{let m;return t.An.getAllMutationBatches(h).next(E=>(m=E,r=t.persistence.getMutationQueue(e),o=new Jv(t.Qn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(h))).next(E=>{const T=[],M=[];let N=Mt();for(const V of m){T.push(V.batchId);for(const Z of V.mutations)N=N.add(Z.key)}for(const V of E){M.push(V.batchId);for(const Z of V.mutations)N=N.add(Z.key)}return o.vn(h,N).next(V=>({Gn:V,removedBatchIds:T,addedBatchIds:M}))})});return t.An=r,t.Wn=o,t.Un.On(t.Wn),l}),Ep.apply(this,arguments)}function Fb(n,e){const t=je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),l=t.Qn.newChangeBuffer({trackRemovals:!0});return function(h,m,E,T){const M=E.batch,N=M.keys();let V=Ae.resolve();return N.forEach(Z=>{V=V.next(()=>T.getEntry(m,Z)).next(he=>{const Fe=E.docVersions.get(Z);_t(null!==Fe),he.version.compareTo(Fe)<0&&(M.applyToRemoteDocument(he,E),he.isValidDocument()&&T.addEntry(he,E.commitVersion))})}),V.next(()=>h.An.removeMutationBatch(m,M))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.An.performConsistencyCheck(r)).next(()=>t.Wn.vn(r,o))})}function Lb(n){const e=je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function Vb(n,e){const t=je(n),r=e.snapshotVersion;let o=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.Qn.newChangeBuffer({trackRemovals:!0});o=t.qn;const m=[];e.targetChanges.forEach((T,M)=>{const N=o.get(M);if(!N)return;m.push(t.He.removeMatchingKeys(l,T.removedDocuments,M).next(()=>t.He.addMatchingKeys(l,T.addedDocuments,M)));let V=N.withSequenceNumber(l.currentSequenceNumber);var Z,he,Fe;e.targetMismatches.has(M)?V=V.withResumeToken(yr.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):T.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(T.resumeToken,r)),o=o.insert(M,V),he=V,Fe=T,(0===(Z=N).resumeToken.approximateByteSize()||he.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=3e8||Fe.addedDocuments.size+Fe.modifiedDocuments.size+Fe.removedDocuments.size>0)&&m.push(t.He.updateTargetData(l,V))});let E=Ws();if(e.documentUpdates.forEach((T,M)=>{e.resolvedLimboDocuments.has(T)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,T))}),m.push(e0(l,h,e.documentUpdates,r,void 0).next(T=>{E=T})),!r.isEqual(Et.min())){const T=t.He.getLastRemoteSnapshotVersion(l).next(M=>t.He.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(T)}return Ae.waitFor(m).next(()=>h.apply(l)).next(()=>t.Wn.Vn(l,E)).next(()=>E)}).then(l=>(t.qn=o,l))}function e0(n,e,t,r,o){let l=Mt();return t.forEach(h=>l=l.add(h)),e.getEntries(n,l).next(h=>{let m=Ws();return t.forEach((E,T)=>{const M=h.get(E),N=(null==o?void 0:o.get(E))||r;T.isNoDocument()&&T.version.isEqual(Et.min())?(e.removeEntry(E,N),m=m.insert(E,T)):!M.isValidDocument()||T.version.compareTo(M.version)>0||0===T.version.compareTo(M.version)&&M.hasPendingWrites?(e.addEntry(T,N),m=m.insert(E,T)):Re("LocalStore","Ignoring outdated watch update for ",E,". Current version:",M.version," Watch version:",T.version)}),m})}function ET(n,e){const t=je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(r,e)))}function _h(n,e){const t=je(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.He.getTargetData(r,e).next(l=>l?(o=l,Ae.resolve(o)):t.He.allocateTargetId(r).next(h=>(o=new vc(e,h,0,r.currentSequenceNumber),t.He.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.qn.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.qn=t.qn.insert(r.targetId,r),t.Kn.set(e,r.targetId)),r})}function bp(n,e,t){return Ub.apply(this,arguments)}function Ub(){return Ub=(0,ye.Z)(function*(n,e,t){const r=je(n),o=r.qn.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!zu(h))throw h;Re("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.qn=r.qn.remove(e),r.Kn.delete(o.target)}),Ub.apply(this,arguments)}function Cp(n,e,t){const r=je(n);let o=Et.min(),l=Mt();return r.persistence.runTransaction("Execute query","readonly",h=>function(m,E,T){const M=je(m),N=M.Kn.get(T);return void 0!==N?Ae.resolve(M.qn.get(N)):M.He.getTargetData(E,T)}(r,h,Es(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(h,m.targetId).next(E=>{l=E})}).next(()=>r.Un.getDocumentsMatchingQuery(h,e,t?o:Et.min(),t?l:Mt())).next(m=>({documents:m,zn:l})))}function Bb(n,e){const t=je(n),r=je(t.He),o=t.qn.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,e).next(h=>h?h.target:null))}function jb(n){const e=je(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,o,l){const h=je(r);let m=Ws(),E=Cb(l);const T=Lr(o),M=IDBKeyRange.lowerBound(E,!0);return T.jt({index:mn.readTimeIndex,range:M},(N,V)=>{const Z=$v(h.k,V);m=m.insert(Z.key,Z),E=V.readTime}).next(()=>({In:m,readTime:Ib(E)}))}(e.Qn,t,e.jn)).then(({In:t,readTime:r})=>(e.jn=r,t))}function Hb(){return Hb=(0,ye.Z)(function*(n){const e=je(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const o=Lr(r);let l=Et.min();return o.jt({index:mn.readTimeIndex,reverse:!0},(h,m,E)=>{m.readTime&&(l=Ib(m.readTime)),E.done()}).next(()=>l)}(t)).then(t=>{e.jn=t})}),Hb.apply(this,arguments)}function Zb(){return Zb=(0,ye.Z)(function*(n,e,t,r){const o=je(n);let l=Mt(),h=Ws(),m=nb();for(const M of t){const N=e.Hn(M.metadata.name);M.document&&(l=l.add(N)),h=h.insert(N,e.Jn(M)),m=m.insert(N,e.Yn(M.metadata.readTime))}const E=o.Qn.newChangeBuffer({trackRemovals:!0}),T=yield _h(o,(M=r,Es(sh(Gt.fromString(`__bundle__/docs/${M}`)))));var M;return o.persistence.runTransaction("Apply bundle documents","readwrite",M=>e0(M,E,h,Et.min(),m).next(N=>(E.apply(M),N)).next(N=>o.He.removeMatchingKeysForTargetId(M,T.targetId).next(()=>o.He.addMatchingKeys(M,l,T.targetId)).next(()=>o.Wn.Vn(M,N)).next(()=>N)))}),Zb.apply(this,arguments)}function AA(n,e){return $b.apply(this,arguments)}function $b(){return $b=(0,ye.Z)(function*(n,e,t=Mt()){const r=yield _h(n,Es(Um(e.bundledQuery))),o=je(n);return o.persistence.runTransaction("Save named query","readwrite",l=>{const h=ur(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return o.Ye.saveNamedQuery(l,e);const m=r.withResumeToken(yr.EMPTY_BYTE_STRING,h);return o.qn=o.qn.insert(m.targetId,m),o.He.updateTargetData(l,m).next(()=>o.He.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>o.He.addMatchingKeys(l,t,r.targetId)).next(()=>o.Ye.saveNamedQuery(l,e))})}),$b.apply(this,arguments)}class CT{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return Ae.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var r;return this.Xn.set(t.id,{id:(r=t).id,version:r.version,createTime:ur(r.createTime)}),Ae.resolve()}getNamedQuery(e,t){return Ae.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(r=t).name,query:Um(r.bundledQuery),readTime:ur(r.readTime)}),Ae.resolve();var r}}class yh{constructor(){this.ts=new jn(Vr.es),this.ns=new jn(Vr.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const r=new Vr(e,t);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.os(new Vr(e,t))}cs(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new et(new Gt([])),r=new Vr(t,e),o=new Vr(t,e+1),l=[];return this.ns.forEachInRange([r,o],h=>{this.os(h),l.push(h.key)}),l}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new et(new Gt([])),r=new Vr(t,e),o=new Vr(t,e+1);let l=Mt();return this.ns.forEachInRange([r,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Vr(e,0),r=this.ts.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Vr{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return et.comparator(e.key,t.key)||Rt(e.fs,t.fs)}static ss(e,t){return Rt(e.fs,t.fs)||et.comparator(e.key,t.key)}}class IT{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new jn(Vr.es)}checkEmpty(e){return Ae.resolve(0===this.An.length)}addMutationBatch(e,t,r,o){const l=this.ds;this.ds++;const h=new Vm(l,t,r,o);this.An.push(h);for(const m of o)this.ws=this.ws.add(new Vr(m.key,l)),this.Jt.addToCollectionParentIndex(e,m.key.path.popLast());return Ae.resolve(h)}lookupMutationBatch(e,t){return Ae.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.gs(t+1),l=o<0?0:o;return Ae.resolve(this.An.length>l?this.An[l]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return Ae.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Vr(t,0),o=new Vr(t,Number.POSITIVE_INFINITY),l=[];return this.ws.forEachInRange([r,o],h=>{const m=this._s(h.fs);l.push(m)}),Ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new jn(Rt);return t.forEach(o=>{const l=new Vr(o,0),h=new Vr(o,Number.POSITIVE_INFINITY);this.ws.forEachInRange([l,h],m=>{r=r.add(m.fs)})}),Ae.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;et.isDocumentKey(l)||(l=l.child(""));const h=new Vr(new et(l),0);let m=new jn(Rt);return this.ws.forEachWhile(E=>{const T=E.key.path;return!!r.isPrefixOf(T)&&(T.length===o&&(m=m.add(E.fs)),!0)},h),Ae.resolve(this.ys(m))}ys(e){const t=[];return e.forEach(r=>{const o=this._s(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){_t(0===this.ps(t.batchId,"removed")),this.An.shift();let r=this.ws;return Ae.forEach(t.mutations,o=>{const l=new Vr(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,t){const r=new Vr(t,0),o=this.ws.firstAfterOrEqual(r);return Ae.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return Ae.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class qb{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new ar(et.comparator),this.size=0}addEntry(e,t,r){const o=t.key,l=this.docs.get(o),h=l?l.size:0,m=this.Ts(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:m,readTime:r}),this.size+=m-h,this.Jt.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ae.resolve(r?r.document.mutableCopy():Cn.newInvalidDocument(t))}getEntries(e,t){let r=Ws();return t.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():Cn.newInvalidDocument(o))}),Ae.resolve(r)}getDocumentsMatchingQuery(e,t,r){let o=Ws();const l=new et(t.path.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:m,value:{document:E,readTime:T}}=h.getNext();if(!t.path.isPrefixOf(m.path))break;T.compareTo(r)<=0||oh(t,E)&&(o=o.insert(E.key,E.mutableCopy()))}return Ae.resolve(o)}Es(e,t){return Ae.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Ic(this)}getSize(e){return Ae.resolve(this.size)}}class Ic extends Kv{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.document.isValidDocument()?t.push(this.De.addEntry(e,o.document,this.getReadTime(r))):this.De.removeEntry(r)}),Ae.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class Gb{constructor(e){this.persistence=e,this.Is=new Cc(t=>ih(t),Sm),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.As=0,this.Rs=new yh,this.targetCount=0,this.bs=gh.ie()}forEachTarget(e,t){return this.Is.forEach((r,o)=>t(o)),Ae.resolve()}getLastRemoteSnapshotVersion(e){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ae.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.As&&(this.As=t),Ae.resolve()}ae(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new gh(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Ae.resolve()}updateTargetData(e,t){return this.ae(t),Ae.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.Is.forEach((h,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Is.delete(h),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),Ae.waitFor(l).next(()=>o)}getTargetCount(e){return Ae.resolve(this.targetCount)}getTargetData(e,t){const r=this.Is.get(t)||null;return Ae.resolve(r)}addMatchingKeys(e,t,r){return this.Rs.rs(t,r),Ae.resolve()}removeMatchingKeys(e,t,r){this.Rs.cs(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),Ae.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),Ae.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Rs.ls(t);return Ae.resolve(r)}containsKey(e,t){return Ae.resolve(this.Rs.containsKey(t))}}class t0{constructor(e,t){this.Ps={},this.Be=new ws(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new Gb(this),this.Jt=new Db,this.Je=new qb(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new hT(t),this.Ye=new CT(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new IT(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,r){Re("MemoryPersistence","Starting transaction:",e);const o=new n0(this.Be.next());return this.referenceDelegate.Vs(),r(o).next(l=>this.referenceDelegate.Ss(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ds(e,t){return Ae.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,t)))}}class n0 extends jv{constructor(e){super(),this.currentSequenceNumber=e}}class r0{constructor(e){this.persistence=e,this.Cs=new yh,this.Ns=null}static ks(e){return new r0(e)}get xs(){if(this.Ns)return this.Ns;throw it()}addReference(e,t,r){return this.Cs.addReference(r,t),this.xs.delete(r.toString()),Ae.resolve()}removeReference(e,t,r){return this.Cs.removeReference(r,t),this.xs.add(r.toString()),Ae.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Ae.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(o=>this.xs.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.xs.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.xs,r=>{const o=et.fromPath(r);return this.$s(e,o).next(l=>{l||t.removeEntry(o)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return Ae.or([()=>Ae.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function zm(n,e){return`firestore_clients_${n}_${e}`}function Wm(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Km(n,e){return`firestore_targets_${n}_${e}`}class Ip{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Os(e,t,r){const o=JSON.parse(r);let l,h="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(l=new Se(o.error.code,o.error.message))),h?new Ip(e,t,o.state,l):(ir("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ym{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Os(e,t){const r=JSON.parse(t);let o,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(o=new Se(r.error.code,r.error.message))),l?new Ym(e,r.state,o):(ir("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class s0{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Os(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,l=hh();for(let h=0;o&&h<r.activeTargetIds.length;++h)o=FE(r.activeTargetIds[h]),l=l.add(r.activeTargetIds[h]);return o?new s0(e,l):(ir("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class zb{constructor(e,t){this.clientId=e,this.onlineState=t}static Os(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new zb(t.clientId,t.onlineState):(ir("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Wb{constructor(){this.activeTargetIds=hh()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Kb{constructor(e,t,r,o,l){this.window=e,this.Me=t,this.persistenceKey=r,this.Bs=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new ar(Rt),this.started=!1,this.js=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Qs=zm(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new Wb),this.Gs=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(m){return`firestore_bundle_loaded_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.Tn();for(const o of t){if(o===e.Bs)continue;const l=e.getItem(zm(e.persistenceKey,o));if(l){const h=s0.Os(o,l);h&&(e.Ks=e.Ks.insert(h.clientId,h))}}e.Xs();const r=e.storage.getItem(e.Js);if(r){const o=e.Zs(r);o&&e.ti(o)}for(const o of e.js)e.qs(o);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,r){this.ni(e,t,r),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Km(this.persistenceKey,e));if(r){const o=Ym.Os(e,r);o&&(t=o.state)}}return this.ii.Fs(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Km(this.persistenceKey,e))}updateQueryState(e,t,r){this.ri(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.si(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Re("SharedClientState","READ",e,t),t}setItem(e,t){Re("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Re("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Re("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Qs)return void ir("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==r.key)if(t.Gs.test(r.key)){if(null==r.newValue){const o=t.ai(r.key);return t.ui(o,null)}{const o=t.hi(r.key,r.newValue);if(o)return t.ui(o.clientId,o)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const o=t.li(r.key,r.newValue);if(o)return t.fi(o)}}else if(t.Hs.test(r.key)){if(null!==r.newValue){const o=t.di(r.key,r.newValue);if(o)return t.wi(o)}}else if(r.key===t.Js){if(null!==r.newValue){const o=t.Zs(r.newValue);if(o)return t.ti(o)}}else if(r.key===t.Ws){const o=function(l){let h=ws.I;if(null!=l)try{const m=JSON.parse(l);_t("number"==typeof m),h=m}catch(m){ir("SharedClientState","Failed to read sequence number from WebStorage",m)}return h}(r.newValue);o!==ws.I&&t.sequenceNumberHandler(o)}else if(r.key===t.Ys)return t.syncEngine._i()}else t.js.push(r)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(e,t,r){const o=new Ip(this.currentUser,e,t,r),l=Wm(this.persistenceKey,this.currentUser,e);this.setItem(l,o.Ms())}si(e){const t=Wm(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,t,r){const o=Km(this.persistenceKey,e),l=new Ym(e,t,r);this.setItem(o,l.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const r=this.ai(e);return s0.Os(r,t)}li(e,t){const r=this.zs.exec(e),o=Number(r[1]);return Ip.Os(new ei(void 0!==r[2]?r[2]:null),o,t)}di(e,t){const r=this.Hs.exec(e),o=Number(r[1]);return Ym.Os(o,t)}Zs(e){return zb.Os(e)}fi(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.mi(e.batchId,e.state,e.error);Re("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const r=t?this.Ks.insert(e,t):this.Ks.remove(e),o=this.ei(this.Ks),l=this.ei(r),h=[],m=[];return l.forEach(E=>{o.has(E)||h.push(E)}),o.forEach(E=>{l.has(E)||m.push(E)}),this.syncEngine.yi(h,m).then(()=>{this.Ks=r})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=hh();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class TT{constructor(){this.pi=new Wb,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,t,r){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new Wb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class SA{Ei(e){}shutdown(){}}class o0{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){Re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const DT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class AT{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class ST extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,r,o,l){const h=this.Ui(e,t);Re("RestConnection","Sending: ",h,r);const m={};return this.qi(m,o,l),this.Ki(e,h,m,r).then(E=>(Re("RestConnection","Received: ",E),E),E=>{throw Zf("RestConnection",`${e} failed with error: `,E,"url: ",h,"request:",r),E})}ji(e,t,r,o,l){return this.Bi(e,t,r,o,l)}qi(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ac,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),r&&r.headers.forEach((o,l)=>e[l]=o)}Ui(e,t){return`${this.Fi}/v1/${t}:${DT[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,r,o){return new Promise((l,h)=>{const m=new AE;m.listenOnce(LI.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case eh.NO_ERROR:const T=m.getResponseJson();Re("Connection","XHR received:",JSON.stringify(T)),l(T);break;case eh.TIMEOUT:Re("Connection",'RPC "'+e+'" timed out'),h(new Se(de.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const M=m.getStatus();if(Re("Connection",'RPC "'+e+'" failed with status:',M,"response text:",m.getResponseText()),M>0){const N=m.getResponseJson().error;if(N&&N.status&&N.message){const V=function(Z){const he=Z.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(he)>=0?he:de.UNKNOWN}(N.status);h(new Se(V,N.message))}else h(new Se(de.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new Se(de.UNAVAILABLE,"Connection failed."));break;default:it()}}finally{Re("Connection",'RPC "'+e+'" completed.')}});const E=JSON.stringify(o);m.send(t,"POST",E,r,15)})}Qi(e,t,r){const o=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=PI(),h=FI(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new Bn({})),this.qi(m.initMessageHeaders,t,r),(0,xt.uI)()||(0,xt.b$)()||(0,xt.d)()||(0,xt.w1)()||(0,xt.Mn)()||(0,xt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const E=o.join("");Re("Connection","Creating WebChannel: "+E,m);const T=l.createWebChannel(E,m);let M=!1,N=!1;const V=new AT({Vi:he=>{N?Re("Connection","Not sending because WebChannel is closed:",he):(M||(Re("Connection","Opening WebChannel transport."),T.open(),M=!0),Re("Connection","WebChannel sending:",he),T.send(he))},Si:()=>T.close()}),Z=(he,Fe,ze)=>{he.listen(Fe,ft=>{try{ze(ft)}catch(Ut){setTimeout(()=>{throw Ut},0)}})};return Z(T,sv.EventType.OPEN,()=>{N||Re("Connection","WebChannel transport opened.")}),Z(T,sv.EventType.CLOSE,()=>{N||(N=!0,Re("Connection","WebChannel transport closed"),V.Oi())}),Z(T,sv.EventType.ERROR,he=>{N||(N=!0,Zf("Connection","WebChannel transport errored:",he),V.Oi(new Se(de.UNAVAILABLE,"The operation could not be completed")))}),Z(T,sv.EventType.MESSAGE,he=>{var Fe;if(!N){const ze=he.data[0];_t(!!ze);const ft=ze,Ut=ft.error||(null===(Fe=ft[0])||void 0===Fe?void 0:Fe.error);if(Ut){Re("Connection","WebChannel received error:",Ut);const an=Ut.status;let St=function(eu){const RC=In[eu];if(void 0!==RC)return Av(RC)}(an),Mn=Ut.message;void 0===St&&(St=de.INTERNAL,Mn="Unknown error status: "+an+" with message "+Ut.message),N=!0,V.Oi(new Se(St,Mn)),T.close()}else Re("Connection","WebChannel received:",ze),V.Mi(ze)}}),Z(h,Im.STAT_EVENT,he=>{he.stat===Hf.PROXY?Re("Connection","Detected buffering proxy"):he.stat===Hf.NOPROXY&&Re("Connection","Detected no buffering proxy")}),setTimeout(()=>{V.$i()},0),V}}function Yb(){return"undefined"!=typeof window?window:null}function Tp(){return"undefined"!=typeof document?document:null}function vh(n){return new ob(n,!0)}class Qm{constructor(e,t,r=1e3,o=1.5,l=6e4){this.Me=e,this.timerId=t,this.Wi=r,this.Gi=o,this.zi=l,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),o=Math.max(0,t-r);o>0&&Re("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,o,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class Qb{constructor(e,t,r,o,l,h,m,E){this.Me=e,this.nr=r,this.sr=o,this.ir=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=E,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new Qm(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,ye.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,ye.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(e,t){var r=this;return(0,ye.Z)(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(ir(t.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):t&&t.code===de.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.rr===t&&this.Ir(r,o)},r=>{e(()=>{const o=new Se(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(o)})})}Ir(e,t){const r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{r(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(o=>{r(()=>this.Ar(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}dr(){var e=this;this.state=5,this.ur.Zi((0,ye.Z)(function*(){e.state=0,e.start()}))}Ar(e){return Re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Me.enqueueAndForget(()=>this.rr===e?t():(Re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xT extends Qb{constructor(e,t,r,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,h),this.k=l}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function db(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:it(),o=e.targetChange.targetIds||[],l=function(E,T){return E.C?(_t(void 0===T||"string"==typeof T),yr.fromBase64String(T||"")):(_t(void 0===T||T instanceof Uint8Array),yr.fromUint8Array(T||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(E){const T=void 0===E.code?de.UNKNOWN:Av(E.code);return new Se(T,E.message||"")}(h);t=new up(r,o,l,m||null)}else if("documentChange"in e){const r=e.documentChange,o=Ks(n,r.document.name),l=ur(r.document.updateTime),h=new mi({mapValue:{fields:r.document.fields}}),m=Cn.newFoundDocument(o,l,h);t=new Rm(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=Ks(n,r.document),l=r.readTime?ur(r.readTime):Et.min(),h=Cn.newNoDocument(o,l);t=new Rm([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,o=Ks(n,r.document);t=new Rm([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return it();{const r=e.filter,l=new tT(r.count||0);t=new rb(r.targetId,l)}}var E;return t}(this.k,e),r=function(o){if(!("targetChange"in o))return Et.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Et.min():l.readTime?ur(l.readTime):Et.min()}(e);return this.listener.br(t,r)}Pr(e){const t={};t.database=hp(this.k),t.addTarget=function(o,l){let h;const m=l.target;return h=xm(m)?{documents:Fv(o,m)}:{query:Lv(o,m)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=ab(o,l.resumeToken):l.snapshotVersion.compareTo(Et.min())>0&&(h.readTime=cp(o,l.snapshotVersion.toTimestamp())),h}(this.k,e);const r=function fb(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return it()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.gr(t)}vr(e){const t={};t.database=hp(this.k),t.removeTarget=e,this.gr(t)}}class Jb extends Qb{constructor(e,t,r,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,h),this.k=l,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(_t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function sT(n,e){return n&&n.length>0?(_t(void 0!==e),n.map(t=>function(r,o){let l=ur(r.updateTime?r.updateTime:o);return l.isEqual(Et.min())&&(l=ur(o)),new YE(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ur(e.commitTime);return this.listener.Cr(r,t)}return _t(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=hp(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>fp(this.k,r))};this.gr(t)}}class Jm extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=r,this.k=o,this.$r=!1}Or(){if(this.$r)throw new Se(de.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.ir.Bi(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(de.UNKNOWN,o.toString())})}ji(e,t,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.ir.ji(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(de.UNKNOWN,o.toString())})}terminate(){this.$r=!0}}class xA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(ir(t),this.Lr=!1):Re("OnlineStateTracker",t)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class Xb{constructor(e,t,r,o,l){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=l,this.Hr.Ei(m=>{r.enqueueAndForget((0,ye.Z)(function*(){var E;Xu(h)&&(Re("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,ye.Z)(function*(T){const M=je(T);M.Gr.add(4),yield wh(M),M.Jr.set("Unknown"),M.Gr.delete(4),yield Ju(M)}),function(T){return E.apply(this,arguments)})(h))}))}),this.Jr=new xA(r,o)}}function Ju(n){return a0.apply(this,arguments)}function a0(){return a0=(0,ye.Z)(function*(n){if(Xu(n))for(const e of n.zr)yield e(!0)}),a0.apply(this,arguments)}function wh(n){return u0.apply(this,arguments)}function u0(){return u0=(0,ye.Z)(function*(n){for(const e of n.zr)yield e(!1)}),u0.apply(this,arguments)}function Xm(n,e){const t=je(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),d0(t)?c0(t):Ne(t).lr()&&l0(t,e))}function e_(n,e){const t=je(n),r=Ne(t);t.Wr.delete(e),r.lr()&&eC(t,e),0===t.Wr.size&&(r.lr()?r._r():Xu(t)&&t.Jr.set("Unknown"))}function l0(n,e){n.Yr.X(e.targetId),Ne(n).Pr(e)}function eC(n,e){n.Yr.X(e),Ne(n).vr(e)}function c0(n){n.Yr=new iT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),Ne(n).start(),n.Jr.Br()}function d0(n){return Xu(n)&&!Ne(n).hr()&&n.Wr.size>0}function Xu(n){return 0===je(n).Gr.size}function tC(n){n.Yr=void 0}function MT(n){return h0.apply(this,arguments)}function h0(){return h0=(0,ye.Z)(function*(n){n.Wr.forEach((e,t)=>{l0(n,e)})}),h0.apply(this,arguments)}function MA(n,e){return nC.apply(this,arguments)}function nC(){return nC=(0,ye.Z)(function*(n,e){tC(n),d0(n)?(n.Jr.Kr(e),c0(n)):n.Jr.set("Unknown")}),nC.apply(this,arguments)}function OA(n,e,t){return rC.apply(this,arguments)}function rC(){return rC=(0,ye.Z)(function*(n,e,t){if(n.Jr.set("Online"),e instanceof up&&2===e.state&&e.cause)try{yield(r=(0,ye.Z)(function*(o,l){const h=l.cause;for(const m of l.targetIds)o.Wr.has(m)&&(yield o.remoteSyncer.rejectListen(m,h),o.Wr.delete(m),o.Yr.removeTarget(m))}),function(o,l){return r.apply(this,arguments)})(n,e)}catch(r){Re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield f0(n,r)}else if(e instanceof Rm?n.Yr.ot(e):e instanceof rb?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(Et.min()))try{const r=yield Lb(n.localStore);t.compareTo(r)>=0&&(yield function(o,l){const h=o.Yr.gt(l);return h.targetChanges.forEach((m,E)=>{if(m.resumeToken.approximateByteSize()>0){const T=o.Wr.get(E);T&&o.Wr.set(E,T.withResumeToken(m.resumeToken,l))}}),h.targetMismatches.forEach(m=>{const E=o.Wr.get(m);if(!E)return;o.Wr.set(m,E.withResumeToken(yr.EMPTY_BYTE_STRING,E.snapshotVersion)),eC(o,m);const T=new vc(E.target,m,1,E.sequenceNumber);l0(o,T)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){Re("RemoteStore","Failed to raise snapshot:",r),yield f0(n,r)}var r}),rC.apply(this,arguments)}function f0(n,e,t){return p0.apply(this,arguments)}function p0(){return p0=(0,ye.Z)(function*(n,e,t){if(!zu(e))throw e;n.Gr.add(1),yield wh(n),n.Jr.set("Offline"),t||(t=()=>Lb(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Re("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield Ju(n)}))}),p0.apply(this,arguments)}function OT(n,e){return e().catch(t=>f0(n,t,e))}function Dp(n){return iC.apply(this,arguments)}function iC(){return iC=(0,ye.Z)(function*(n){const e=je(n),t=Pe(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;NA(e);)try{const o=yield ET(e.localStore,r);if(null===o){0===e.Qr.length&&t._r();break}r=o.batchId,i(e,o)}catch(o){yield f0(e,o)}s(e)&&a(e)}),iC.apply(this,arguments)}function NA(n){return Xu(n)&&n.Qr.length<10}function i(n,e){n.Qr.push(e);const t=Pe(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function s(n){return Xu(n)&&!Pe(n).hr()&&n.Qr.length>0}function a(n){Pe(n).start()}function c(n){return d.apply(this,arguments)}function d(){return d=(0,ye.Z)(function*(n){Pe(n).kr()}),d.apply(this,arguments)}function p(n){return y.apply(this,arguments)}function y(){return y=(0,ye.Z)(function*(n){const e=Pe(n);for(const t of n.Qr)e.Dr(t.mutations)}),y.apply(this,arguments)}function w(n,e,t){return b.apply(this,arguments)}function b(){return b=(0,ye.Z)(function*(n,e,t){const r=n.Qr.shift(),o=Eb.from(r,e,t);yield OT(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Dp(n)}),b.apply(this,arguments)}function D(n,e){return S.apply(this,arguments)}function S(){return S=(0,ye.Z)(function*(n,e){var t;e&&Pe(n).Sr&&(yield(t=(0,ye.Z)(function*(r,o){if(Dv(l=o.code)&&l!==de.ABORTED){const h=r.Qr.shift();Pe(r).wr(),yield OT(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o)),yield Dp(r)}var l}),function(r,o){return t.apply(this,arguments)})(n,e)),s(n)&&a(n)}),S.apply(this,arguments)}function P(n,e){return B.apply(this,arguments)}function B(){return B=(0,ye.Z)(function*(n,e){const t=je(n);t.asyncQueue.verifyOperationInProgress(),Re("RemoteStore","RemoteStore received new credentials");const r=Xu(t);t.Gr.add(3),yield wh(t),r&&t.Jr.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Gr.delete(3),yield Ju(t)}),B.apply(this,arguments)}function K(n,e){return _e.apply(this,arguments)}function _e(){return _e=(0,ye.Z)(function*(n,e){const t=je(n);e?(t.Gr.delete(2),yield Ju(t)):e||(t.Gr.add(2),yield wh(t),t.Jr.set("Unknown"))}),_e.apply(this,arguments)}function Ne(n){return n.Xr||(n.Xr=function(e,t,r){const o=je(e);return o.Or(),new xT(t,o.ir,o.authCredentials,o.appCheckCredentials,o.k,r)}(n.datastore,n.asyncQueue,{Di:MT.bind(null,n),Ni:MA.bind(null,n),br:OA.bind(null,n)}),n.zr.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Xr.wr(),d0(n)?c0(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),tC(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function Pe(n){return n.Zr||(n.Zr=function(e,t,r){const o=je(e);return o.Or(),new Jb(t,o.ir,o.authCredentials,o.appCheckCredentials,o.k,r)}(n.datastore,n.asyncQueue,{Di:c.bind(null,n),Ni:D.bind(null,n),Nr:p.bind(null,n),Cr:w.bind(null,n)}),n.zr.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Zr.wr(),yield Dp(n)):(yield n.Zr.stop(),n.Qr.length>0&&(Re("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class Ge{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,o,l){const h=Date.now()+r,m=new Ge(e,t,h,o,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Se(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function we(n,e){if(ir("AsyncQueue",`${e}: ${n}`),zu(n))return new Se(de.UNAVAILABLE,`${e}: ${n}`);throw n}class tt{constructor(e){this.comparator=e?(t,r)=>e(t,r)||et.comparator(t.key,r.key):(t,r)=>et.comparator(t.key,r.key),this.keyedMap=Sv(),this.sortedSet=new ar(this.comparator)}static emptySet(e){return new tt(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof tt)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new tt;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Ot{constructor(){this.eo=new ar(et.comparator)}track(e){const t=e.doc.key,r=this.eo.get(t);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(t):1===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):it():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ft{constructor(e,t,r,o,l,h,m,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=E}static fromInitialDocuments(e,t,r,o){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new Ft(e,t,tt.emptySet(t),l,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ep(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class Cs{constructor(){this.so=void 0,this.listeners=[]}}class Tc{constructor(){this.queries=new Cc(e=>$E(e),ep),this.onlineState="Unknown",this.io=new Set}}function Ap(n,e){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,ye.Z)(function*(n,e){const t=je(n),r=e.query;let o=!1,l=t.queries.get(r);if(l||(o=!0,l=new Cs),o)try{l.so=yield t.onListen(r)}catch(h){const m=we(h,`Initialization of query '${_v(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,l),l.listeners.push(e),e.ro(t.onlineState),l.so&&e.oo(l.so)&&Op(t)}),Sp.apply(this,arguments)}function xp(n,e){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,ye.Z)(function*(n,e){const t=je(n),r=e.query;let o=!1;const l=t.queries.get(r);if(l){const h=l.listeners.indexOf(e);h>=0&&(l.listeners.splice(h,1),o=0===l.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),Mp.apply(this,arguments)}function g0(n,e){const t=je(n);let r=!1;for(const o of e){const h=t.queries.get(o.query);if(h){for(const m of h.listeners)m.oo(o)&&(r=!0);h.so=o}}r&&Op(t)}function m0(n,e,t){const r=je(n),o=r.queries.get(e);if(o)for(const l of o.listeners)l.onError(t);r.queries.delete(e)}function Op(n){n.io.forEach(e=>{e.next()})}class Np{constructor(e,t,r){this.query=e,this.co=t,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Ft(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.ao?this.ho(e)&&(this.co.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=Ft.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class _0{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class kA{constructor(e){this.k=e}Hn(e){return Ks(this.k,e)}Jn(e){return e.metadata.exists?Pm(this.k,e.document,!1):Cn.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return ur(e)}}class ix{constructor(e,t,r){this.mo=e,this.localStore=t,this.k=r,this.queries=[],this.documents=[],this.progress=RA(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,r=new kA(this.k);for(const o of e)if(o.metadata.queries){const l=r.Hn(o.metadata.name);for(const h of o.metadata.queries){const m=(t.get(h)||Mt()).add(l);t.set(h,m)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function DA(n,e,t,r){return Zb.apply(this,arguments)}(e.localStore,new kA(e.k),e.documents,e.mo.id),r=e.po(e.documents);for(const o of e.queries)yield AA(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",new TA(Object.assign({},e.progress),t)})()}}function RA(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class PA{constructor(e){this.key=e}}class FA{constructor(e){this.key=e}}class LA{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=Mt(),this.mutatedKeys=Mt(),this.Ao=yv(e),this.Ro=new tt(this.Ao)}get bo(){return this.To}Po(e,t){const r=t?t.vo:new Ot,o=t?t.Ro:this.Ro;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const E=qu(this.query)&&o.size===this.query.limit?o.last():null,T=Nm(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((M,N)=>{const V=o.get(M),Z=oh(this.query,N)?N:null,he=!!V&&this.mutatedKeys.has(V.key),Fe=!!Z&&(Z.hasLocalMutations||this.mutatedKeys.has(Z.key)&&Z.hasCommittedMutations);let ze=!1;V&&Z?V.data.isEqual(Z.data)?he!==Fe&&(r.track({type:3,doc:Z}),ze=!0):this.Vo(V,Z)||(r.track({type:2,doc:Z}),ze=!0,(E&&this.Ao(Z,E)>0||T&&this.Ao(Z,T)<0)&&(m=!0)):!V&&Z?(r.track({type:0,doc:Z}),ze=!0):V&&!Z&&(r.track({type:1,doc:V}),ze=!0,(E||T)&&(m=!0)),ze&&(Z?(h=h.add(Z),l=Fe?l.add(M):l.delete(M)):(h=h.delete(M),l=l.delete(M)))}),qu(this.query)||Nm(this.query))for(;h.size>this.query.limit;){const M=qu(this.query)?h.last():h.first();h=h.delete(M.key),l=l.delete(M.key),r.track({type:1,doc:M})}return{Ro:h,vo:r,Bn:m,mutatedKeys:l}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const l=e.vo.no();l.sort((T,M)=>function(N,V){const Z=he=>{switch(he){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it()}};return Z(N)-Z(V)}(T.type,M.type)||this.Ao(T.doc,M.doc)),this.So(r);const h=t?this.Do():[],m=0===this.Io.size&&this.current?1:0,E=m!==this.Eo;return this.Eo=m,0!==l.length||E?{snapshot:new Ft(this.query,e.Ro,o,l,e.mutatedKeys,0===m,E,!1),Co:h}:{Co:h}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new Ot,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=Mt(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const t=[];return e.forEach(r=>{this.Io.has(r)||t.push(new FA(r))}),this.Io.forEach(r=>{e.has(r)||t.push(new PA(r))}),t}ko(e){this.To=e.zn,this.Io=Mt();const t=this.Po(e.documents);return this.applyChanges(t,!0)}xo(){return Ft.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class sx{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ox{constructor(e){this.key=e,this.$o=!1}}class ax{constructor(e,t,r,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Oo={},this.Mo=new Cc(m=>$E(m),ep),this.Fo=new Map,this.Lo=new Set,this.Bo=new ar(et.comparator),this.Uo=new Map,this.qo=new yh,this.Ko={},this.jo=new Map,this.Qo=gh.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function ux(n,e){return NT.apply(this,arguments)}function NT(){return NT=(0,ye.Z)(function*(n,e){const t=tD(n);let r,o;const l=t.Mo.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),o=l.view.xo();else{const h=yield _h(t.localStore,Es(e)),m=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,o=yield kT(t,e,r,"current"===m),t.isPrimaryClient&&Xm(t.remoteStore,h)}return o}),NT.apply(this,arguments)}function kT(n,e,t,r){return RT.apply(this,arguments)}function RT(){return RT=(0,ye.Z)(function*(n,e,t,r){n.Go=(M,N,V)=>{return(Z=(0,ye.Z)(function*(he,Fe,ze,ft){let Ut=Fe.view.Po(ze);Ut.Bn&&(Ut=yield Cp(he.localStore,Fe.query,!1).then(({documents:Mn})=>Fe.view.Po(Mn,Ut)));const an=ft&&ft.targetChanges.get(Fe.targetId),St=Fe.view.applyChanges(Ut,he.isPrimaryClient,an);return $T(he,Fe.targetId,St.Co),St.snapshot}),function(he,Fe,ze,ft){return Z.apply(this,arguments)})(n,M,N,V);var Z};const o=yield Cp(n.localStore,e,!0),l=new LA(e,o.zn),h=l.Po(o.documents),m=ap.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),E=l.applyChanges(h,n.isPrimaryClient,m);$T(n,t,E.Co);const T=new sx(e,t,l);return n.Mo.set(e,T),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),E.snapshot}),RT.apply(this,arguments)}function lx(n,e){return PT.apply(this,arguments)}function PT(){return PT=(0,ye.Z)(function*(n,e){const t=je(n),r=t.Mo.get(e),o=t.Fo.get(r.targetId);if(o.length>1)return t.Fo.set(r.targetId,o.filter(l=>!ep(l,e))),void t.Mo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield bp(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),e_(t.remoteStore,r.targetId),t_(t,r.targetId)}).catch(bc))):(t_(t,r.targetId),yield bp(t.localStore,r.targetId,!0))}),PT.apply(this,arguments)}function FT(){return FT=(0,ye.Z)(function*(n,e,t){const r=nD(n);try{const o=yield function(l,h){const m=je(l),E=ti.now(),T=h.reduce((N,V)=>N.add(V.key),Mt());let M;return m.persistence.runTransaction("Locally write mutations","readwrite",N=>m.Wn.vn(N,T).next(V=>{M=V;const Z=[];for(const he of h){const Fe=bv(he,M.get(he.key));null!=Fe&&Z.push(new Wa(he.key,Fe,VE(Fe.value.mapValue),or.exists(!0)))}return m.An.addMutationBatch(N,E,Z,h)})).then(N=>(N.applyToLocalDocumentSet(M),{batchId:N.batchId,changes:M}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(l,h,m){let E=l.Ko[l.currentUser.toKey()];E||(E=new ar(Rt)),E=E.insert(h,m),l.Ko[l.currentUser.toKey()]=E}(r,o.batchId,t),yield Dc(r,o.changes),yield Dp(r.remoteStore)}catch(o){const l=we(o,"Failed to persist write");t.reject(l)}}),FT.apply(this,arguments)}function VA(n,e){return LT.apply(this,arguments)}function LT(){return LT=(0,ye.Z)(function*(n,e){const t=je(n);try{const r=yield Vb(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Uo.get(l);h&&(_t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.$o=!0:o.modifiedDocuments.size>0?_t(h.$o):o.removedDocuments.size>0&&(_t(h.$o),h.$o=!1))}),yield Dc(t,r,e)}catch(r){yield bc(r)}}),LT.apply(this,arguments)}function UA(n,e,t){const r=je(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.Mo.forEach((l,h)=>{const m=h.view.ro(e);m.snapshot&&o.push(m.snapshot)}),function(l,h){const m=je(l);m.onlineState=h;let E=!1;m.queries.forEach((T,M)=>{for(const N of M.listeners)N.ro(h)&&(E=!0)}),E&&Op(m)}(r.eventManager,e),o.length&&r.Oo.br(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function dx(n,e,t){return VT.apply(this,arguments)}function VT(){return VT=(0,ye.Z)(function*(n,e,t){const r=je(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Uo.get(e),l=o&&o.key;if(l){let h=new ar(et.comparator);h=h.insert(l,Cn.newNoDocument(l,Et.min()));const m=Mt().add(l),E=new Ka(Et.min(),new Map,new jn(Rt),h,m);yield VA(r,E),r.Bo=r.Bo.remove(l),r.Uo.delete(e),qT(r)}else yield bp(r.localStore,e,!1).then(()=>t_(r,e,t)).catch(bc)}),VT.apply(this,arguments)}function hx(n,e){return UT.apply(this,arguments)}function UT(){return UT=(0,ye.Z)(function*(n,e){const t=je(n),r=e.batch.batchId;try{const o=yield Fb(t.localStore,e);ZT(t,r,null),HT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Dc(t,o)}catch(o){yield bc(o)}}),UT.apply(this,arguments)}function fx(n,e,t){return BT.apply(this,arguments)}function BT(){return BT=(0,ye.Z)(function*(n,e,t){const r=je(n);try{const o=yield function(l,h){const m=je(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let T;return m.An.lookupMutationBatch(E,h).next(M=>(_t(null!==M),T=M.keys(),m.An.removeMutationBatch(E,M))).next(()=>m.An.performConsistencyCheck(E)).next(()=>m.Wn.vn(E,T))})}(r.localStore,e);ZT(r,e,t),HT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Dc(r,o)}catch(o){yield bc(o)}}),BT.apply(this,arguments)}function jT(){return jT=(0,ye.Z)(function*(n,e){const t=je(n);Xu(t.remoteStore)||Re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const h=je(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>h.An.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.jo.get(r)||[];o.push(e),t.jo.set(r,o)}catch(r){const o=we(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),jT.apply(this,arguments)}function HT(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function ZT(n,e,t){const r=je(n);let o=r.Ko[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.Ko[r.currentUser.toKey()]=o}}function t_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Fo.get(e))n.Mo.delete(r),t&&n.Oo.zo(r,t);n.Fo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(r=>{n.qo.containsKey(r)||BA(n,r)})}function BA(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(e_(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),qT(n))}function $T(n,e,t){for(const r of t)r instanceof PA?(n.qo.addReference(r.key,e),gx(n,r)):r instanceof FA?(Re("SyncEngine","Document no longer in limbo: "+r.key),n.qo.removeReference(r.key,e),n.qo.containsKey(r.key)||BA(n,r.key)):it()}function gx(n,e){const t=e.key,r=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(r)||(Re("SyncEngine","New document in limbo: "+t),n.Lo.add(r),qT(n))}function qT(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new et(Gt.fromString(e)),r=n.Qo.next();n.Uo.set(r,new ox(t)),n.Bo=n.Bo.insert(t,r),Xm(n.remoteStore,new vc(Es(sh(t.path)),r,2,ws.I))}}function Dc(n,e,t){return GT.apply(this,arguments)}function GT(){return GT=(0,ye.Z)(function*(n,e,t){const r=je(n),o=[],l=[],h=[];var m;r.Mo.isEmpty()||(r.Mo.forEach((m,E)=>{h.push(r.Go(E,e,t).then(T=>{if(T){r.isPrimaryClient&&r.sharedClientState.updateQueryState(E.targetId,T.fromCache?"not-current":"current"),o.push(T);const M=Gm.$n(E.targetId,T);l.push(M)}}))}),yield Promise.all(h),r.Oo.br(o),yield(m=(0,ye.Z)(function*(E,T){const M=je(E);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>Ae.forEach(T,V=>Ae.forEach(V.kn,Z=>M.persistence.referenceDelegate.addReference(N,V.targetId,Z)).next(()=>Ae.forEach(V.xn,Z=>M.persistence.referenceDelegate.removeReference(N,V.targetId,Z)))))}catch(N){if(!zu(N))throw N;Re("LocalStore","Failed to update sequence numbers: "+N)}for(const N of T){const V=N.targetId;if(!N.fromCache){const Z=M.qn.get(V),Fe=Z.withLastLimboFreeSnapshotVersion(Z.snapshotVersion);M.qn=M.qn.insert(V,Fe)}}}),function(E,T){return m.apply(this,arguments)})(r.localStore,l))}),GT.apply(this,arguments)}function mx(n,e){return zT.apply(this,arguments)}function zT(){return zT=(0,ye.Z)(function*(n,e){const t=je(n);if(!t.currentUser.isEqual(e)){Re("SyncEngine","User change. New user:",e.toKey());const r=yield mh(t.localStore,e);t.currentUser=e,(o=t).jo.forEach(h=>{h.forEach(m=>{m.reject(new Se(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.jo.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Dc(t,r.Gn)}var o}),zT.apply(this,arguments)}function _x(n,e){const t=je(n),r=t.Uo.get(e);if(r&&r.$o)return Mt().add(r.key);{let o=Mt();const l=t.Fo.get(e);if(!l)return o;for(const h of l){const m=t.Mo.get(h);o=o.unionWith(m.view.bo)}return o}}function yx(n,e){return WT.apply(this,arguments)}function WT(){return WT=(0,ye.Z)(function*(n,e){const t=je(n),r=yield Cp(t.localStore,e.query,!0),o=e.view.ko(r);return t.isPrimaryClient&&$T(t,e.targetId,o.Co),o}),WT.apply(this,arguments)}function vx(n){return KT.apply(this,arguments)}function KT(){return KT=(0,ye.Z)(function*(n){const e=je(n);return jb(e.localStore).then(t=>Dc(e,t))}),KT.apply(this,arguments)}function wx(n,e,t,r){return YT.apply(this,arguments)}function YT(){return YT=(0,ye.Z)(function*(n,e,t,r){const o=je(n),l=yield function(h,m){const E=je(h),T=je(E.An);return E.persistence.runTransaction("Lookup mutation documents","readonly",M=>T.Zt(M,m).next(N=>N?E.Wn.vn(M,N):Ae.resolve(null)))}(o.localStore,e);var m;null!==l?("pending"===t?yield Dp(o.remoteStore):"acknowledged"===t||"rejected"===t?(ZT(o,e,r||null),HT(o,e),m=e,je(je(o.localStore).An).ee(m)):it(),yield Dc(o,l)):Re("SyncEngine","Cannot apply mutation batch with id: "+e)}),YT.apply(this,arguments)}function QT(){return QT=(0,ye.Z)(function*(n,e){const t=je(n);if(tD(t),nD(t),!0===e&&!0!==t.Wo){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield jA(t,r.toArray());t.Wo=!0,yield K(t.remoteStore,!0);for(const l of o)Xm(t.remoteStore,l)}else if(!1===e&&!1!==t.Wo){const r=[];let o=Promise.resolve();t.Fo.forEach((l,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):o=o.then(()=>(t_(t,h),bp(t.localStore,h,!0))),e_(t.remoteStore,h)}),yield o,yield jA(t,r),function(l){const h=je(l);h.Uo.forEach((m,E)=>{e_(h.remoteStore,E)}),h.qo.hs(),h.Uo=new Map,h.Bo=new ar(et.comparator)}(t),t.Wo=!1,yield K(t.remoteStore,!1)}}),QT.apply(this,arguments)}function jA(n,e,t){return JT.apply(this,arguments)}function JT(){return JT=(0,ye.Z)(function*(n,e,t){const r=je(n),o=[],l=[];for(const h of e){let m;const E=r.Fo.get(h);if(E&&0!==E.length){m=yield _h(r.localStore,Es(E[0]));for(const T of E){const M=r.Mo.get(T),N=yield yx(r,M);N.snapshot&&l.push(N.snapshot)}}else{const T=yield Bb(r.localStore,h);m=yield _h(r.localStore,T),yield kT(r,HA(T),h,!1)}o.push(m)}return r.Oo.br(l),o}),JT.apply(this,arguments)}function HA(n){return XI(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function bx(n){const e=je(n);return je(je(e.localStore).persistence).Tn()}function Cx(n,e,t,r){return XT.apply(this,arguments)}function XT(){return XT=(0,ye.Z)(function*(n,e,t,r){const o=je(n);if(o.Wo)Re("SyncEngine","Ignoring unexpected query state notification.");else if(o.Fo.has(e))switch(t){case"current":case"not-current":{const l=yield jb(o.localStore),h=Ka.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Dc(o,l,h);break}case"rejected":yield bp(o.localStore,e,!0),t_(o,e,r);break;default:it()}}),XT.apply(this,arguments)}function Ix(n,e,t){return eD.apply(this,arguments)}function eD(){return eD=(0,ye.Z)(function*(n,e,t){const r=tD(n);if(r.Wo){for(const o of e){if(r.Fo.has(o)){Re("SyncEngine","Adding an already active target "+o);continue}const l=yield Bb(r.localStore,o),h=yield _h(r.localStore,l);yield kT(r,HA(l),h.targetId,!1),Xm(r.remoteStore,h)}for(const o of t)r.Fo.has(o)&&(yield bp(r.localStore,o,!1).then(()=>{e_(r.remoteStore,o),t_(r,o)}).catch(bc))}}),eD.apply(this,arguments)}function tD(n){const e=je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=VA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_x.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dx.bind(null,e),e.Oo.br=g0.bind(null,e.eventManager),e.Oo.zo=m0.bind(null,e.eventManager),e}function nD(n){const e=je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fx.bind(null,e),e}class ZA{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.k=vh(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return Xv(this.persistence,new Pb,e.initialUser,this.k)}Yo(e){return new t0(r0.ks,this.k)}Jo(e){return new TT}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class $A extends ZA{constructor(e,t,r){super(),this.tc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e),yield function bT(n){return Hb.apply(this,arguments)}(r.localStore),yield r.tc.initialize(r,e),yield nD(r.tc.syncEngine),yield Dp(r.tc.remoteStore),yield r.persistence.sn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Zo(e){return Xv(this.persistence,new Pb,e.initialUser,this.k)}Xo(e){return new Wv(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const t=Qv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ii.withCacheSize(this.cacheSizeBytes):ii.DEFAULT;return new Yv(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Yb(),Tp(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new TT}}class Dx extends $A{constructor(e,t){super(e,t,!1),this.tc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e);const o=r.tc.syncEngine;r.sharedClientState instanceof Kb&&(r.sharedClientState.syncEngine={mi:wx.bind(null,o),gi:Cx.bind(null,o),yi:Ix.bind(null,o),Tn:bx.bind(null,o),_i:vx.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.sn(function(){var l=(0,ye.Z)(function*(h){yield function Ex(n,e){return QT.apply(this,arguments)}(r.tc.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return l.apply(this,arguments)}}())})()}Jo(e){const t=Yb();if(!Kb.Pt(t))throw new Se(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Qv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Kb(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class rD{initialize(e,t){var r=this;return(0,ye.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>UA(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=mx.bind(null,r.syncEngine),yield K(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Tc}createDatastore(e){const t=vh(e.databaseInfo.databaseId),r=new ST(e.databaseInfo);return new Jm(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,l=m=>UA(this.syncEngine,m,0),h=o0.Pt()?new o0:new SA,new Xb(t,r,o,l,h);var t,r,o,l,h}createSyncEngine(e,t){return function(r,o,l,h,m,E,T){const M=new ax(r,o,l,h,m,E);return T&&(M.Wo=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const r=je(t);Re("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield wh(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function qA(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class sC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Ax{constructor(e,t){this.sc=e,this.k=t,this.metadata=new _r,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(r=>{r&&r._o()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.sc.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.rc()})()}rc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.oc();if(null===t)return null;const r=e.ic.decode(t),o=Number(r);isNaN(o)&&e.cc(`length string (${r}) is not valid number`);const l=yield e.ac(o);return new _0(JSON.parse(l),t.length+o)})()}uc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oc(){var e=this;return(0,ye.Z)(function*(){for(;e.uc()<0&&!(yield e.hc()););if(0===e.buffer.length)return null;const t=e.uc();t<0&&e.cc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ac(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.hc())&&t.cc("Reached the end of bundle when more is expected.");const r=t.ic.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}cc(e){throw this.sc.cancel(),new Error(`Invalid bundle format: ${e}`)}hc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.sc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Sx{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Se(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,ye.Z)(function*(l,h){const m=je(l),E=hp(m.k)+"/documents",T={documents:h.map(Z=>mc(m.k,Z))},M=yield m.ji("BatchGetDocuments",E,T),N=new Map;M.forEach(Z=>{const he=function cb(n,e){return"found"in e?function(t,r){_t(!!r.found);const o=Ks(t,r.found.name),l=ur(r.found.updateTime),h=new mi({mapValue:{fields:r.found.fields}});return Cn.newFoundDocument(o,l,h)}(n,e):"missing"in e?function(t,r){_t(!!r.missing),_t(!!r.readTime);const o=Ks(t,r.missing),l=ur(r.readTime);return Cn.newNoDocument(o,l)}(n,e):it()}(m.k,Z);N.set(he.key.toString(),he)});const V=[];return h.forEach(Z=>{const he=N.get(Z.toString());_t(!!he),V.push(he)}),V}),function(l,h){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new ip(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const l=et.fromPath(o);e.mutations.push(new Tv(l,e.precondition(l)))}),yield(r=(0,ye.Z)(function*(o,l){const h=je(o),m=hp(h.k)+"/documents",E={writes:l.map(T=>fp(h.k,T))};yield h.Bi("Commit",m,E)}),function(o,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw it();t=Et.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Se(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?or.updateTime(t):or.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Et.min()))throw new Se(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return or.updateTime(t)}return or.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class xx{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.lc=5,this.ur=new Qm(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var e=this;this.ur.Zi((0,ye.Z)(function*(){const t=new Sx(e.datastore),r=e.dc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(l=>{e.wc(l)}))}).catch(o=>{e.wc(o)})}))}dc(e){try{const t=this.updateFunction(e);return!lc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}wc(e){this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(e)}_c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Dv(t)}return!1}}class Mx{constructor(e,t,r,o){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=ei.UNAUTHENTICATED,this.clientId=kE.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,ye.Z)(function*(m){Re("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,h=>(Re("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Se(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=we(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function GA(n,e){return iD.apply(this,arguments)}function iD(){return iD=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Re("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,ye.Z)(function*(l){r.isEqual(l)||(yield mh(e.localStore,l),r=l)});return function(l){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),iD.apply(this,arguments)}function zA(n,e){return sD.apply(this,arguments)}function sD(){return sD=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield oD(n);Re("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>P(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,l)=>P(e.remoteStore,l)),n.onlineComponents=e}),sD.apply(this,arguments)}function oD(n){return aD.apply(this,arguments)}function aD(){return aD=(0,ye.Z)(function*(n){return n.offlineComponents||(Re("FirestoreClient","Using default OfflineComponentProvider"),yield GA(n,new ZA)),n.offlineComponents}),aD.apply(this,arguments)}function oC(n){return uD.apply(this,arguments)}function uD(){return uD=(0,ye.Z)(function*(n){return n.onlineComponents||(Re("FirestoreClient","Using default OnlineComponentProvider"),yield zA(n,new rD)),n.onlineComponents}),uD.apply(this,arguments)}function WA(n){return oD(n).then(e=>e.persistence)}function lD(n){return oD(n).then(e=>e.localStore)}function KA(n){return oC(n).then(e=>e.remoteStore)}function cD(n){return oC(n).then(e=>e.syncEngine)}function n_(n){return dD.apply(this,arguments)}function dD(){return dD=(0,ye.Z)(function*(n){const e=yield oC(n),t=e.eventManager;return t.onListen=ux.bind(null,e.syncEngine),t.onUnlisten=lx.bind(null,e.syncEngine),t}),dD.apply(this,arguments)}function YA(n,e,t={}){const r=new _r;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(o,l,h,m,E){const T=new sC({next:N=>{l.enqueueAndForget(()=>xp(o,M));const V=N.docs.has(h);!V&&N.fromCache?E.reject(new Se(de.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&N.fromCache&&m&&"server"===m.source?E.reject(new Se(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(N)},error:N=>E.reject(N)}),M=new Np(sh(h.path),T,{includeMetadataChanges:!0,wo:!0});return Ap(o,M)}(yield n_(n),n.asyncQueue,e,t,r)})),r.promise}function QA(n,e,t={}){const r=new _r;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(o,l,h,m,E){const T=new sC({next:N=>{l.enqueueAndForget(()=>xp(o,M)),N.fromCache&&"server"===m.source?E.reject(new Se(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(N)},error:N=>E.reject(N)}),M=new Np(h,T,{includeMetadataChanges:!0,wo:!0});return Ap(o,M)}(yield n_(n),n.asyncQueue,e,t,r)})),r.promise}class Ux{constructor(e,t,r,o,l,h,m,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.useFetchStreams=E}}class r_{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof r_&&e.projectId===this.projectId&&e.database===this.database}}const JA=new Map;function hD(n,e,t){if(!t)throw new Se(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function XA(n,e,t,r){if(!0===e&&!0===r)throw new Se(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function eS(n){if(!et.isDocumentKey(n))throw new Se(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function tS(n){if(et.isDocumentKey(n))throw new Se(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function aC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":it()}function jt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=aC(n);throw new Se(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function nS(n,e){if(e<=0)throw new Se(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class rS{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Se(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Se(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,XA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class y0{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rS({}),this._settingsFrozen=!1,e instanceof r_?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Se(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new r_(o.options.projectId)}(e))}get app(){if(!this._app)throw new Se(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Se(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rS(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new $f;switch(t.type){case"gapi":const r=t.client;return _t(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new jI(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Se(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=JA.get(e);t&&(Re("ComponentProvider","Removing Datastore"),JA.delete(e),t.terminate())}(this),Promise.resolve()}}class xn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new el(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}}class Qi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qi(this.firestore,e,this._query)}}class el extends Qi{constructor(e,t,r){super(e,t,sh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new et(e))}withConverter(e){return new el(this.firestore,e,this._path)}}function iS(n,e,...t){if(n=(0,xt.m9)(n),hD("collection","path",e),n instanceof y0){const r=Gt.fromString(e,...t);return tS(r),new el(n,null,r)}{if(!(n instanceof xn||n instanceof el))throw new Se(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Gt.fromString(e,...t));return tS(r),new el(n.firestore,null,r)}}function uC(n,e,...t){if(n=(0,xt.m9)(n),1===arguments.length&&(e=kE.A()),hD("doc","path",e),n instanceof y0){const r=Gt.fromString(e,...t);return eS(r),new xn(n,null,new et(r))}{if(!(n instanceof xn||n instanceof el))throw new Se(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Gt.fromString(e,...t));return eS(r),new xn(n.firestore,n instanceof el?n.converter:null,new et(r))}}function sS(n,e){return n=(0,xt.m9)(n),e=(0,xt.m9)(e),(n instanceof xn||n instanceof el)&&(e instanceof xn||e instanceof el)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function oS(n,e){return n=(0,xt.m9)(n),e=(0,xt.m9)(e),n instanceof Qi&&e instanceof Qi&&n.firestore===e.firestore&&ep(n._query,e._query)&&n.converter===e.converter}class Hx{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new Qm(this,"async_queue_retry"),this.bc=()=>{const t=Tp();t&&Re("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=Tp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const t=Tp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise(()=>{});const t=new _r;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.gc.push(e),this.Vc()))}Vc(){var e=this;return(0,ye.Z)(function*(){if(0!==e.gc.length){try{yield e.gc[0](),e.gc.shift(),e.ur.reset()}catch(t){if(!zu(t))throw t;Re("AsyncQueue","Operation failed with retryable error: "+t)}e.gc.length>0&&e.ur.Zi(()=>e.Vc())}})()}vc(e){const t=this.mc.then(()=>(this.Ic=!0,e().catch(r=>{throw this.Ec=r,this.Ic=!1,ir("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(r)),r}).then(r=>(this.Ic=!1,r))));return this.mc=t,t}enqueueAfterDelay(e,t,r){this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);const o=Ge.createAndSchedule(this,e,t,r,l=>this.Sc(l));return this.Tc.push(o),o}Pc(){this.Ec&&it()}verifyOperationInProgress(){}Dc(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e.mc,yield t}while(t!==e.mc)})()}Cc(e){for(const t of this.Tc)if(t.timerId===e)return!0;return!1}Nc(e){return this.Dc().then(()=>{this.Tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Dc()})}kc(e){this.Rc.push(e)}Sc(e){const t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}function fD(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class Zx{constructor(){this._progressObserver={},this._taskCompletionResolver=new _r,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Hn extends y0{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new Hx,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||aS(this),this._firestoreClient.terminate()}}function Ur(n){return n._firestoreClient||aS(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function aS(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Ux(n._databaseId,l,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;n._firestoreClient=new Mx(n._authCredentials,n._appCheckCredentials,n._queue,r)}function uS(n,e,t){const r=new _r;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield GA(n,t),yield zA(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(l=o).name?l.code===de.FAILED_PRECONDITION||l.code===de.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var l})).then(()=>r.promise)}function lS(n){if(n._initialized||n._terminated)throw new Se(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ac{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Se(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ni(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class tl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tl(yr.fromBase64String(e))}catch(t){throw new Se(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new tl(yr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class kp{constructor(e){this._methodName=e}}class lC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Rt(this._lat,e._lat)||Rt(this._long,e._long)}}const Xx=/^__.*__$/;class eM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Wa(e,this.data,this.fieldMask,t,this.fieldTransforms):new dh(e,this.data,t,this.fieldTransforms)}}class cS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Wa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it()}}class cC{constructor(e,t,r,o,l,h){this.settings=e,this.databaseId=t,this.k=r,this.ignoreUndefinedProperties=o,void 0===l&&this.xc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new cC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Oc({path:r,Fc:!1});return o.Lc(e),o}Bc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Oc({path:r,Fc:!1});return o.xc(),o}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return fC(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(dS(this.$c)&&Xx.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class tM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=r||vh(e)}Qc(e,t,r,o=!1){return new cC({$c:e,methodName:t,jc:r,path:ni.emptyPath(),Fc:!1,Kc:o},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function Rp(n){const e=n._freezeSettings(),t=vh(n._databaseId);return new tM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function dC(n,e,t,r,o,l={}){const h=n.Qc(l.merge||l.mergeFields?2:0,e,t,o);_D("Data must be an object, but it was:",h,r);const m=pS(r,h);let E,T;if(l.merge)E=new th(h.fieldMask),T=h.fieldTransforms;else if(l.mergeFields){const M=[];for(const N of l.mergeFields){const V=yD(e,N,t);if(!h.contains(V))throw new Se(de.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);mS(M,V)||M.push(V)}E=new th(M),T=h.fieldTransforms.filter(N=>E.covers(N.field))}else E=null,T=h.fieldTransforms;return new eM(new mi(m),E,T)}class v0 extends kp{_toFieldTransform(e){if(2!==e.$c)throw e.qc(1===e.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof v0}}function hS(n,e,t){return new cC({$c:3,jc:e.settings.jc,methodName:n._methodName,Fc:t},e.databaseId,e.k,e.ignoreUndefinedProperties)}class pD extends kp{_toFieldTransform(e){return new Qo(e.path,new uh)}isEqual(e){return e instanceof pD}}class nM extends kp{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=hS(this,e,!0),r=this.Wc.map(l=>Pp(l,t)),o=new za(r);return new Qo(e.path,o)}isEqual(e){return this===e}}class rM extends kp{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=hS(this,e,!0),r=this.Wc.map(l=>Pp(l,t)),o=new lh(r);return new Qo(e.path,o)}isEqual(e){return this===e}}class iM extends kp{constructor(e,t){super(e),this.Gc=t}_toFieldTransform(e){const t=new ch(e.k,qE(e.k,this.Gc));return new Qo(e.path,t)}isEqual(e){return this===e}}function gD(n,e,t,r){const o=n.Qc(1,e,t);_D("Data must be an object, but it was:",o,r);const l=[],h=mi.empty();Ko(r,(E,T)=>{const M=hC(e,E,t);T=(0,xt.m9)(T);const N=o.Bc(M);if(T instanceof v0)l.push(M);else{const V=Pp(T,N);null!=V&&(l.push(M),h.set(M,V))}});const m=new th(l);return new cS(h,m,o.fieldTransforms)}function mD(n,e,t,r,o,l){const h=n.Qc(1,e,t),m=[yD(e,r,t)],E=[o];if(l.length%2!=0)throw new Se(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<l.length;V+=2)m.push(yD(e,l[V])),E.push(l[V+1]);const T=[],M=mi.empty();for(let V=m.length-1;V>=0;--V)if(!mS(T,m[V])){const Z=m[V];let he=E[V];he=(0,xt.m9)(he);const Fe=h.Bc(Z);if(he instanceof v0)T.push(Z);else{const ze=Pp(he,Fe);null!=ze&&(T.push(Z),M.set(Z,ze))}}const N=new th(T);return new cS(M,N,h.fieldTransforms)}function fS(n,e,t,r=!1){return Pp(t,n.Qc(r?4:3,e))}function Pp(n,e){if(gS(n=(0,xt.m9)(n)))return _D("Unsupported field value:",e,n),pS(n,e);if(n instanceof kp)return function(t,r){if(!dS(r.$c))throw r.qc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.qc(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.$c)throw e.qc("Nested arrays are not supported");return function(t,r){const o=[];let l=0;for(const h of t){let m=Pp(h,r.Uc(l));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),l++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,xt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return qE(r.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=ti.fromDate(t);return{timestampValue:cp(r.k,o)}}if(t instanceof ti){const o=new ti(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:cp(r.k,o)}}if(t instanceof lC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tl)return{bytesValue:ab(r.k,t._byteString)};if(t instanceof xn){const o=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(o))throw r.qc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:dp(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.qc(`Unsupported field value: ${aC(t)}`)}(n,e)}function pS(n,e){const t={};return RE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ko(n,(r,o)=>{const l=Pp(o,e.Mc(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function gS(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ti||n instanceof lC||n instanceof tl||n instanceof xn||n instanceof kp)}function _D(n,e,t){if(!gS(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=aC(t);throw e.qc("an object"===r?n+" a custom object":n+" "+r)}var r}function yD(n,e,t){if((e=(0,xt.m9)(e))instanceof Ac)return e._internalPath;if("string"==typeof e)return hC(n,e);throw fC("Field path arguments must be of type string or ",n,!1,void 0,t)}const sM=new RegExp("[~\\*/\\[\\]]");function hC(n,e,t){if(e.search(sM)>=0)throw fC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ac(...e.split("."))._internalPath}catch(r){throw fC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function fC(n,e,t,r,o){const l=r&&!r.isEmpty(),h=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let E="";return(l||h)&&(E+=" (found",l&&(E+=` in field ${r}`),h&&(E+=` in document ${o}`),E+=")"),new Se(de.INVALID_ARGUMENT,m+n+E)}function mS(n,e){return n.some(t=>t.isEqual(e))}class w0{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new oM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class oM extends w0{data(){return super.data()}}function pC(n,e){return"string"==typeof e?hC(n,e):e instanceof Ac?e._internalPath:e._delegate._internalPath}class Fp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sc extends w0{constructor(e,t,r,o,l,h){super(e,t,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new E0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(pC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class E0 extends Sc{data(e={}){return super.data(e)}}class Eh{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Fp(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new E0(this._firestore,this._userDataWriter,r.key,r,new Fp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Se(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new E0(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Fp(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||3!==h.type).map(h=>{const m=new E0(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Fp(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let E=-1,T=-1;return 0!==h.type&&(E=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),T=l.indexOf(h.doc.key)),{type:aM(h.type),doc:m,oldIndex:E,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function aM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it()}}function _S(n,e){return n instanceof Sc&&e instanceof Sc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Eh&&e instanceof Eh&&n._firestore===e._firestore&&oS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function yS(n){if(Nm(n)&&0===n.explicitOrderBy.length)throw new Se(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class b0{}function bh(n,...e){for(const t of e)n=t._apply(n);return n}class uM extends b0{constructor(e,t,r){super(),this.zc=e,this.Hc=t,this.Jc=r,this.type="where"}_apply(e){const t=Rp(e.firestore),r=function(o,l,h,m,E,T,M){let N;if(E.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new Se(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if("in"===T||"not-in"===T){IS(M,T);const Z=[];for(const he of M)Z.push(CS(m,o,he));N={arrayValue:{values:Z}}}else N=CS(m,o,M)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||IS(M,T),N=fS(h,"where",M,"in"===T||"not-in"===T);const V=_i.create(E,T,N);return function(Z,he){if(he.V()){const ze=pc(Z);if(null!==ze&&!ze.isEqual(he.field))throw new Se(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ze.toString()}' and '${he.field.toString()}'`);const ft=Gu(Z);null!==ft&&TS(0,he.field,ft)}const Fe=function(ze,ft){for(const Ut of ze.filters)if(ft.indexOf(Ut.op)>=0)return Ut.op;return null}(Z,function(ze){switch(ze){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(he.op));if(null!==Fe)throw new Se(de.INVALID_ARGUMENT,Fe===he.op?`Invalid query. You cannot use more than one '${he.op.toString()}' filter.`:`Invalid query. You cannot use '${he.op.toString()}' filters with '${Fe.toString()}' filters.`)}(o,V),V}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new Qi(e.firestore,e.converter,function(o,l){const h=o.filters.concat([l]);return new Yo(o.path,o.collectionGroup,o.explicitOrderBy.slice(),h,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class cM extends b0{constructor(e,t){super(),this.zc=e,this.Yc=t,this.type="orderBy"}_apply(e){const t=function(r,o,l){if(null!==r.startAt)throw new Se(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Se(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new fc(o,l);return function(m,E){if(null===Gu(m)){const T=pc(m);null!==T&&TS(0,T,E.field)}}(r,h),h}(e._query,this.zc,this.Yc);return new Qi(e.firestore,e.converter,function(r,o){const l=r.explicitOrderBy.concat([o]);return new Yo(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class vS extends b0{constructor(e,t,r){super(),this.type=e,this.Xc=t,this.Zc=r}_apply(e){return new Qi(e.firestore,e.converter,ZE(e._query,this.Xc,this.Zc))}}class wS extends b0{constructor(e,t,r){super(),this.type=e,this.ta=t,this.ea=r}_apply(e){const t=bS(e,this.type,this.ta,this.ea);return new Qi(e.firestore,e.converter,(o=t,new Yo((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class ES extends b0{constructor(e,t,r){super(),this.type=e,this.ta=t,this.ea=r}_apply(e){const t=bS(e,this.type,this.ta,this.ea);return new Qi(e.firestore,e.converter,(o=t,new Yo((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function bS(n,e,t,r){if(t[0]=(0,xt.m9)(t[0]),t[0]instanceof w0)return function(o,l,h,m,E){if(!m)throw new Se(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const T=[];for(const M of Xf(o))if(M.field.isKeyField())T.push(Dm(l,m.key));else{const N=m.data.field(M.field);if($u(N))throw new Se(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===N){const V=M.field.canonicalString();throw new Se(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}T.push(N)}return new hc(T,E)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Rp(n.firestore);return function(l,h,m,E,T,M){const N=l.explicitOrderBy;if(T.length>N.length)throw new Se(de.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let Z=0;Z<T.length;Z++){const he=T[Z];if(N[Z].field.isKeyField()){if("string"!=typeof he)throw new Se(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof he}`);if(!mv(l)&&-1!==he.indexOf("/"))throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${E}() must be a plain document ID, but '${he}' contains a slash.`);const Fe=l.path.child(Gt.fromString(he));if(!et.isDocumentKey(Fe))throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${E}() must result in a valid document path, but '${Fe}' is not because it contains an odd number of segments.`);const ze=new et(Fe);V.push(Dm(h,ze))}else{const Fe=fS(m,E,he);V.push(Fe)}}return new hc(V,M)}(n._query,n.firestore._databaseId,o,e,t,r)}}function CS(n,e,t){if("string"==typeof(t=(0,xt.m9)(t))){if(""===t)throw new Se(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mv(e)&&-1!==t.indexOf("/"))throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Gt.fromString(t));if(!et.isDocumentKey(r))throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Dm(n,new et(r))}if(t instanceof xn)return Dm(n,t._key);throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${aC(t)}.`)}function IS(n,e){if(!Array.isArray(n)||0===n.length)throw new Se(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Se(de.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function TS(n,e,t){if(!t.isEqual(e))throw new Se(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class vD{convertValue(e,t="none"){switch(cc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(nh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw it()}}convertObject(e,t){const r={};return Ko(e.fields,(o,l)=>{r[o]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new lC(sr(e.latitude),sr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=PE(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(rh(e));default:return null}}convertTimestamp(e){const t=Ga(e);return new ti(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Gt.fromString(e);_t(Bv(r));const o=new r_(r.get(1),r.get(3)),l=new et(r.popFirst(5));return o.isEqual(t)||ir(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function gC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class yM extends vD{constructor(e){super(),this.firestore=e}convertBytes(e){return new tl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,t)}}class DS{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Rp(e)}set(e,t,r){this._verifyNotCommitted();const o=Ch(e,this._firestore),l=gC(o.converter,t,r),h=dC(this._dataReader,"WriteBatch.set",o._key,l,null!==o.converter,r);return this._mutations.push(h.toMutation(o._key,or.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const l=Ch(e,this._firestore);let h;return h="string"==typeof(t=(0,xt.m9)(t))||t instanceof Ac?mD(this._dataReader,"WriteBatch.update",l._key,t,r,o):gD(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(h.toMutation(l._key,or.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ch(e,this._firestore);return this._mutations=this._mutations.concat(new ip(t._key,or.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Se(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ch(n,e){if((n=(0,xt.m9)(n)).firestore!==e)throw new Se(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Lp extends vD{constructor(e){super(),this.firestore=e}convertBytes(e){return new tl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,t)}}function AS(n,e,t){n=jt(n,xn);const r=jt(n.firestore,Hn),o=gC(n.converter,e,t);return i_(r,[dC(Rp(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,or.none())])}function SS(n,e,t,...r){n=jt(n,xn);const o=jt(n.firestore,Hn),l=Rp(o);let h;return h="string"==typeof(e=(0,xt.m9)(e))||e instanceof Ac?mD(l,"updateDoc",n._key,e,t,r):gD(l,"updateDoc",n._key,e),i_(o,[h.toMutation(n._key,or.exists(!0))])}function xS(n,...e){var t,r,o;n=(0,xt.m9)(n);let l={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||fD(e[h])||(l=e[h],h++);const m={includeMetadataChanges:l.includeMetadataChanges};if(fD(e[h])){const N=e[h];e[h]=null===(t=N.next)||void 0===t?void 0:t.bind(N),e[h+1]=null===(r=N.error)||void 0===r?void 0:r.bind(N),e[h+2]=null===(o=N.complete)||void 0===o?void 0:o.bind(N)}let E,T,M;if(n instanceof xn)T=jt(n.firestore,Hn),M=sh(n._key.path),E={next:N=>{e[h]&&e[h](wD(T,n,N))},error:e[h+1],complete:e[h+2]};else{const N=jt(n,Qi);T=jt(N.firestore,Hn),M=N._query;const V=new Lp(T);E={next:Z=>{e[h]&&e[h](new Eh(T,V,N,Z))},error:e[h+1],complete:e[h+2]},yS(n._query)}return function(N,V,Z,he){const Fe=new sC(he),ze=new Np(V,Fe,Z);return N.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return Ap(yield n_(N),ze)})),()=>{Fe.nc(),N.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return xp(yield n_(N),ze)}))}}(Ur(T),M,m,E)}function i_(n,e){return function(t,r){const o=new _r;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function cx(n,e,t){return FT.apply(this,arguments)}(yield cD(t),r,o)})),o.promise}(Ur(n),e)}function wD(n,e,t){const r=t.docs.get(e._key),o=new Lp(n);return new Sc(n,o,e._key,r,new Fp(t.hasPendingWrites,t.fromCache),e.converter)}class SM extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Rp(e)}get(e){const t=Ch(e,this._firestore),r=new yM(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return it();const l=o[0];if(l.isFoundDocument())return new w0(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new w0(this._firestore,r,t._key,null,t.converter);throw it()})}set(e,t,r){const o=Ch(e,this._firestore),l=gC(o.converter,t,r),h=dC(this._dataReader,"Transaction.set",o._key,l,null!==o.converter,r);return this._transaction.set(o._key,h),this}update(e,t,r,...o){const l=Ch(e,this._firestore);let h;return h="string"==typeof(t=(0,xt.m9)(t))||t instanceof Ac?mD(this._dataReader,"Transaction.update",l._key,t,r,o):gD(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,h),this}delete(e){const t=Ch(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ch(e,this._firestore),r=new Lp(this._firestore);return super.get(e).then(o=>new Sc(this._firestore,r,t._key,o._document,new Fp(!1,!1),t.converter))}}function bD(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Se("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function OS(){if("undefined"==typeof Uint8Array)throw new Se("unimplemented","Uint8Arrays are not available in this environment.")}function NS(){if(!function $I(){return"undefined"!=typeof atob}())throw new Se("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){ac=zl.SDK_VERSION,(0,zl._registerComponent)(new bf.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),l=new Hn(o,new UI(t.getProvider("auth-internal")),new OE(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,zl.registerVersion)(SE,"3.4.4",n),(0,zl.registerVersion)(SE,"3.4.4","esm2017")}();class C0{constructor(e){this._delegate=e}static fromBase64String(e){return NS(),new C0(tl.fromBase64String(e))}static fromUint8Array(e){return OS(),new C0(tl.fromUint8Array(e))}toBase64(){return NS(),this._delegate.toBase64()}toUint8Array(){return OS(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function CD(n){return function LM(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class VM{enableIndexedDbPersistence(e,t){return function qx(n,e){lS(n=jt(n,Hn));const t=Ur(n),r=n._freezeSettings(),o=new rD;return uS(t,o,new $A(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Gx(n){lS(n=jt(n,Hn));const e=Ur(n),t=n._freezeSettings(),r=new rD;return uS(e,r,new Dx(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function zx(n){if(n._initialized&&!n._terminated)throw new Se(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new _r;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(r){if(!bo.Pt())return Promise.resolve();const o=r+"main";yield bo.delete(o)}),function(r){return t.apply(this,arguments)})(Qv(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class kS{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof r_||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Zf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function Bx(n,e,t,r={}){var o;const l=(n=jt(n,y0))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Zf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,m;if("string"==typeof r.mockUserToken)h=r.mockUserToken,m=ei.MOCK_USER;else{h=(0,xt.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new Se(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new ei(E)}n._authCredentials=new qf(new ME(h,m))}}(this._delegate,e,t,r)}enableNetwork(){return function Kx(n){return function Ox(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield WA(n),t=yield KA(n);return e.setNetworkEnabled(!0),function(r){const o=je(r);return o.Gr.delete(0),Ju(o)}(t)}))}(Ur(n=jt(n,Hn)))}(this._delegate)}disableNetwork(){return function Yx(n){return function Nx(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield WA(n),t=yield KA(n);return e.setNetworkEnabled(!1),(r=(0,ye.Z)(function*(o){const l=je(o);l.Gr.add(0),yield wh(l),l.Jr.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Ur(n=jt(n,Hn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,XA("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Wx(n){return function(e){const t=new _r;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function px(n,e){return jT.apply(this,arguments)}(yield cD(e),t)})),t.promise}(Ur(n=jt(n,Hn)))}(this._delegate)}onSnapshotsInSync(e){return function AM(n,e){return function Px(n,e){const t=new sC(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield n_(n),o=t,je(r).io.add(o),void o.next();var r,o})),()=>{t.nc(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield n_(n),o=t,void je(r).io.delete(o);var r,o}))}}(Ur(n=jt(n,Hn)),fD(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Se("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new s_(this,iS(this._delegate,e))}catch(t){throw Is(t,"collection()","Firestore.collection()")}}doc(e){try{return new ta(this,uC(this._delegate,e))}catch(t){throw Is(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ts(this,function jx(n,e){if(n=jt(n,y0),hD("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Se(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Qi(n,null,(t=e,new Yo(Gt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Is(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function xM(n,e){return function Fx(n,e){const t=new _r;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const r=yield(o=n,oC(o).then(l=>l.datastore));var o;new xx(n.asyncQueue,r,e,t).run()})),t.promise}(Ur(n=jt(n,Hn)),t=>e(new SM(n,t)))}(this._delegate,t=>e(new RS(this,t)))}batch(){return Ur(this._delegate),new PS(new DS(this._delegate,e=>i_(this._delegate,e)))}loadBundle(e){return function Qx(n,e){const t=Ur(n=jt(n,Hn)),r=new Zx;return function Lx(n,e,t,r){const o=function(l,h){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,E=function(E,T){if(E instanceof Uint8Array)return qA(E,T);if(E instanceof ArrayBuffer)return qA(new Uint8Array(E),T);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new Ax(E,h);var E}(t,vh(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function Tx(n,e,t){const r=je(n);var o;(o=(0,ye.Z)(function*(l,h,m){try{const E=yield h.getMetadata();if(yield function(V,Z){const he=je(V),Fe=ur(Z.createTime);return he.persistence.runTransaction("hasNewerBundle","readonly",ze=>he.Ye.getBundleMetadata(ze,Z.id)).then(ze=>!!ze&&ze.createTime.compareTo(Fe)>=0)}(l.localStore,E))return yield h.close(),void m._completeWith((V=E,{taskState:"Success",documentsLoaded:V.totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}));m._updateProgress(RA(E));const T=new ix(E,l.localStore,h.k);let M=yield h.Ho();for(;M;){const V=yield T.yo(M);V&&m._updateProgress(V),M=yield h.Ho()}const N=yield T.complete();yield Dc(l,N.In,void 0),yield function(V,Z){const he=je(V);return he.persistence.runTransaction("Save bundle","readwrite",Fe=>he.Ye.saveBundleMetadata(Fe,Z))}(l.localStore,E),m._completeWith(N.progress)}catch(E){Zf("SyncEngine",`Loading bundle failed with ${E}`),m._failWith(E)}var V}),function(l,h,m){return o.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield cD(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Jx(n,e){return function Vx(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,r){const o=je(t);return o.persistence.runTransaction("Get named query","readonly",l=>o.Ye.getNamedQuery(l,r))}(yield lD(n),e)}))}(Ur(n=jt(n,Hn)),e).then(t=>t?new Qi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ts(this,t):null)}}class mC extends vD{constructor(e){super(),this.firestore=e}convertBytes(e){return new C0(new tl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ta.forKey(t,this.firestore,null)}}class RS{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new mC(e)}get(e){const t=Up(e);return this._delegate.get(t).then(r=>new I0(this._firestore,new Sc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Up(e);return r?(bD("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=Up(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=Up(e);return this._delegate.delete(t),this}}class PS{constructor(e){this._delegate=e}set(e,t,r){const o=Up(e);return r?(bD("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=Up(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=Up(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Vp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new E0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new T0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Vp.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let l=o.get(t);return l||(l=new Vp(e,new mC(e),t),o.set(t,l)),l}}Vp.INSTANCES=new WeakMap;class ta{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Se("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ta(t,new xn(t._delegate,r,new et(e)))}static forKey(e,t,r){return new ta(t,new xn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new s_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new s_(this.firestore,iS(this._delegate,e))}catch(t){throw Is(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,xt.m9)(e))instanceof xn&&sS(this._delegate,e)}set(e,t){t=bD("DocumentReference.set",t);try{return t?AS(this._delegate,e,t):AS(this._delegate,e)}catch(r){throw Is(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?SS(this._delegate,e):SS(this._delegate,e,t,...r)}catch(o){throw Is(o,"updateDoc()","DocumentReference.update()")}}delete(){return function TM(n){return i_(jt(n.firestore,Hn),[new ip(n._key,or.none())])}(this._delegate)}onSnapshot(...e){const t=FS(e),r=LS(e,o=>new I0(this.firestore,new Sc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return xS(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function wM(n){n=jt(n,xn);const e=jt(n.firestore,Hn),t=Ur(e),r=new Lp(e);return function kx(n,e){const t=new _r;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(o,l,h){try{const m=yield function(E,T){const M=je(E);return M.persistence.runTransaction("read document","readonly",N=>M.Wn.Rn(N,T))}(o,l);m.isFoundDocument()?h.resolve(m):m.isNoDocument()?h.resolve(null):h.reject(new Se(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const E=we(m,`Failed to get document '${l} from cache`);h.reject(E)}}),function(o,l,h){return r.apply(this,arguments)})(yield lD(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Sc(e,r,n._key,o,new Fp(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function EM(n){n=jt(n,xn);const e=jt(n.firestore,Hn);return YA(Ur(e),n._key,{source:"server"}).then(t=>wD(e,n,t))}(this._delegate):function vM(n){n=jt(n,xn);const e=jt(n.firestore,Hn);return YA(Ur(e),n._key).then(t=>wD(e,n,t))}(this._delegate),t.then(r=>new I0(this.firestore,new Sc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ta(this.firestore,this._delegate.withConverter(e?Vp.getInstance(this.firestore,e):null))}}function Is(n,e,t){return n.message=n.message.replace(e,t),n}function FS(n){for(const e of n)if("object"==typeof e&&!CD(e))return e;return{}}function LS(n,e){var t,r;let o;return o=CD(n[0])?n[0]:CD(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{o.next&&o.next(e(l))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class I0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ta(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return _S(this._delegate,e._delegate)}}class T0 extends I0{data(e){const t=this._delegate.data(e);return function VI(n,e){n||it()}(void 0!==t),t}}class Ts{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mC(e)}where(e,t,r){try{return new Ts(this.firestore,bh(this._delegate,function lM(n,e,t){const r=e,o=pC("where",n);return new uM(o,r,t)}(e,t,r)))}catch(o){throw Is(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ts(this.firestore,bh(this._delegate,function dM(n,e="asc"){const t=e,r=pC("orderBy",n);return new cM(r,t)}(e,t)))}catch(r){throw Is(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ts(this.firestore,bh(this._delegate,function hM(n){return nS("limit",n),new vS("limit",n,"F")}(e)))}catch(t){throw Is(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ts(this.firestore,bh(this._delegate,function fM(n){return nS("limitToLast",n),new vS("limitToLast",n,"L")}(e)))}catch(t){throw Is(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ts(this.firestore,bh(this._delegate,function pM(...n){return new wS("startAt",n,!0)}(...e)))}catch(t){throw Is(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ts(this.firestore,bh(this._delegate,function gM(...n){return new wS("startAfter",n,!1)}(...e)))}catch(t){throw Is(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ts(this.firestore,bh(this._delegate,function mM(...n){return new ES("endBefore",n,!0)}(...e)))}catch(t){throw Is(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ts(this.firestore,bh(this._delegate,function _M(...n){return new ES("endAt",n,!1)}(...e)))}catch(t){throw Is(t,"endAt()","Query.endAt()")}}isEqual(e){return oS(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function CM(n){n=jt(n,Qi);const e=jt(n.firestore,Hn),t=Ur(e),r=new Lp(e);return function Rx(n,e){const t=new _r;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(o,l,h){try{const m=yield Cp(o,l,!0),E=new LA(l,m.zn),T=E.Po(m.documents),M=E.applyChanges(T,!1);h.resolve(M.snapshot)}catch(m){const E=we(m,`Failed to execute query '${l} against cache`);h.reject(E)}}),function(o,l,h){return r.apply(this,arguments)})(yield lD(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Eh(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function IM(n){n=jt(n,Qi);const e=jt(n.firestore,Hn),t=Ur(e),r=new Lp(e);return QA(t,n._query,{source:"server"}).then(o=>new Eh(e,r,n,o))}(this._delegate):function bM(n){n=jt(n,Qi);const e=jt(n.firestore,Hn),t=Ur(e),r=new Lp(e);return yS(n._query),QA(t,n._query).then(o=>new Eh(e,r,n,o))}(this._delegate),t.then(r=>new ID(this.firestore,new Eh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=FS(e),r=LS(e,o=>new ID(this.firestore,new Eh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return xS(this._delegate,t,r)}withConverter(e){return new Ts(this.firestore,this._delegate.withConverter(e?Vp.getInstance(this.firestore,e):null))}}class BM{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new T0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ID{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ts(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new T0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new BM(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new T0(this._firestore,r))})}isEqual(e){return _S(this._delegate,e._delegate)}}class s_ extends Ts{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ta(this.firestore,e):null}doc(e){try{return new ta(this.firestore,void 0===e?uC(this._delegate):uC(this._delegate,e))}catch(t){throw Is(t,"doc()","CollectionReference.doc()")}}add(e){return function DM(n,e){const t=jt(n.firestore,Hn),r=uC(n),o=gC(n.converter,e);return i_(t,[dC(Rp(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,or.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ta(this.firestore,t))}isEqual(e){return sS(this._delegate,e._delegate)}withConverter(e){return new s_(this.firestore,this._delegate.withConverter(e?Vp.getInstance(this.firestore,e):null))}}function Up(n){return jt(n,xn)}class TD{constructor(...e){this._delegate=new Ac(...e)}static documentId(){return new TD(ni.keyField().canonicalString())}isEqual(e){return(e=(0,xt.m9)(e))instanceof Ac&&this._delegate._internalPath.isEqual(e._internalPath)}}class Bp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function OM(){return new pD("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Bp(e)}static delete(){const e=function MM(){return new v0("deleteField")}();return e._methodName="FieldValue.delete",new Bp(e)}static arrayUnion(...e){const t=function NM(...n){return new nM("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Bp(t)}static arrayRemove(...e){const t=function kM(...n){return new rM("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Bp(t)}static increment(e){const t=function RM(n){return new iM("increment",n)}(e);return t._methodName="FieldValue.increment",new Bp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const jM={Firestore:kS,GeoPoint:lC,Timestamp:ti,Blob:C0,Transaction:RS,WriteBatch:PS,DocumentReference:ta,DocumentSnapshot:I0,Query:Ts,QueryDocumentSnapshot:T0,QuerySnapshot:ID,CollectionReference:s_,FieldPath:TD,FieldValue:Bp,setLogLevel:function UM(n){!function xE(n){qa.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function ZM(n){(function HM(n,e){n.INTERNAL.registerComponent(new bf.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},jM)))})(n,(e,t)=>new kS(e,t,new VM)),n.registerVersion("@firebase/firestore-compat","0.1.13")}(fI.Z);var _C=k(6451),yC=k(5363),$M=k(6063);class qM extends wn.x{constructor(e=1/0,t=1/0,r=$M.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:l,_windowTime:h}=this;t||(r.push(e),!o&&r.push(l.now()+h)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,l=o.slice();for(let h=0;h<l.length&&!e.closed;h+=r?1:2)e.next(l[h]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,l=(o?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!o){const h=t.now();let m=0;for(let E=1;E<r.length&&r[E]<=h;E+=2)m=E;m&&r.splice(0,m+1)}}}var GM=k(3099);function VS(n,e,t){var r,o;let l,h=!1;return n&&"object"==typeof n?(l=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(o=n.windowTime)&&void 0!==o?o:1/0,h=!!n.refCount,t=n.scheduler):l=null!=n?n:1/0,(0,GM.B)({connector:()=>new qM(l,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:h})}function US(n,e){return(0,Bi.m)(e)?sn(()=>n,e):sn(()=>n)}var DD=k(9468);k(5867);const jS=new Map,QM={activated:!1,tokenObservers:[]},JM={initialized:!1,enabled:!1};function wi(n){return jS.get(n)||QM}function Ja(n,e){jS.set(n,e)}function wC(){return JM}class rO{constructor(e,t,r,o,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new xt.BH,yield function iO(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new xt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ds=new xt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ZS(n){if(!wi(n).activated)throw Ds.create("use-before-activation",{appName:n.name})}function MD(n,e){return OD.apply(this,arguments)}function OD(){return OD=(0,ye.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});o&&(r["X-Firebase-Client"]=o.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(e),headers:r};let h,m;try{h=yield fetch(n,l)}catch(N){throw Ds.create("fetch-network-error",{originalErrorMessage:N.message})}if(200!==h.status)throw Ds.create("fetch-status-error",{httpStatus:h.status});try{m=yield h.json()}catch(N){throw Ds.create("fetch-parse-error",{originalErrorMessage:N.message})}const E=m.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw Ds.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const T=1e3*Number(E[1]),M=Date.now();return{token:m.attestationToken,expireTimeMillis:M+T,issuedAtTimeMillis:M}}),OD.apply(this,arguments)}function lO(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const D0="firebase-app-check-store";let CC=null;function qS(){return CC||(CC=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(Ds.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(D0,{keyPath:"compositeKey"})}}catch(t){e(Ds.create("storage-open",{originalErrorMessage:t.message}))}}),CC)}function ND(){return ND=(0,ye.Z)(function*(n,e){const r=(yield qS()).transaction(D0,"readwrite"),l=r.objectStore(D0).put({compositeKey:n,value:e});return new Promise((h,m)=>{l.onsuccess=E=>{h()},r.onerror=E=>{var T;m(Ds.create("storage-set",{originalErrorMessage:null===(T=E.target.error)||void 0===T?void 0:T.message}))}})}),ND.apply(this,arguments)}const A0=new Wl.Yd("@firebase/app-check");function KS(n,e){return(0,xt.hl)()?function fO(n,e){return function GS(n,e){return ND.apply(this,arguments)}(function WS(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{A0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function YS(){return wC().enabled}function QS(){return FD.apply(this,arguments)}function FD(){return FD=(0,ye.Z)(function*(){const n=wC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),FD.apply(this,arguments)}const vO={error:"UNKNOWN_ERROR"};function wO(n){return xt.US.encodeString(JSON.stringify(n),!1)}function IC(n){return LD.apply(this,arguments)}function LD(){return LD=(0,ye.Z)(function*(n,e=!1){const t=n.app;ZS(t);const r=wi(t);let l,o=r.token;if(!o){const E=yield r.cachedTokenPromise;E&&TC(E)&&(o=E)}if(!e&&o&&TC(o))return{token:o.token};let m,h=!1;if(YS()){r.exchangeTokenPromise||(r.exchangeTokenPromise=MD(lO(t,yield QS()),n.platformLoggerProvider).then(T=>(r.exchangeTokenPromise=void 0,T)),h=!0);const E=yield r.exchangeTokenPromise;return yield KS(t,E),Ja(t,Object.assign(Object.assign({},r),{token:E})),{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(E=>(r.exchangeTokenPromise=void 0,E)),h=!0),o=yield r.exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?A0.warn(E.message):A0.error(E),l=E}return o?(m={token:o.token},Ja(t,Object.assign(Object.assign({},r),{token:o})),yield KS(t,o)):m=bO(l),h&&XS(t,m),m}),LD.apply(this,arguments)}function UD(n,e){const t=wi(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Ja(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function JS(n){const{app:e}=n,t=wi(e);let r=t.tokenRefresher;r||(r=function EO(n){const{app:e}=n;return new rO((0,ye.Z)(function*(){let r;if(r=wi(e).token?yield IC(n,!0):yield IC(n),r.error)throw r.error}),()=>!0,()=>{const t=wi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Ja(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function XS(n,e){const t=wi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function TC(n){return n.expireTimeMillis-Date.now()>0}function bO(n){return{token:wO(vO),error:n}}class CO{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=wi(this.app);for(const t of e)UD(this.app,t.next);return Promise.resolve()}}const a1="app-check-internal";!function LO(){(0,zl._registerComponent)(new bf.wA("app-check",n=>function IO(n,e){return new CO(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(a1).initialize()})),(0,zl._registerComponent)(new bf.wA(a1,n=>function TO(n){return{getToken:e=>IC(n,e),addTokenListener:e=>function VD(n,e,t,r){const{app:o}=n,l=wi(o),h={next:t,error:r,type:e};if(Ja(o,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,h]})),l.token&&TC(l.token)){const m=l.token;Promise.resolve().then(()=>{t({token:m.token}),JS(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>JS(n))}(n,"INTERNAL",e),removeTokenListener:e=>UD(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,zl.registerVersion)("@firebase/app-check","0.5.3")}();class ZD{constructor(){return(0,kr.vb)("app-check")}}"undefined"!=typeof window&&window,k(127);const l1=new u.OlP("angularfire2.auth.use-emulator"),c1=new u.OlP("angularfire2.auth.settings"),d1=new u.OlP("angularfire2.auth.tenant-id"),h1=new u.OlP("angularfire2.auth.langugage-code"),f1=new u.OlP("angularfire2.auth.use-device-language"),p1=new u.OlP("angularfire.auth.persistence"),g1=(n,e,t,r,o,l,h,m)=>(0,qs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=e.runOutsideAngular(()=>n.auth());if(t&&E.useEmulator(...t),r&&(E.tenantId=r),E.languageCode=o,l&&E.useDeviceLanguage(),h)for(const[T,M]of Object.entries(h))E.settings[T]=M;return m&&E.setPersistence(m),E},[t,r,o,l,h,m]);let m1=(()=>{class n{constructor(t,r,o,l,h,m,E,T,M,N,V,Z){const he=new wn.x,Fe=We(void 0).pipe((0,yC.Q)(h.outsideAngular),sn(()=>l.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,389)))),(0,gt.U)(()=>(0,qs.on)(t,l,r)),(0,gt.U)(ze=>g1(ze,l,m,T,M,N,E,V)),VS({bufferSize:1,refCount:!1}));if(fr(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=We(null);else{Fe.pipe(Aa()).subscribe();const ft=Fe.pipe(sn(St=>St.getRedirectResult().then(Mn=>Mn,()=>null)),kr.iC,VS({bufferSize:1,refCount:!1})),Ut=Fe.pipe(sn(St=>new Ln.y(Mn=>({unsubscribe:l.runOutsideAngular(()=>St.onAuthStateChanged(eu=>Mn.next(eu),eu=>Mn.error(eu),()=>Mn.complete()))})))),an=Fe.pipe(sn(St=>new Ln.y(Mn=>({unsubscribe:l.runOutsideAngular(()=>St.onIdTokenChanged(eu=>Mn.next(eu),eu=>Mn.error(eu),()=>Mn.complete()))}))));this.authState=ft.pipe(US(Ut),(0,DD.R)(h.outsideAngular),(0,yC.Q)(h.insideAngular)),this.user=ft.pipe(US(an),(0,DD.R)(h.outsideAngular),(0,yC.Q)(h.insideAngular)),this.idToken=this.user.pipe(sn(St=>St?(0,vn.D)(St.getIdToken()):We(null))),this.idTokenResult=this.user.pipe(sn(St=>St?(0,vn.D)(St.getIdTokenResult()):We(null))),this.credential=(0,_C.T)(ft,he,this.authState.pipe(Vn(St=>!St))).pipe((0,gt.U)(St=>(null==St?void 0:St.user)?St:null),(0,DD.R)(h.outsideAngular),(0,yC.Q)(h.insideAngular))}return(0,qs.pX)(this,Fe,l,{spy:{apply:(ze,ft,Ut)=>{(ze.startsWith("signIn")||ze.startsWith("createUser"))&&Ut.then(an=>he.next(an))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(qs.Dh),u.LFG(qs.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(kr.HU),u.LFG(l1,8),u.LFG(c1,8),u.LFG(d1,8),u.LFG(h1,8),u.LFG(f1,8),u.LFG(p1,8),u.LFG(ZD,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function _1(n,e){return function ZO(n,e=Mi.z){return new Ln.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function qD(n,e){return _1(n,e).pipe((0,gt.U)(t=>({payload:t,type:"query"})))}function AC(n,e){return qD(n,e).pipe(Hs(void 0),Bg(),(0,gt.U)(([t,r])=>{const o=r.payload.docChanges(),l=o.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,m)=>{const E=o.find(M=>M.doc.ref.isEqual(h.ref)),T=null==t?void 0:t.payload.docs.find(M=>M.ref.isEqual(h.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(h.metadata)||!E&&T&&JSON.stringify(T.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:h}})}),l}))}function y1(n,e,t){return AC(n,t).pipe(Ui((r,o)=>function qO(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function GO(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return GD(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return GD(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return GD(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(l=>l.payload),e),[]),function Lw(n,e=Ii.y){return n=null!=n?n:Vw,(0,Xn.e)((t,r)=>{let o,l=!0;t.subscribe(new Jt.Q(r,h=>{const m=e(h);(l||!n(o,m))&&(l=!1,o=m,r.next(h))}))})}(),(0,gt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function GD(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function v1(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class w1{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=AC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,gt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Hs(void 0),Bg(),Vn(([r,o])=>o.length>0||!r),(0,gt.U)(([r,o])=>o),kr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ui((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=v1(e);return y1(this.query,t,this.afs.schedulers.outsideAngular).pipe(kr.iC)}valueChanges(e={}){return qD(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),kr.iC)}get(e){return(0,vn.D)(this.query.get(e)).pipe(kr.iC)}add(e){return this.ref.add(e)}doc(e){return new E1(this.ref.doc(e),this.afs)}}class E1{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:l}=b1(r,t);return new w1(o,l,this.afs)}snapshotChanges(){return function $O(n,e){return _1(n,e).pipe(Hs(void 0),Bg(),(0,gt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(kr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,gt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,vn.D)(this.ref.get(e)).pipe(kr.iC)}}class zO{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?AC(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Vn(t=>t.length>0),kr.iC):AC(this.query,this.afs.schedulers.outsideAngular).pipe(kr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ui((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=v1(e);return y1(this.query,t,this.afs.schedulers.outsideAngular).pipe(kr.iC)}valueChanges(e={}){return qD(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),kr.iC)}get(e){return(0,vn.D)(this.query.get(e)).pipe(kr.iC)}}const WO=new u.OlP("angularfire2.enableFirestorePersistence"),KO=new u.OlP("angularfire2.firestore.persistenceSettings"),YO=new u.OlP("angularfire2.firestore.settings"),QO=new u.OlP("angularfire2.firestore.use-emulator");function b1(n,e=(t=>t)){return{query:e(n),ref:n}}let JO=(()=>{class n{constructor(t,r,o,l,h,m,E,T,M,N,V,Z,he,Fe,ze,ft,Ut){this.schedulers=E;const an=(0,qs.on)(t,m,r),St=M;N&&g1(an,m,V,he,Fe,ze,Z,ft),[this.firestore,this.persistenceEnabled$]=(0,qs.cc)(`${an.name}.firestore`,"AngularFirestore",an.name,()=>{const Mn=m.runOutsideAngular(()=>an.firestore());if(l&&Mn.settings(l),St&&Mn.useEmulator(...St),o&&!fr(h)){const eu=()=>{try{return(0,vn.D)(Mn.enablePersistence(T||void 0).then(()=>!0,()=>!1))}catch(RC){return"undefined"!=typeof console&&console.warn(RC),We(!1)}};return[Mn,m.runOutsideAngular(eu)]}return[Mn,We(!1)]},[l,St,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:h}=b1(o,r),m=this.schedulers.ngZone.run(()=>l);return new w1(m,h,this)}collectionGroup(t,r){const o=r||(h=>h),l=this.firestore.collectionGroup(t);return new zO(o(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new E1(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(qs.Dh),u.LFG(qs.xv,8),u.LFG(WO,8),u.LFG(YO,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(kr.HU),u.LFG(KO,8),u.LFG(QO,8),u.LFG(m1,8),u.LFG(l1,8),u.LFG(c1,8),u.LFG(d1,8),u.LFG(h1,8),u.LFG(f1,8),u.LFG(p1,8),u.LFG(ZD,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),C1=(()=>{class n{constructor(t){this.firestore=t}addApplicant(t){return this.firestore.collection("allApplicant").add(t)}getApplicant(){return this.firestore.collection("allApplicant",t=>t.orderBy("dateCreation","desc")).snapshotChanges()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(JO))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class I1{}class T1{}class nl{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),l=o.toLowerCase(),h=t.slice(r+1).trim();this.maybeSetNormalizedName(o,l),this.headers.has(l)?this.headers.get(l).push(h):this.headers.set(l,[h])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof nl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new nl;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof nl?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const l=e.value;if(l){let h=this.headers.get(t);if(!h)return;h=h.filter(m=>-1===l.indexOf(m)),0===h.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,h)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class XO{encodeKey(e){return D1(e)}encodeValue(e){return D1(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const tN=/%(\d[a-f0-9])/gi,nN={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function D1(n){return encodeURIComponent(n).replace(tN,(e,t)=>{var r;return null!==(r=nN[t])&&void 0!==r?r:e})}function A1(n){return`${n}`}class Ih{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new XO,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function eN(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const l=o.indexOf("="),[h,m]=-1==l?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,l)),e.decodeValue(o.slice(l+1))],E=t.get(h)||[];E.push(m),t.set(h,E)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(l=>{t.push({param:r,value:l,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ih({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(A1(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(A1(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class rN{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function S1(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function x1(n){return"undefined"!=typeof Blob&&n instanceof Blob}function M1(n){return"undefined"!=typeof FormData&&n instanceof FormData}class S0{constructor(e,t,r,o){let l;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function iN(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,l=o):l=r,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new nl),this.context||(this.context=new rN),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+h}}else this.params=new Ih,this.urlWithParams=t}serializeBody(){return null===this.body?null:S1(this.body)||x1(this.body)||M1(this.body)||function sN(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ih?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||M1(this.body)?null:x1(this.body)?this.body.type||null:S1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ih?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,o=e.url||this.url,l=e.responseType||this.responseType,h=void 0!==e.body?e.body:this.body,m=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,E=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let T=e.headers||this.headers,M=e.params||this.params;const N=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(T=Object.keys(e.setHeaders).reduce((V,Z)=>V.set(Z,e.setHeaders[Z]),T)),e.setParams&&(M=Object.keys(e.setParams).reduce((V,Z)=>V.set(Z,e.setParams[Z]),M)),new S0(r,o,h,{params:M,headers:T,context:N,reportProgress:E,responseType:l,withCredentials:m})}}var Br=(()=>((Br=Br||{})[Br.Sent=0]="Sent",Br[Br.UploadProgress=1]="UploadProgress",Br[Br.ResponseHeader=2]="ResponseHeader",Br[Br.DownloadProgress=3]="DownloadProgress",Br[Br.Response=4]="Response",Br[Br.User=5]="User",Br))();class zD{constructor(e,t=200,r="OK"){this.headers=e.headers||new nl,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class WD extends zD{constructor(e={}){super(e),this.type=Br.ResponseHeader}clone(e={}){return new WD({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class SC extends zD{constructor(e={}){super(e),this.type=Br.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new SC({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class O1 extends zD{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function KD(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let N1=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let l;if(t instanceof S0)l=t;else{let E,T;E=o.headers instanceof nl?o.headers:new nl(o.headers),o.params&&(T=o.params instanceof Ih?o.params:new Ih({fromObject:o.params})),l=new S0(t,r,void 0!==o.body?o.body:null,{headers:E,context:o.context,params:T,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const h=We(l).pipe(Di(E=>this.handler.handle(E)));if(t instanceof S0||"events"===o.observe)return h;const m=h.pipe(Vn(E=>E instanceof SC));switch(o.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return m.pipe((0,gt.U)(E=>{if(null!==E.body&&!(E.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return E.body}));case"blob":return m.pipe((0,gt.U)(E=>{if(null!==E.body&&!(E.body instanceof Blob))throw new Error("Response is not a Blob.");return E.body}));case"text":return m.pipe((0,gt.U)(E=>{if(null!==E.body&&"string"!=typeof E.body)throw new Error("Response is not a string.");return E.body}));default:return m.pipe((0,gt.U)(E=>E.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Ih).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,KD(o,r))}post(t,r,o={}){return this.request("POST",t,KD(o,r))}put(t,r,o={}){return this.request("PUT",t,KD(o,r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(I1))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class k1{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const R1=new u.OlP("HTTP_INTERCEPTORS");let oN=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const aN=/^\)\]\}',?\n/;let P1=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ln.y(r=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((Z,he)=>o.setRequestHeader(Z,he.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const Z=t.detectContentTypeHeader();null!==Z&&o.setRequestHeader("Content-Type",Z)}if(t.responseType){const Z=t.responseType.toLowerCase();o.responseType="json"!==Z?Z:"text"}const l=t.serializeBody();let h=null;const m=()=>{if(null!==h)return h;const Z=1223===o.status?204:o.status,he=o.statusText||"OK",Fe=new nl(o.getAllResponseHeaders()),ze=function uN(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return h=new WD({headers:Fe,status:Z,statusText:he,url:ze}),h},E=()=>{let{headers:Z,status:he,statusText:Fe,url:ze}=m(),ft=null;204!==he&&(ft=void 0===o.response?o.responseText:o.response),0===he&&(he=ft?200:0);let Ut=he>=200&&he<300;if("json"===t.responseType&&"string"==typeof ft){const an=ft;ft=ft.replace(aN,"");try{ft=""!==ft?JSON.parse(ft):null}catch(St){ft=an,Ut&&(Ut=!1,ft={error:St,text:ft})}}Ut?(r.next(new SC({body:ft,headers:Z,status:he,statusText:Fe,url:ze||void 0})),r.complete()):r.error(new O1({error:ft,headers:Z,status:he,statusText:Fe,url:ze||void 0}))},T=Z=>{const{url:he}=m(),Fe=new O1({error:Z,status:o.status||0,statusText:o.statusText||"Unknown Error",url:he||void 0});r.error(Fe)};let M=!1;const N=Z=>{M||(r.next(m()),M=!0);let he={type:Br.DownloadProgress,loaded:Z.loaded};Z.lengthComputable&&(he.total=Z.total),"text"===t.responseType&&!!o.responseText&&(he.partialText=o.responseText),r.next(he)},V=Z=>{let he={type:Br.UploadProgress,loaded:Z.loaded};Z.lengthComputable&&(he.total=Z.total),r.next(he)};return o.addEventListener("load",E),o.addEventListener("error",T),o.addEventListener("timeout",T),o.addEventListener("abort",T),t.reportProgress&&(o.addEventListener("progress",N),null!==l&&o.upload&&o.upload.addEventListener("progress",V)),o.send(l),r.next({type:Br.Sent}),()=>{o.removeEventListener("error",T),o.removeEventListener("abort",T),o.removeEventListener("load",E),o.removeEventListener("timeout",T),t.reportProgress&&(o.removeEventListener("progress",N),null!==l&&o.upload&&o.upload.removeEventListener("progress",V)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Kt))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const YD=new u.OlP("XSRF_COOKIE_NAME"),QD=new u.OlP("XSRF_HEADER_NAME");class F1{}let lN=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Xs(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe),u.LFG(u.Lbi),u.LFG(YD))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),JD=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const o=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||o.startsWith("http://")||o.startsWith("https://"))return r.handle(t);const l=this.tokenService.getToken();return null!==l&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,l)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(F1),u.LFG(QD))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),cN=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(R1,[]);this.chain=r.reduceRight((o,l)=>new k1(o,l),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(T1),u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),dN=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:JD,useClass:oN}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:YD,useValue:t.cookieName}:[],t.headerName?{provide:QD,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[JD,{provide:R1,useExisting:JD,multi:!0},{provide:F1,useClass:lN},{provide:YD,useValue:"XSRF-TOKEN"},{provide:QD,useValue:"X-XSRF-TOKEN"}]}),n})(),hN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[N1,{provide:I1,useClass:cN},P1,{provide:T1,useExisting:P1}],imports:[[dN.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),fN=(()=>{class n{constructor(t){this.http=t}getAllAvatars(){return this.http.get("https://avatars.dicebear.com/api/avataaars/:seed.svg",{responseType:"text"})}getAvatar(t,r){return(new nl).set("Accept","image/svg+xml"),this.http.get(`https://avatars.dicebear.com/api/avataaars/${t}/${r}.svg`,{responseType:"text"})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(N1))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),L1=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-header"]],decls:14,vars:0,consts:[[1,"header"],["routerLink","/home",1,"logo"],["src","./../../../assets/images/logo.png","alt","",2,"height","7vh","margin-right","1vw"],[2,"margin-top","2vh"],["routerLink","/home","src","./../../../assets/images/homeBar.png","alt","",2,"height","6vh","margin-right","2vw"],["routerLink","/register",1,"hoverli"],["routerLink","/profile",1,"hoverli"],["src","./../../../assets/images/usuario.png","alt","",2,"height","4vh","margin-top","-2vh","margin-right","0.6vw"],["routerLink","/home",1,"btn_close"],["src","./../../../assets/images/salir.png","alt","",2,"height","4vh"]],template:function(t,r){1&t&&(u.TgZ(0,"nav",0),u.TgZ(1,"div",1),u._UZ(2,"img",2),u.TgZ(3,"h4",3),u._uU(4,"Work for world"),u.qZA(),u.qZA(),u.TgZ(5,"ul"),u._UZ(6,"img",4),u.TgZ(7,"li",5),u._uU(8,"Registro Candidato"),u.qZA(),u.TgZ(9,"li",6),u._UZ(10,"img",7),u._uU(11,"Mi perfil"),u.qZA(),u.TgZ(12,"button",8),u._UZ(13,"img",9),u.qZA(),u.qZA(),u.qZA())},directives:[Nu],styles:[".header[_ngcontent-%COMP%]{width:100vw;height:13vh;background:#003d66;position:absolute;display:flex;flex-direction:row;top:0;left:0;padding-top:1em;padding-right:3vw;justify-content:flex-end;align-items:center}ul[_ngcontent-%COMP%]{width:45vw;height:10vh;display:flex;flex-direction:row;align-items:center}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#fefeff;margin:1em;list-style:none;height:9vh;width:11vw;justify-content:center;display:flex;padding-top:1vh;align-items:center}.btn_close[_ngcontent-%COMP%]{width:6vw;margin:3vh 0 3vh 2vw;height:9vh;background-color:#0573bc;color:#fff;border-radius:5px;border:none;font-size:1.2em;font-weight:700;justify-content:center;align-items:center;display:flex}.btn_close[_ngcontent-%COMP%]:hover{background:linear-gradient(.25turn,#0063a5,hsla(187,100%,63%,.527));box-shadow:#0000003d 0 3px 8px}ul[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{cursor:pointer}.hoverli[_ngcontent-%COMP%]:hover{border-bottom:#ffffff 1.5px solid}.logo[_ngcontent-%COMP%]{width:22vw;height:10vh;position:absolute;left:0;top:1.5vh;display:flex;flex-direction:row;align-items:center;justify-content:center;color:#fff}.logo[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),n})();var pN=k(5032);function o_(n){return(0,Xn.e)((e,t)=>{(0,Ti.Xf)(n).subscribe(new Jt.Q(t,()=>t.complete(),pN.Z)),!t.closed&&e.subscribe(t)})}var mN=k(3532);function vN(n,e=Mi.z){return function gN(n){return(0,Xn.e)((e,t)=>{let r=!1,o=null,l=null,h=!1;const m=()=>{if(null==l||l.unsubscribe(),l=null,r){r=!1;const T=o;o=null,t.next(T)}h&&t.complete()},E=()=>{l=null,h&&t.complete()};e.subscribe(new Jt.Q(t,T=>{r=!0,o=T,l||(0,Ti.Xf)(n(T)).subscribe(l=new Jt.Q(t,m,E))},()=>{h=!0,(!r||!l||l.closed)&&t.complete()}))})}(()=>function yN(n=0,e,t=Mi.P){let r=-1;return null!=e&&((0,mN.K)(e)?t=e:r=e),new Ln.y(o=>{let l=function _N(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;l<0&&(l=0);let h=0;return t.schedule(function(){o.closed||(o.next(h++),0<=r?this.schedule(void 0,r):o.complete())},l)})}(n,e))}var V1=k(4408);const x0={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=x0;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const o=e(l=>{t=void 0,n(l)});return new di.w0(()=>null==t?void 0:t(o))},requestAnimationFrame(...n){const{delegate:e}=x0;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=x0;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var U1=k(7565);const CN=new class bN extends U1.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let o;e=e||r.shift();do{if(o=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,o){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw o}}}(class EN extends V1.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=x0.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(o=>o.id===t)||(x0.cancelAnimationFrame(t),e._scheduled=void 0)}});let XD,IN=1;const xC={};function B1(n){return n in xC&&(delete xC[n],!0)}const TN={setImmediate(n){const e=IN++;return xC[e]=!0,XD||(XD=Promise.resolve()),XD.then(()=>B1(e)&&n()),e},clearImmediate(n){B1(n)}},{setImmediate:DN,clearImmediate:AN}=TN,MC={setImmediate(...n){const{delegate:e}=MC;return((null==e?void 0:e.setImmediate)||DN)(...n)},clearImmediate(n){const{delegate:e}=MC;return((null==e?void 0:e.clearImmediate)||AN)(n)},delegate:void 0},MN=new class xN extends U1.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let o;e=e||r.shift();do{if(o=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,o){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw o}}}(class SN extends V1.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=MC.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(o=>o.id===t)||(MC.clearImmediate(t),e._scheduled=void 0)}});var ON=k(1144);const NN=["addListener","removeListener"],kN=["addEventListener","removeEventListener"],RN=["on","off"];function a_(n,e,t,r){if((0,Bi.m)(t)&&(r=t,t=void 0),r)return a_(n,e,t).pipe(_l(r));const[o,l]=function LN(n){return(0,Bi.m)(n.addEventListener)&&(0,Bi.m)(n.removeEventListener)}(n)?kN.map(h=>m=>n[h](e,m,t)):function PN(n){return(0,Bi.m)(n.addListener)&&(0,Bi.m)(n.removeListener)}(n)?NN.map(j1(n,e)):function FN(n){return(0,Bi.m)(n.on)&&(0,Bi.m)(n.off)}(n)?RN.map(j1(n,e)):[];if(!o&&(0,ON.z)(n))return(0,En.z)(h=>a_(h,e,t))((0,Ti.Xf)(n));if(!o)throw new TypeError("Invalid event target");return new Ln.y(h=>{const m=(...E)=>h.next(1<E.length?E:E[0]);return o(m),()=>l(m)})}function j1(n,e){return t=>r=>n[t](e,r)}const VN=["content"],UN=["scroll"],BN=["padding"],M0=function(n){return{searchTerm:n}};function jN(n,e){if(1&n&&(u.TgZ(0,"div",6),u.GkF(1,7),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",t.headerTemplate)("ngTemplateOutletContext",u.VKq(2,M0,t.filterValue))}}function HN(n,e){if(1&n&&(u.TgZ(0,"div",8),u.GkF(1,7),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",t.footerTemplate)("ngTemplateOutletContext",u.VKq(2,M0,t.filterValue))}}const H1=["*"],ZN=["searchInput"];function $N(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"span",15),u.NdJ("click",function(){u.CHM(t);const o=u.oxw().$implicit;return u.oxw(2).unselect(o)}),u._uU(1,"\xd7"),u.qZA(),u._UZ(2,"span",16)}if(2&n){const t=u.oxw().$implicit,r=u.oxw(2);u.xp6(2),u.Q6J("ngItemLabel",t.label)("escape",r.escapeHTML)}}function qN(n,e){}const GN=function(n,e,t){return{item:n,clear:e,label:t}};function zN(n,e){if(1&n&&(u.TgZ(0,"div",12),u.YNc(1,$N,3,2,"ng-template",null,13,u.W1O),u.YNc(3,qN,0,0,"ng-template",14),u.qZA()),2&n){const t=e.$implicit,r=u.MAs(2),o=u.oxw(2);u.ekj("ng-value-disabled",t.disabled),u.xp6(3),u.Q6J("ngTemplateOutlet",o.labelTemplate||r)("ngTemplateOutletContext",u.kEZ(4,GN,t.value,o.clearItem,t.label))}}function WN(n,e){if(1&n&&(u.ynx(0),u.YNc(1,zN,4,8,"div",11),u.BQk()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngForOf",t.selectedItems)("ngForTrackBy",t.trackByOption)}}function KN(n,e){}const YN=function(n,e){return{items:n,clear:e}};function QN(n,e){if(1&n&&u.YNc(0,KN,0,0,"ng-template",14),2&n){const t=u.oxw();u.Q6J("ngTemplateOutlet",t.multiLabelTemplate)("ngTemplateOutletContext",u.WLB(2,YN,t.selectedValues,t.clearItem))}}function JN(n,e){1&n&&u._UZ(0,"div",19)}function XN(n,e){}function ek(n,e){if(1&n&&(u.ynx(0),u.YNc(1,JN,1,0,"ng-template",null,17,u.W1O),u.YNc(3,XN,0,0,"ng-template",18),u.BQk()),2&n){const t=u.MAs(2),r=u.oxw();u.xp6(3),u.Q6J("ngTemplateOutlet",r.loadingSpinnerTemplate||t)}}function tk(n,e){if(1&n&&(u.TgZ(0,"span",20),u.TgZ(1,"span",21),u._uU(2,"\xd7"),u.qZA(),u.qZA()),2&n){const t=u.oxw();u.s9C("title",t.clearAllText)}}function nk(n,e){if(1&n&&u._UZ(0,"span",27),2&n){const t=u.oxw().$implicit,r=u.oxw(2);u.Q6J("ngItemLabel",t.label)("escape",r.escapeHTML)}}function rk(n,e){}const ik=function(n,e,t,r){return{item:n,item$:e,index:t,searchTerm:r}};function sk(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",25),u.NdJ("click",function(){const l=u.CHM(t).$implicit;return u.oxw(2).toggleItem(l)})("mouseover",function(){const l=u.CHM(t).$implicit;return u.oxw(2).onItemHover(l)}),u.YNc(1,nk,1,2,"ng-template",null,26,u.W1O),u.YNc(3,rk,0,0,"ng-template",14),u.qZA()}if(2&n){const t=e.$implicit,r=u.MAs(2),o=u.oxw(2);u.ekj("ng-option-disabled",t.disabled)("ng-option-selected",t.selected)("ng-optgroup",t.children)("ng-option",!t.children)("ng-option-child",!!t.parent)("ng-option-marked",t===o.itemsList.markedItem),u.uIk("role",t.children?"group":"option")("aria-selected",t.selected)("id",null==t?null:t.htmlId),u.xp6(3),u.Q6J("ngTemplateOutlet",t.children?o.optgroupTemplate||r:o.optionTemplate||r)("ngTemplateOutletContext",u.l5B(17,ik,t.value,t,t.index,o.searchTerm))}}function ok(n,e){if(1&n&&(u.TgZ(0,"span"),u.TgZ(1,"span",30),u._uU(2),u.qZA(),u._uU(3),u.qZA()),2&n){const t=u.oxw(3);u.xp6(2),u.Oqu(t.addTagText),u.xp6(1),u.hij('"',t.searchTerm,'"')}}function ak(n,e){}function uk(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",28),u.NdJ("mouseover",function(){return u.CHM(t),u.oxw(2).itemsList.unmarkItem()})("click",function(){return u.CHM(t),u.oxw(2).selectTag()}),u.YNc(1,ok,4,2,"ng-template",null,29,u.W1O),u.YNc(3,ak,0,0,"ng-template",14),u.qZA()}if(2&n){const t=u.MAs(2),r=u.oxw(2);u.ekj("ng-option-marked",!r.itemsList.markedItem),u.xp6(3),u.Q6J("ngTemplateOutlet",r.tagTemplate||t)("ngTemplateOutletContext",u.VKq(4,M0,r.searchTerm))}}function lk(n,e){if(1&n&&(u.TgZ(0,"div",32),u._uU(1),u.qZA()),2&n){const t=u.oxw(3);u.xp6(1),u.Oqu(t.notFoundText)}}function ck(n,e){}function dk(n,e){if(1&n&&(u.ynx(0),u.YNc(1,lk,2,1,"ng-template",null,31,u.W1O),u.YNc(3,ck,0,0,"ng-template",14),u.BQk()),2&n){const t=u.MAs(2),r=u.oxw(2);u.xp6(3),u.Q6J("ngTemplateOutlet",r.notFoundTemplate||t)("ngTemplateOutletContext",u.VKq(2,M0,r.searchTerm))}}function hk(n,e){if(1&n&&(u.TgZ(0,"div",32),u._uU(1),u.qZA()),2&n){const t=u.oxw(3);u.xp6(1),u.Oqu(t.typeToSearchText)}}function fk(n,e){}function pk(n,e){if(1&n&&(u.ynx(0),u.YNc(1,hk,2,1,"ng-template",null,33,u.W1O),u.YNc(3,fk,0,0,"ng-template",18),u.BQk()),2&n){const t=u.MAs(2),r=u.oxw(2);u.xp6(3),u.Q6J("ngTemplateOutlet",r.typeToSearchTemplate||t)}}function gk(n,e){if(1&n&&(u.TgZ(0,"div",32),u._uU(1),u.qZA()),2&n){const t=u.oxw(3);u.xp6(1),u.Oqu(t.loadingText)}}function mk(n,e){}function _k(n,e){if(1&n&&(u.ynx(0),u.YNc(1,gk,2,1,"ng-template",null,34,u.W1O),u.YNc(3,mk,0,0,"ng-template",14),u.BQk()),2&n){const t=u.MAs(2),r=u.oxw(2);u.xp6(3),u.Q6J("ngTemplateOutlet",r.loadingTextTemplate||t)("ngTemplateOutletContext",u.VKq(2,M0,r.searchTerm))}}function yk(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"ng-dropdown-panel",22),u.NdJ("update",function(o){return u.CHM(t),u.oxw().viewPortItems=o})("scroll",function(o){return u.CHM(t),u.oxw().scroll.emit(o)})("scrollToEnd",function(o){return u.CHM(t),u.oxw().scrollToEnd.emit(o)})("outsideClick",function(){return u.CHM(t),u.oxw().close()}),u.ynx(1),u.YNc(2,sk,4,22,"div",23),u.YNc(3,uk,4,6,"div",24),u.BQk(),u.YNc(4,dk,4,4,"ng-container",3),u.YNc(5,pk,4,1,"ng-container",3),u.YNc(6,_k,4,4,"ng-container",3),u.qZA()}if(2&n){const t=u.oxw();u.ekj("ng-select-multiple",t.multiple),u.Q6J("virtualScroll",t.virtualScroll)("bufferAmount",t.bufferAmount)("appendTo",t.appendTo)("position",t.dropdownPosition)("headerTemplate",t.headerTemplate)("footerTemplate",t.footerTemplate)("filterValue",t.searchTerm)("items",t.itemsList.filteredItems)("markedItem",t.itemsList.markedItem)("ngClass",t.appendTo?t.classes:null)("id",t.dropdownId),u.xp6(2),u.Q6J("ngForOf",t.viewPortItems)("ngForTrackBy",t.trackByOption),u.xp6(1),u.Q6J("ngIf",t.showAddTag),u.xp6(1),u.Q6J("ngIf",t.showNoItemsFound()),u.xp6(1),u.Q6J("ngIf",t.showTypeToSearch()),u.xp6(1),u.Q6J("ngIf",t.loading&&0===t.itemsList.filteredItems.length)}}const Z1=/[&<>"']/g,vk=RegExp(Z1.source),wk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function wr(n){return null!=n}function O0(n){return"object"==typeof n&&wr(n)}function OC(n){return n instanceof Function}let Ck=(()=>{class n{constructor(t){this.element=t,this.escape=!0}ngOnChanges(t){this.element.nativeElement.innerHTML=this.escape?function Ek(n){return n&&vk.test(n)?n.replace(Z1,e=>wk[e]):n}(this.ngItemLabel):this.ngItemLabel}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},features:[u.TTD]}),n})(),Ik=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ng-option-tmp",""]]}),n})(),Tk=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ng-optgroup-tmp",""]]}),n})(),Dk=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ng-label-tmp",""]]}),n})(),Ak=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ng-multi-label-tmp",""]]}),n})(),Sk=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ng-header-tmp",""]]}),n})(),xk=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ng-footer-tmp",""]]}),n})(),Mk=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ng-notfound-tmp",""]]}),n})(),Ok=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ng-typetosearch-tmp",""]]}),n})(),Nk=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ng-loadingtext-tmp",""]]}),n})(),kk=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ng-tag-tmp",""]]}),n})(),Rk=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ng-loadingspinner-tmp",""]]}),n})();function $1(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(16*Math.random()|0).toString(16))}const Pk={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"};function NC(n){return n.replace(/[^\u0000-\u007E]/g,t=>Pk[t]||t)}class Fk{constructor(e,t){this._ngSelect=e,this._selectionModel=t,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let e=this.selectedItems.length-1;for(;e>=0;e--){const t=this.selectedItems[e];if(!t.disabled)return t}return null}setItems(e){this._items=e.map((t,r)=>this.mapItem(t,r)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(e){if(e.selected||this.maxItemsSelected)return;const t=this._ngSelect.multiple;t||this.clearSelected(),this._selectionModel.select(e,t,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(e)}unselect(e){!e.selected||(this._selectionModel.unselect(e,this._ngSelect.multiple),this._ngSelect.hideSelected&&wr(e.index)&&this._ngSelect.multiple&&this._showSelected(e))}findItem(e){let t;return t=this._ngSelect.compareWith?r=>this._ngSelect.compareWith(r.value,e):this._ngSelect.bindValue?r=>!r.children&&this.resolveNested(r.value,this._ngSelect.bindValue)===e:r=>r.value===e||!r.children&&r.label&&r.label===this.resolveNested(e,this._ngSelect.bindLabel),this._items.find(r=>t(r))}addItem(e){const t=this.mapItem(e,this._items.length);return this._items.push(t),this._filteredItems.push(t),t}clearSelected(e=!1){this._selectionModel.clear(e),this._items.forEach(t=>{t.selected=e&&t.selected&&t.disabled,t.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(e){return e=NC(e).toLocaleLowerCase(),this.filteredItems.find(t=>NC(t.label).toLocaleLowerCase().substr(0,e.length)===e)}filter(e){if(!e)return void this.resetFilteredItems();this._filteredItems=[],e=this._ngSelect.searchFn?e:NC(e).toLocaleLowerCase();const t=this._ngSelect.searchFn||this._defaultSearchFn,r=this._ngSelect.hideSelected;for(const o of Array.from(this._groups.keys())){const l=[];for(const h of this._groups.get(o))r&&(h.parent&&h.parent.selected||h.selected)||t(e,this._ngSelect.searchFn?h.value:h)&&l.push(h);if(l.length>0){const[h]=l.slice(-1);if(h.parent){const m=this._items.find(E=>E===h.parent);this._filteredItems.push(m)}this._filteredItems.push(...l)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._filteredItems=this._ngSelect.hideSelected&&this.selectedItems.length>0?this._items.filter(e=>!e.selected):this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(e){this._markedIndex=this._filteredItems.indexOf(e)}markSelectedOrDefault(e){if(0===this._filteredItems.length)return;const t=this._getLastMarkedIndex();this._markedIndex=t>-1?t:e?this.filteredItems.findIndex(r=>!r.disabled):-1}resolveNested(e,t){if(!O0(e))return e;if(-1===t.indexOf("."))return e[t];{const r=t.split(".");let o=e;for(let l=0,h=r.length;l<h;++l){if(null==o)return null;o=o[r[l]]}return o}}mapItem(e,t){const r=wr(e.$ngOptionLabel)?e.$ngOptionLabel:this.resolveNested(e,this._ngSelect.bindLabel),o=wr(e.$ngOptionValue)?e.$ngOptionValue:e;return{index:t,label:wr(r)?r.toString():"",value:o,disabled:e.disabled,htmlId:`${this._ngSelect.dropdownId}-${t}`}}mapSelectedItems(){const e=this._ngSelect.multiple;for(const t of this.selectedItems){const r=this._ngSelect.bindValue?this.resolveNested(t.value,this._ngSelect.bindValue):t.value,o=wr(r)?this.findItem(r):null;this._selectionModel.unselect(t,e),this._selectionModel.select(o||t,e,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(t=>-1===this.selectedItems.indexOf(t)))}_showSelected(e){if(this._filteredItems.push(e),e.parent){const t=e.parent;this._filteredItems.find(o=>o===t)||this._filteredItems.push(t)}else if(e.children)for(const t of e.children)t.selected=!1,this._filteredItems.push(t);this._filteredItems=[...this._filteredItems.sort((t,r)=>t.index-r.index)]}_hideSelected(e){this._filteredItems=this._filteredItems.filter(t=>t!==e),e.parent?e.parent.children.every(r=>r.selected)&&(this._filteredItems=this._filteredItems.filter(r=>r!==e.parent)):e.children&&(this._filteredItems=this.filteredItems.filter(t=>t.parent!==e))}_defaultSearchFn(e,t){return NC(t.label).toLocaleLowerCase().indexOf(e)>-1}_getNextItemIndex(e){return e>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(e){0===this._filteredItems.length||this._filteredItems.every(t=>t.disabled)||(this._markedIndex=this._getNextItemIndex(e),this.markedItem.disabled&&this._stepToItem(e))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&void 0===this.markedItem)return-1;const e=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&e<0?-1:Math.max(this.markedIndex,e)}_groupBy(e,t){const r=new Map;if(0===e.length)return r;if(Array.isArray(e[0].value[t])){for(const h of e){const m=(h.value[t]||[]).map((E,T)=>this.mapItem(E,T));r.set(h,m)}return r}const o=OC(this._ngSelect.groupBy),l=h=>{const m=o?t(h.value):h.value[t];return wr(m)?m:void 0};for(const h of e){const m=l(h),E=r.get(m);E?E.push(h):r.set(m,[h])}return r}_flatten(e){const t=OC(this._ngSelect.groupBy),r=[];for(const o of Array.from(e.keys())){let l=r.length;if(void 0===o){const N=e.get(void 0)||[];r.push(...N.map(V=>(V.index=l++,V)));continue}const h=O0(o),m={label:h?"":String(o),children:void 0,parent:null,index:l++,disabled:!this._ngSelect.selectableGroup,htmlId:$1()},E=t?this._ngSelect.bindLabel:this._ngSelect.groupBy,T=this._ngSelect.groupValue||(()=>h?o.value:{[E]:o}),M=e.get(o).map(N=>(N.parent=m,N.children=void 0,N.index=l++,N));m.children=M,m.value=T(o,M.map(N=>N.value)),r.push(m),r.push(...M)}return r}}var Xa=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Esc=27]="Esc",n[n.Space=32]="Space",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowDown=40]="ArrowDown",n[n.Backspace=8]="Backspace"}(Xa||(Xa={})),Xa))();let q1=(()=>{class n{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(t,r,o){const l=this._dimensions,h=l.itemHeight*r,E=Math.max(0,t)/h*r;let T=Math.min(r,Math.ceil(E)+(l.itemsPerViewport+1));const N=Math.max(0,T-l.itemsPerViewport);let V=Math.min(N,Math.floor(E)),Z=l.itemHeight*Math.ceil(V)-l.itemHeight*Math.min(V,o);return Z=isNaN(Z)?0:Z,V=isNaN(V)?-1:V,T=isNaN(T)?-1:T,V-=o,V=Math.max(0,V),T+=o,T=Math.min(r,T),{topPadding:Z,scrollHeight:h,start:V,end:T}}setDimensions(t,r){const o=Math.max(1,Math.floor(r/t));this._dimensions={itemHeight:t,panelHeight:r,itemsPerViewport:o}}getScrollTo(t,r,o){const{panelHeight:l}=this.dimensions,h=t+r,E=o+l;return l>=h&&o===t?null:h>E?o+h-E:t<=o?t:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const G1=["top","right","bottom","left"],Lk="undefined"!=typeof requestAnimationFrame?CN:MN;let z1=(()=>{class n{constructor(t,r,o,l,h){this._renderer=t,this._zone=r,this._panelService=o,this._document=h,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new u.vpe,this.scroll=new u.vpe,this.scrollToEnd=new u.vpe,this.outsideClick=new u.vpe,this._destroy$=new wn.x,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=l.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(t){t!==this._itemsLength&&(this._itemsLength=t,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){const{itemHeight:t,panelHeight:r}=this._panelService.dimensions,o=this.markedItem.index*t;return r>o?0:o}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(t){if(t.items){const r=t.items;this._onItemsChange(r.currentValue,r.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(t,r=!1){if(!t)return;const o=this.items.indexOf(t);if(o<0||o>=this.itemsLength)return;let l;if(this.virtualScroll){const h=this._panelService.dimensions.itemHeight;l=this._panelService.getScrollTo(o*h,h,this._lastScrollPosition)}else{const h=this._dropdown.querySelector(`#${t.htmlId}`);l=this._panelService.getScrollTo(h.offsetTop,h.clientHeight,r?h.offsetTop:this._lastScrollPosition)}wr(l)&&(this._scrollablePanel.scrollTop=l)}scrollToTag(){const t=this._scrollablePanel;t.scrollTop=t.scrollHeight-t.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),G1.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(t){G1.forEach(o=>{const l=`ng-select-${o}`;this._renderer.removeClass(this._dropdown,l),this._renderer.removeClass(this._select,l)});const r=`ng-select-${t}`;this._renderer.addClass(this._dropdown,r),this._renderer.addClass(this._select,r)}_handleScroll(){this._zone.runOutsideAngular(()=>{a_(this.scrollElementRef.nativeElement,"scroll").pipe(o_(this._destroy$),vN(0,Lk)).subscribe(t=>{const r=t.path||t.composedPath&&t.composedPath();this._onContentScrolled(r&&0!==r.length?r[0].scrollTop:t.target.scrollTop)})})}_handleOutsideClick(){!this._document||this._zone.runOutsideAngular(()=>{(0,_C.T)(a_(this._document,"touchstart",{capture:!0}),a_(this._document,"mousedown",{capture:!0})).pipe(o_(this._destroy$)).subscribe(t=>this._checkToClose(t))})}_checkToClose(t){if(this._select.contains(t.target)||this._dropdown.contains(t.target))return;const r=t.path||t.composedPath&&t.composedPath();t.target&&t.target.shadowRoot&&r&&r[0]&&this._select.contains(r[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(t,r){this.items=t||[],this._scrollToEndFired=!1,this.itemsLength=t.length,this.virtualScroll?this._updateItemsRange(r):(this._setVirtualHeight(),this._updateItems(r))}_updateItems(t){this.update.emit(this.items),!1!==t&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._panelService.setDimensions(0,this._scrollablePanel.clientHeight),this._handleDropdownPosition(),this.scrollTo(this.markedItem,t)})})}_updateItemsRange(t){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{t?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(t){this.virtualScroll&&this._renderItemsRange(t),this._lastScrollPosition=t,this._fireScrollToEnd(t)}_updateVirtualHeight(t){this._updateScrollHeight&&(this._virtualPadding.style.height=`${t}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){!this._virtualPadding||(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(t=null){if(t&&this._lastScrollPosition===t)return;const r=this._panelService.calculateItems(t=t||this._scrollablePanel.scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(r.scrollHeight),this._contentPanel.style.transform=`translateY(${r.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(r.start,r.end)),this.scroll.emit({start:r.start,end:r.end})}),wr(t)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=t,this._lastScrollPosition=t)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);const[t]=this.items;return this.update.emit([t]),Promise.resolve().then(()=>{const o=this._dropdown.querySelector(`#${t.htmlId}`).clientHeight;return this._virtualPadding.style.height=o*this.itemsLength+"px",this._panelService.setDimensions(o,this._scrollablePanel.clientHeight),this._panelService.dimensions})}_fireScrollToEnd(t){this._scrollToEndFired||0===t||t+this._dropdown.clientHeight>=(this.virtualScroll?this._virtualPadding:this._contentPanel).clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(t){if("auto"!==this.position)return this.position;const r=this._select.getBoundingClientRect(),o=document.documentElement.scrollTop||document.body.scrollTop;return r.top+window.pageYOffset+r.height+t.getBoundingClientRect().height>o+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){const t=this._select.getBoundingClientRect(),r=this._parent.getBoundingClientRect();this._dropdown.style.left=t.left-r.left+"px",this._dropdown.style.width=t.width+"px",this._dropdown.style.minWidth=t.width+"px"}_updateYPosition(){const t=this._select.getBoundingClientRect(),r=this._parent.getBoundingClientRect(),o=t.height;"top"===this._currentPosition?(this._dropdown.style.bottom=r.bottom-t.bottom+o+"px",this._dropdown.style.top="auto"):"bottom"===this._currentPosition&&(this._dropdown.style.top=t.top-r.top+o+"px",this._dropdown.style.bottom="auto")}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{a_(this._dropdown,"mousedown").pipe(o_(this._destroy$)).subscribe(t=>{"INPUT"!==t.target.tagName&&t.preventDefault()})})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.R0b),u.Y36(q1),u.Y36(u.SBq),u.Y36(oe,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-dropdown-panel"]],viewQuery:function(t,r){if(1&t&&(u.Gf(VN,7,u.SBq),u.Gf(UN,7,u.SBq),u.Gf(BN,7,u.SBq)),2&t){let o;u.iGM(o=u.CRH())&&(r.contentElementRef=o.first),u.iGM(o=u.CRH())&&(r.scrollElementRef=o.first),u.iGM(o=u.CRH())&&(r.paddingElementRef=o.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[u.TTD],ngContentSelectors:H1,decls:9,vars:6,consts:[["class","ng-dropdown-header",4,"ngIf"],[1,"ng-dropdown-panel-items","scroll-host"],["scroll",""],["padding",""],["content",""],["class","ng-dropdown-footer",4,"ngIf"],[1,"ng-dropdown-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-dropdown-footer"]],template:function(t,r){1&t&&(u.F$t(),u.YNc(0,jN,2,4,"div",0),u.TgZ(1,"div",1,2),u._UZ(3,"div",null,3),u.TgZ(5,"div",null,4),u.Hsn(7),u.qZA(),u.qZA(),u.YNc(8,HN,2,4,"div",5)),2&t&&(u.Q6J("ngIf",r.headerTemplate),u.xp6(3),u.ekj("total-padding",r.virtualScroll),u.xp6(2),u.ekj("scrollable-content",r.virtualScroll&&r.items.length),u.xp6(3),u.Q6J("ngIf",r.footerTemplate))},directives:[Zn,ru],encapsulation:2,changeDetection:0}),n})(),Vk=(()=>{class n{constructor(t){this.elementRef=t,this.stateChange$=new wn.x,this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=this._isDisabled(t)}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(t){t.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}_isDisabled(t){return null!=t&&"false"!=`${t}`}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-option"]],inputs:{value:"value",disabled:"disabled"},features:[u.TTD],ngContentSelectors:H1,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),Uk=(()=>{class n{constructor(){this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bk=(()=>{class n{warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const W1=new u.OlP("ng-select-selection-model");let jk=(()=>{class n{constructor(t,r,o,l,h,m,E){this.classes=t,this.autoFocus=r,this.config=o,this._cd=m,this._console=E,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=T=>!0,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new u.vpe,this.focusEvent=new u.vpe,this.changeEvent=new u.vpe,this.openEvent=new u.vpe,this.closeEvent=new u.vpe,this.searchEvent=new u.vpe,this.clearEvent=new u.vpe,this.addEvent=new u.vpe,this.removeEvent=new u.vpe,this.scroll=new u.vpe,this.scrollToEnd=new u.vpe,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=$1(),this.escapeHTML=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new wn.x,this._keyPress$=new wn.x,this._onChange=T=>{},this._onTouched=()=>{},this.clearItem=T=>{const M=this.selectedItems.find(N=>N.value===T);this.unselect(M)},this.trackByOption=(T,M)=>this.trackByFn?this.trackByFn(M.value):M,this._mergeGlobalConfig(o),this.itemsList=new Fk(this,l()),this.element=h.nativeElement}get items(){return this._items}set items(t){null===t&&(t=[]),this._itemsAreUsed=!0,this._items=t}get compareWith(){return this._compareWith}set compareWith(t){if(null!=t&&!OC(t))throw Error("`compareWith` must be a function.");this._compareWith=t}get clearSearchOnAdd(){return wr(this._clearSearchOnAdd)?this._clearSearchOnAdd:wr(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(t){this._clearSearchOnAdd=t}get disabled(){return this.readonly||this._disabled}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(t=>t.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(t){t.multiple&&this.itemsList.clearSelected(),t.items&&this._setItems(t.items.currentValue||[]),t.isOpen&&(this._manualOpen=wr(t.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),wr(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(t){if(Xa[t.which]){if(!1===this.keyDownFn(t))return;this.handleKeyCode(t)}else t.key&&1===t.key.length&&this._keyPress$.next(t.key.toLocaleLowerCase())}handleKeyCode(t){switch(t.which){case Xa.ArrowDown:this._handleArrowDown(t);break;case Xa.ArrowUp:this._handleArrowUp(t);break;case Xa.Space:this._handleSpace(t);break;case Xa.Enter:this._handleEnter(t);break;case Xa.Tab:this._handleTab(t);break;case Xa.Esc:this.close(),t.preventDefault();break;case Xa.Backspace:this._handleBackspace()}}handleMousedown(t){const r=t.target;"INPUT"!==r.tagName&&t.preventDefault(),r.classList.contains("ng-clear-wrapper")?this.handleClearClick():r.classList.contains("ng-arrow-wrapper")?this.handleArrowClick():r.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){!this.clearable||(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(t){this.itemsList.clearSelected(),this._handleWriteValue(t),this._cd.markForCheck()}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._disabled=t,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this.itemsList.maxItemsSelected||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(t){!t||t.disabled||this.disabled||(this.multiple&&t.selected?this.unselect(t):this.select(t),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}select(t){t.selected||(this.itemsList.select(t),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(t.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(t){!t||(this.itemsList.unselect(t),this.focus(),this._updateNgModel(),this.removeEvent.emit(t))}selectTag(){let t;t=OC(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};const r=o=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(o,null):this.itemsList.addItem(o);!function bk(n){return n instanceof Promise}(t)?t&&this.select(r(t)):t.then(o=>this.select(r(o))).catch(()=>{})}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}get showAddTag(){if(!this._validTerm)return!1;const t=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(r=>r.label.toLowerCase()===t)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(r=>r.label.toLowerCase()===t))&&!this.loading}showNoItemsFound(){const t=0===this.itemsList.filteredItems.length;return(t&&!this._isTypeahead&&!this.loading||t&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(t){this._isComposing=!1,!this.searchWhileComposing&&this.filter(t)}filter(t){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=t,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(t),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:t,items:this.itemsList.filteredItems.map(r=>r.value)}),this.open())}onInputFocus(t){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(t),this.focused=!0)}onInputBlur(t){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(t),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(t){t.disabled||this.itemsList.markItem(t)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){const t=this.selectedItems&&this.selectedItems[0];this.searchTerm=t&&t.label||null}_setItems(t){const r=t[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=wr(r)?!O0(r):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(t),t.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&wr(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){const t=o=>{this.items=o.map(l=>({$ngOptionValue:l.value,$ngOptionLabel:l.elementRef.nativeElement.innerHTML,disabled:l.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},r=()=>{const o=(0,_C.T)(this.ngOptions.changes,this._destroy$);(0,_C.T)(...this.ngOptions.map(l=>l.stateChange$)).pipe(o_(o)).subscribe(l=>{const h=this.itemsList.findItem(l.value);h.disabled=l.disabled,h.label=l.label||h.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe(Hs(this.ngOptions),o_(this._destroy$)).subscribe(o=>{this.bindLabel=this._defaultLabel,t(o),r()})}_isValidWriteValue(t){if(!wr(t)||this.multiple&&""===t||Array.isArray(t)&&0===t.length)return!1;const r=o=>!(!wr(this.compareWith)&&O0(o)&&this.bindValue&&(this._console.warn(`Setting object(${JSON.stringify(o)}) as your model with bindValue is not allowed unless [compareWith] is used.`),1));return this.multiple?Array.isArray(t)?t.every(o=>r(o)):(this._console.warn("Multiple select ngModel should be array."),!1):r(t)}_handleWriteValue(t){if(!this._isValidWriteValue(t))return;const r=o=>{let l=this.itemsList.findItem(o);if(l)this.itemsList.select(l);else{const h=O0(o),m=!h&&!this.bindValue;h||m?this.itemsList.select(this.itemsList.mapItem(o,null)):this.bindValue&&(l={[this.bindLabel]:null,[this.bindValue]:o},this.itemsList.select(this.itemsList.mapItem(l,null)))}};this.multiple?t.forEach(o=>r(o)):r(t)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe(o_(this._destroy$),(0,Dr.b)(t=>this._pressedKeys.push(t)),function wN(n,e=Mi.z){return(0,Xn.e)((t,r)=>{let o=null,l=null,h=null;const m=()=>{if(o){o.unsubscribe(),o=null;const T=l;l=null,r.next(T)}};function E(){const T=h+n,M=e.now();if(M<T)return o=this.schedule(void 0,T-M),void r.add(o);m()}t.subscribe(new Jt.Q(r,T=>{l=T,h=e.now(),o||(o=e.schedule(E,n),r.add(o))},()=>{m(),r.complete()},void 0,()=>{l=o=null}))})}(200),Vn(()=>this._pressedKeys.length>0),(0,gt.U)(()=>this._pressedKeys.join(""))).subscribe(t=>{const r=this.itemsList.findByLabel(t);r&&(this.isOpen?(this.itemsList.markItem(r),this._scrollToMarked(),this._cd.markForCheck()):this.select(r)),this._pressedKeys=[]})}_setInputAttributes(){const t=this.searchInput.nativeElement,r=Object.assign({type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId},this.inputAttrs);for(const o of Object.keys(r))t.setAttribute(o,r[o])}_updateNgModel(){const t=[];for(const o of this.selectedItems)if(this.bindValue){let l=null;l=o.children?o.value[(this.groupValue?this.bindValue:this.groupBy)||this.groupBy]:this.itemsList.resolveNested(o.value,this.bindValue),t.push(l)}else t.push(o.value);const r=this.selectedItems.map(o=>o.value);this.multiple?(this._onChange(t),this.changeEvent.emit(r)):(this._onChange(wr(t[0])?t[0]:null),this.changeEvent.emit(r[0])),this._cd.markForCheck()}_clearSearch(){!this.searchTerm||(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(t){this.searchTerm=t,this._isTypeahead&&this.typeahead.next(t)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.multiple&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(t){!1===this.isOpen&&!this.addTag||(this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),t.preventDefault()):this.showAddTag?(this.selectTag(),t.preventDefault()):this.close():this.close())}_handleEnter(t){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}t.preventDefault()}_handleSpace(t){this.isOpen||this._manualOpen||(this.open(),t.preventDefault())}_handleArrowDown(t){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),t.preventDefault()}_handleArrowUp(t){!this.isOpen||(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),t.preventDefault())}_nextItemIsTag(t){const r=this.itemsList.markedIndex+t;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(r<0||r===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){const t=this.searchTerm&&this.searchTerm.trim();return t&&t.length>=this.minTermLength}_mergeGlobalConfig(t){this.placeholder=this.placeholder||t.placeholder,this.notFoundText=this.notFoundText||t.notFoundText,this.typeToSearchText=this.typeToSearchText||t.typeToSearchText,this.addTagText=this.addTagText||t.addTagText,this.loadingText=this.loadingText||t.loadingText,this.clearAllText=this.clearAllText||t.clearAllText,this.virtualScroll=wr(this.virtualScroll)?this.virtualScroll:!!wr(t.disableVirtualScroll)&&!t.disableVirtualScroll,this.openOnEnter=wr(this.openOnEnter)?this.openOnEnter:t.openOnEnter,this.appendTo=this.appendTo||t.appendTo,this.bindValue=this.bindValue||t.bindValue,this.bindLabel=this.bindLabel||t.bindLabel,this.appearance=this.appearance||t.appearance}}return n.\u0275fac=function(t){return new(t||n)(u.$8M("class"),u.$8M("autofocus"),u.Y36(Uk),u.Y36(W1),u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(Bk))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-select"]],contentQueries:function(t,r,o){if(1&t&&(u.Suo(o,Ik,5,u.Rgc),u.Suo(o,Tk,5,u.Rgc),u.Suo(o,Dk,5,u.Rgc),u.Suo(o,Ak,5,u.Rgc),u.Suo(o,Sk,5,u.Rgc),u.Suo(o,xk,5,u.Rgc),u.Suo(o,Mk,5,u.Rgc),u.Suo(o,Ok,5,u.Rgc),u.Suo(o,Nk,5,u.Rgc),u.Suo(o,kk,5,u.Rgc),u.Suo(o,Rk,5,u.Rgc),u.Suo(o,Vk,5)),2&t){let l;u.iGM(l=u.CRH())&&(r.optionTemplate=l.first),u.iGM(l=u.CRH())&&(r.optgroupTemplate=l.first),u.iGM(l=u.CRH())&&(r.labelTemplate=l.first),u.iGM(l=u.CRH())&&(r.multiLabelTemplate=l.first),u.iGM(l=u.CRH())&&(r.headerTemplate=l.first),u.iGM(l=u.CRH())&&(r.footerTemplate=l.first),u.iGM(l=u.CRH())&&(r.notFoundTemplate=l.first),u.iGM(l=u.CRH())&&(r.typeToSearchTemplate=l.first),u.iGM(l=u.CRH())&&(r.loadingTextTemplate=l.first),u.iGM(l=u.CRH())&&(r.tagTemplate=l.first),u.iGM(l=u.CRH())&&(r.loadingSpinnerTemplate=l.first),u.iGM(l=u.CRH())&&(r.ngOptions=l)}},viewQuery:function(t,r){if(1&t&&(u.Gf(z1,5),u.Gf(ZN,7)),2&t){let o;u.iGM(o=u.CRH())&&(r.dropdownPanel=o.first),u.iGM(o=u.CRH())&&(r.searchInput=o.first)}},hostVars:20,hostBindings:function(t,r){1&t&&u.NdJ("keydown",function(l){return r.handleKeyDown(l)}),2&t&&u.ekj("ng-select-typeahead",r.typeahead)("ng-select-multiple",r.multiple)("ng-select-taggable",r.addTag)("ng-select-searchable",r.searchable)("ng-select-clearable",r.clearable)("ng-select-opened",r.isOpen)("ng-select",r.useDefaultClass)("ng-select-disabled",r.disabled)("ng-select-filtered",r.filtered)("ng-select-single",r.single)},inputs:{bindLabel:"bindLabel",bindValue:"bindValue",markFirst:"markFirst",placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:"loading",closeOnSelect:"closeOnSelect",hideSelected:"hideSelected",selectOnTab:"selectOnTab",openOnEnter:"openOnEnter",maxSelectedItems:"maxSelectedItems",groupBy:"groupBy",groupValue:"groupValue",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",selectableGroup:"selectableGroup",selectableGroupAsModel:"selectableGroupAsModel",searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:"clearOnBackspace",labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:"tabIndex",readonly:"readonly",searchWhileComposing:"searchWhileComposing",minTermLength:"minTermLength",editableSearchTerm:"editableSearchTerm",keyDownFn:"keyDownFn",typeahead:"typeahead",multiple:"multiple",addTag:"addTag",searchable:"searchable",clearable:"clearable",isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[u._Bn([{provide:$s,useExisting:(0,u.Gpc)(()=>n),multi:!0},q1]),u.TTD],decls:14,vars:19,consts:[[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[1,"ng-placeholder"],[4,"ngIf"],["role","combobox","aria-haspopup","listbox",1,"ng-input"],["aria-autocomplete","list",3,"readOnly","disabled","value","input","compositionstart","compositionend","focus","blur","change"],["searchInput",""],["class","ng-clear-wrapper",3,"title",4,"ngIf"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["class","ng-dropdown-panel","role","listbox","aria-label","Options list",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","update","scroll","scrollToEnd","outsideClick",4,"ngIf"],["class","ng-value",3,"ng-value-disabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ng-value"],["defaultLabelTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],["defaultLoadingSpinnerTemplate",""],[3,"ngTemplateOutlet"],[1,"ng-spinner-loader"],[1,"ng-clear-wrapper",3,"title"],["aria-hidden","true",1,"ng-clear"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id","update","scroll","scrollToEnd","outsideClick"],["class","ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","ng-option","role","option",3,"ng-option-marked","mouseover","click",4,"ngIf"],[1,"ng-option",3,"click","mouseover"],["defaultOptionTemplate",""],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],["defaultTagTemplate",""],[1,"ng-tag-label"],["defaultNotFoundTemplate",""],[1,"ng-option","ng-option-disabled"],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""]],template:function(t,r){if(1&t){const o=u.EpF();u.TgZ(0,"div",0),u.NdJ("mousedown",function(h){return r.handleMousedown(h)}),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u._uU(3),u.qZA(),u.YNc(4,WN,2,2,"ng-container",3),u.YNc(5,QN,1,5,null,3),u.TgZ(6,"div",4),u.TgZ(7,"input",5,6),u.NdJ("input",function(){u.CHM(o);const h=u.MAs(8);return r.filter(h.value)})("compositionstart",function(){return r.onCompositionStart()})("compositionend",function(){u.CHM(o);const h=u.MAs(8);return r.onCompositionEnd(h.value)})("focus",function(h){return r.onInputFocus(h)})("blur",function(h){return r.onInputBlur(h)})("change",function(h){return h.stopPropagation()}),u.qZA(),u.qZA(),u.qZA(),u.YNc(9,ek,4,1,"ng-container",3),u.YNc(10,tk,3,1,"span",7),u.TgZ(11,"span",8),u._UZ(12,"span",9),u.qZA(),u.qZA(),u.YNc(13,yk,7,19,"ng-dropdown-panel",10)}2&t&&(u.ekj("ng-appearance-outline","outline"===r.appearance)("ng-has-value",r.hasValue),u.xp6(3),u.Oqu(r.placeholder),u.xp6(1),u.Q6J("ngIf",(!r.multiLabelTemplate||!r.multiple)&&r.selectedItems.length>0),u.xp6(1),u.Q6J("ngIf",r.multiple&&r.multiLabelTemplate&&r.selectedValues.length>0),u.xp6(1),u.uIk("aria-expanded",r.isOpen)("aria-owns",r.isOpen?r.dropdownId:null),u.xp6(1),u.Q6J("readOnly",!r.searchable||r.itemsList.maxItemsSelected)("disabled",r.disabled)("value",r.searchTerm?r.searchTerm:""),u.uIk("id",r.labelForId)("tabindex",r.tabIndex)("aria-activedescendant",r.isOpen?null==r.itemsList||null==r.itemsList.markedItem?null:r.itemsList.markedItem.htmlId:null)("aria-controls",r.isOpen?r.dropdownId:null),u.xp6(2),u.Q6J("ngIf",r.loading),u.xp6(1),u.Q6J("ngIf",r.showClear()),u.xp6(3),u.Q6J("ngIf",r.isOpen))},directives:[z1,Zn,rn,Ck,ru,Ms],styles:['@charset "UTF-8";.ng-select{position:relative;display:block;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}\n'],encapsulation:2,changeDetection:0}),n})();function Hk(){return new Zk}class Zk{constructor(){this._selected=[]}get value(){return this._selected}select(e,t,r){if(e.selected=!0,(!e.children||!t&&r)&&this._selected.push(e),t)if(e.parent){const o=e.parent.children.length,l=e.parent.children.filter(h=>h.selected).length;e.parent.selected=o===l}else e.children&&(this._setChildrenSelectedState(e.children,!0),this._removeChildren(e),this._selected=r&&this._activeChildren(e)?[...this._selected.filter(o=>o.parent!==e),e]:[...this._selected,...e.children.filter(o=>!o.disabled)])}unselect(e,t){if(this._selected=this._selected.filter(r=>r!==e),e.selected=!1,t)if(e.parent&&e.parent.selected){const r=e.parent.children;this._removeParent(e.parent),this._removeChildren(e.parent),this._selected.push(...r.filter(o=>o!==e&&!o.disabled)),e.parent.selected=!1}else e.children&&(this._setChildrenSelectedState(e.children,!1),this._removeChildren(e))}clear(e){this._selected=e?this._selected.filter(t=>t.disabled):[]}_setChildrenSelectedState(e,t){for(const r of e)r.disabled||(r.selected=t)}_removeChildren(e){this._selected=[...this._selected.filter(t=>t.parent!==e),...e.children.filter(t=>t.parent===e&&t.disabled&&t.selected)]}_removeParent(e){this._selected=this._selected.filter(t=>t!==e)}_activeChildren(e){return e.children.every(t=>!t.disabled||t.selected)}}let $k=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[{provide:W1,useValue:Hk}],imports:[[ss]]}),n})();function qk(n,e){if(1&n&&(u.TgZ(0,"option"),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.xp6(1),u.Oqu(t)}}function Gk(n,e){if(1&n&&(u.TgZ(0,"option"),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.xp6(1),u.Oqu(t)}}function zk(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"section",20),u.TgZ(1,"h4",21),u._uU(2,"Informacion Personal"),u.qZA(),u.TgZ(3,"span"),u._uU(4,"Todos los campos en el formulario son obligatorios"),u.qZA(),u.TgZ(5,"div",22),u.TgZ(6,"div",23),u.TgZ(7,"label",24),u._uU(8,"*Nombres"),u.qZA(),u._UZ(9,"input",25),u.qZA(),u.TgZ(10,"div",23),u.TgZ(11,"label",26),u._uU(12,"*Apellidos"),u.qZA(),u._UZ(13,"input",27),u.qZA(),u.qZA(),u.TgZ(14,"div",22),u.TgZ(15,"div",23),u.TgZ(16,"span"),u._uU(17,"*Tipo de identificaci\xf3n"),u.qZA(),u.TgZ(18,"select",28),u.YNc(19,qk,2,1,"option",29),u.qZA(),u.qZA(),u.TgZ(20,"div",23),u.TgZ(21,"label",30),u._uU(22,"*N\xfamero de identificaci\xf3n"),u.qZA(),u._UZ(23,"input",31),u.qZA(),u.qZA(),u.TgZ(24,"div",22),u.TgZ(25,"div",23),u.TgZ(26,"label",32),u._uU(27,"*Correo Electronico"),u.qZA(),u._UZ(28,"input",33),u.qZA(),u.TgZ(29,"div",23),u.TgZ(30,"label",34),u._uU(31,"*Telefono de contacto"),u.qZA(),u._UZ(32,"input",35),u.qZA(),u.qZA(),u.TgZ(33,"div",22),u.TgZ(34,"div",23),u.TgZ(35,"label",36),u._uU(36,"*Pais de residencia"),u.qZA(),u._UZ(37,"input",37),u.qZA(),u.TgZ(38,"div",23),u.TgZ(39,"label",36),u._uU(40,"*Ciudad de residencia"),u.qZA(),u._UZ(41,"input",38),u.qZA(),u.qZA(),u.TgZ(42,"div",39),u.TgZ(43,"div"),u.TgZ(44,"span",40),u._uU(45,"Fecha de Nacimiento"),u.qZA(),u.qZA(),u.TgZ(46,"div"),u._UZ(47,"input",41),u.TgZ(48,"select",42),u.YNc(49,Gk,2,1,"option",29),u.qZA(),u._UZ(50,"input",43),u.qZA(),u.qZA(),u.TgZ(51,"div"),u.TgZ(52,"button",44),u.NdJ("click",function(){return u.CHM(t),u.oxw().change1()}),u._uU(53,"Siguente"),u._UZ(54,"img",45),u.qZA(),u.qZA(),u.qZA()}if(2&n){const t=u.oxw();u.xp6(19),u.Q6J("ngForOf",t.optionsDoc),u.xp6(30),u.Q6J("ngForOf",t.optionMonth)}}function Wk(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"section",46),u.TgZ(1,"button",47),u.NdJ("click",function(){return u.CHM(t),u.oxw().return1()}),u._UZ(2,"img",48),u.qZA(),u.TgZ(3,"h4",21),u._uU(4,"Perfil Profesional"),u.qZA(),u.TgZ(5,"div",49),u.TgZ(6,"span"),u._uU(7,"Descripci\xf3n breve de tu perfil profesional"),u.qZA(),u.TgZ(8,"textarea",50),u._uU(9,"\n                "),u.qZA(),u.qZA(),u.TgZ(10,"div",51),u.TgZ(11,"span"),u._uU(12,"Disponibilidad para viajar"),u.qZA(),u.TgZ(13,"select",52),u.TgZ(14,"option",53),u._uU(15,"Si"),u.qZA(),u.TgZ(16,"option",54),u._uU(17,"No"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(18,"div"),u.TgZ(19,"div",55),u.TgZ(20,"div"),u.TgZ(21,"span",56),u._uU(22,"*Mis conocimientos "),u.qZA(),u.TgZ(23,"span",57),u._uU(24,"En este campo debes seleccionar 5 elementos"),u.qZA(),u.qZA(),u.TgZ(25,"ng-select",58),u.NdJ("ngModelChange",function(o){return u.CHM(t),u.oxw().selectedKnowledge=o}),u.qZA(),u.qZA(),u.TgZ(26,"div",55),u.TgZ(27,"div"),u.TgZ(28,"span",56),u._uU(29,"*Habilidades "),u.qZA(),u.TgZ(30,"span",57),u._uU(31,"En este campo debes seleccionar 5 elementos"),u.qZA(),u.qZA(),u.TgZ(32,"ng-select",59),u.NdJ("ngModelChange",function(o){return u.CHM(t),u.oxw().selected=o}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(33,"button",44),u.NdJ("click",function(){return u.CHM(t),u.oxw().change2()}),u._uU(34,"Siguiente"),u._UZ(35,"img",45),u.qZA(),u.qZA()}if(2&n){const t=u.oxw();u.xp6(25),u.Q6J("items",t.optionThought)("multiple",!0)("ngModel",t.selectedKnowledge),u.xp6(7),u.Q6J("items",t.optionSkill)("multiple",!0)("ngModel",t.selected)}}function Kk(n,e){if(1&n&&(u.TgZ(0,"option"),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.xp6(1),u.Oqu(t)}}function Yk(n,e){if(1&n&&(u.TgZ(0,"option"),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.xp6(1),u.Oqu(t)}}function Qk(n,e){if(1&n&&(u.TgZ(0,"option"),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.xp6(1),u.Oqu(t)}}function Jk(n,e){if(1&n&&(u.TgZ(0,"option"),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.xp6(1),u.Oqu(t)}}function Xk(n,e){if(1&n&&(u.TgZ(0,"option"),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.xp6(1),u.Oqu(t)}}function eR(n,e){if(1&n&&(u.TgZ(0,"option"),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.xp6(1),u.Oqu(t)}}function tR(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"section",60),u.TgZ(1,"button",61),u.TgZ(2,"img",62),u.NdJ("click",function(){return u.CHM(t),u.oxw().return2()}),u.qZA(),u.qZA(),u.TgZ(3,"div",22),u.TgZ(4,"h4",63),u._uU(5,"Formacion academica"),u.qZA(),u.qZA(),u.TgZ(6,"div",64),u.TgZ(7,"span"),u._uU(8,"Cual es tu ultimo nivel de Estudios Terminado"),u.qZA(),u.TgZ(9,"select",65),u.YNc(10,Kk,2,1,"option",29),u.qZA(),u.qZA(),u.TgZ(11,"div",22),u.TgZ(12,"label",66),u._uU(13,"Titulo otorgado"),u.qZA(),u._UZ(14,"input",67),u.TgZ(15,"span",68),u._uU(16,"Estado"),u.qZA(),u.TgZ(17,"select",69),u.YNc(18,Yk,2,1,"option",29),u.qZA(),u.qZA(),u.TgZ(19,"div",70),u.TgZ(20,"h4",21),u._uU(21,"Experiencia Laboral"),u.qZA(),u.qZA(),u.TgZ(22,"div",22),u.TgZ(23,"div",23),u.TgZ(24,"span"),u._uU(25,"A\xf1os de Experiencia laboral"),u.qZA(),u.TgZ(26,"select",71),u.YNc(27,Qk,2,1,"option",29),u.qZA(),u.qZA(),u.TgZ(28,"div",23),u.TgZ(29,"label",72),u._uU(30,"Nombre del cargo"),u.qZA(),u._UZ(31,"input",73),u.qZA(),u.qZA(),u.TgZ(32,"div",22),u.TgZ(33,"div",23),u.TgZ(34,"label",74),u._uU(35,"Empresa"),u.qZA(),u._UZ(36,"input",75),u.qZA(),u.TgZ(37,"div",23),u.TgZ(38,"span"),u._uU(39,"Sector Economico de la empresa"),u.qZA(),u.TgZ(40,"select",76),u.YNc(41,Jk,2,1,"option",29),u.qZA(),u.qZA(),u.qZA(),u.TgZ(42,"div",39),u.TgZ(43,"div"),u.TgZ(44,"span"),u._uU(45,"Fecha Inicio"),u.qZA(),u.qZA(),u.TgZ(46,"div"),u.TgZ(47,"select",77),u.YNc(48,Xk,2,1,"option",29),u.qZA(),u._UZ(49,"input",78),u.qZA(),u.qZA(),u.TgZ(50,"div",79),u._UZ(51,"input",80),u.TgZ(52,"label",81),u._uU(53,"Trabajo Actualmente en esta compa\xf1ia"),u.qZA(),u.qZA(),u.TgZ(54,"div",39),u.TgZ(55,"div"),u.TgZ(56,"span"),u._uU(57,"Fecha Finalizacion"),u.qZA(),u.qZA(),u.TgZ(58,"div"),u.TgZ(59,"select",82),u.YNc(60,eR,2,1,"option",29),u.qZA(),u._UZ(61,"input",83),u.qZA(),u.qZA(),u.TgZ(62,"div",84),u.TgZ(63,"span"),u._uU(64,"Tus logros"),u.qZA(),u._UZ(65,"textarea",85),u.qZA(),u.qZA()}if(2&n){const t=u.oxw();u.xp6(10),u.Q6J("ngForOf",t.optionStudyLevel),u.xp6(8),u.Q6J("ngForOf",t.optionState),u.xp6(9),u.Q6J("ngForOf",t.optionTime),u.xp6(14),u.Q6J("ngForOf",t.optionCompany),u.xp6(7),u.Q6J("ngForOf",t.optionMonth),u.xp6(12),u.Q6J("ngForOf",t.optionMonth)}}function nR(n,e){1&n&&(u.TgZ(0,"div",86),u._UZ(1,"input",87),u.TgZ(2,"label",88),u._uU(3,"He le\xeddo y autorizo los T\xe9rminos y condiciones de este portal."),u.qZA(),u.qZA())}function rR(n,e){1&n&&(u.TgZ(0,"div",86),u._UZ(1,"input",89),u.TgZ(2,"label",90),u._uU(3,"Pol\xedtica de privacidad y protecci\xf3n de datos"),u.qZA(),u.qZA())}function iR(n,e){1&n&&(u.TgZ(0,"span"),u._uU(1,"Aun hay campos requeridos incompletos y/o pendientes"),u.qZA())}function sR(n,e){1&n&&(u.TgZ(0,"button",91),u._uU(1,"Crear cuenta"),u.qZA())}function oR(n,e){1&n&&u._UZ(0,"div",92)}function aR(n,e){1&n&&u._UZ(0,"div",93)}function uR(n,e){1&n&&u._UZ(0,"div",94)}function lR(n,e){1&n&&u._UZ(0,"div",16)}function cR(n,e){1&n&&(u.TgZ(0,"div",95),u.TgZ(1,"div",96),u.TgZ(2,"h3",97),u._uU(3,"Felicidades !!!"),u.qZA(),u._UZ(4,"br"),u.TgZ(5,"p"),u._uU(6,"Tu perfil ha sido creado con exito "),u.qZA(),u.TgZ(7,"button",98),u._uU(8," Ir al perfil"),u.qZA(),u.qZA(),u.qZA())}let dR=(()=>{class n{constructor(t,r,o){this.fb=t,this._applicantService=r,this.avatarService=o,this.optionsDoc=["Selecciona una opcion ","Cedula Ciudadania","Cedula Extranjeria","Pasaporte"],this.optionStudyLevel=["Selecciona una opcion ","Basica secundaria","Tecnico o Tecnologo","Pregrado Universitario","Posgrado - Especializacion","Posgrado - Maestria","Posgrado - Doctorado"],this.optionState=["Selecciona una opcion ","Terminado","En curso","Abandonado","Aplazado"],this.optionTime=["Selecciona una opcion ","Menos de 1 a\xf1o","Entre 1 a\xf1o a 2 a\xf1os","Entre 3 a\xf1os a 4 a\xf1os","Mas de 5 a\xf1os"],this.optionCompany=["Selecciona una opcion ","Administracion","Agricultura y desarrollo rural","Comercial","Energetico","Financiero","Industrial","Tecnologia y software","Turistico","Otro"],this.optionMonth=["","Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],this.optionSkill=[{id:1,name:"Actitud Positiva"},{id:2,name:" Adaptabilidad "},{id:3,name:"Analisis"},{id:4,name:"Apoyar"},{id:5,name:"Aprendizaje"},{id:6,name:"Argumentacion"},{id:7,name:"Asertividad"},{id:8,name:"Atencion al cliente"},{id:9,name:"Bases de datos"},{id:10,name:"Colaboracion"},{id:11,name:"Comercial"},{id:12,name:"Compromiso"},{id:13,name:"Comunicacion"},{id:14,name:"Concentracion"},{id:15,name:"Creatividad"},{id:16,name:"Desarrollo"},{id:17,name:"Digital"},{id:18,name:"Dise\xf1o"},{id:19,name:"Empatia"},{id:20,name:"Escucha Activa"},{id:21,name:"Flexibilidad"},{id:22,name:"Habilidades interpersonales"},{id:23,name:"Honestidad"},{id:24,name:"Ilustracion"},{id:25,name:"Imaginacion"},{id:26,name:"Innovacion"},{id:27,name:"Investigacion"},{id:28,name:"Liderazgo"},{id:29,name:"Logistica"},{id:30,name:"Mercadeo"},{id:31,name:"Negociacion"},{id:32,name:"Planeacion"},{id:33,name:"Proactividad"},{id:34,name:"Tecnologia"}],this.optionThought=[{id:1,name:"Administraci\xf3n de la informaci\xf3n"},{id:2,name:"Algoritmos y programaci\xf3n"},{id:3,name:"Aspectos sociales y profesionales"},{id:4,name:"Ciencias de la computaci\xf3n"},{id:5,name:"Circuitos"},{id:6,name:"Computaci\xf3n centrada en la red"},{id:7,name:"Computaci\xf3n gr\xe1fica"},{id:8,name:" Electr\xf3nica"},{id:9,name:" Ingenier\xeda de software"},{id:10,name:"Interacci\xf3n humana"},{id:11,name:"Sistemas digitales"},{id:12,name:" Machine Learning"},{id:13,name:"Sistemas operativos"},{id:14,name:"Telecomunicaciones"},{id:15,name:"javaScript"},{id:16,name:"Html"},{id:17,name:"Css"},{id:18,name:"Angular"},{id:19,name:"Programas de dise\xf1o Adobe(Photoshop,Lightroom )"}],this.submitted=!1,this.selected="",this.selectedKnowledge="",this.imgP="",this.contain_part1=!0,this.contain_part2=!1,this.contain_part3=!1,this.contain_term=!1,this.modal=!1,this.bar1=!1,this.bar2=!1,this.createApplicant=this.fb.group({name:["",Pu.required],lastname:["",Pu.required],typeIdent:[""],numberIdent:["",Pu.required],email:["",Pu.required],phoneContact:["",Pu.required],numBirth:[""],monthBirth:[""],yearBirth:[""],country:["",Pu.required],city:["",Pu.required],aboutMe:[""],travel:[""],knowledge:[""],levelStudy:[""],skill:[""],titleStudy:[""],study:[""],yearJob:[""],nameJob:[""],nameCompany:[""],sectorCompany:[""],companyMonth:[""],companyYear:[""],companyActual:[""],finalMonth:[""],finalYear:[""],attainment:[""]})}ngOnInit(){}onResetForm(){this.createApplicant.reset()}addApplicant(){if(this.submitted=!0,this.createApplicant.invalid)return;const t={name:this.createApplicant.value.name,lastname:this.createApplicant.value.lastname,typeIdent:this.createApplicant.value.typeIdent,numberIdent:this.createApplicant.value.numberIdent,email:this.createApplicant.value.email,phoneContact:this.createApplicant.value.phoneContact,numBirth:this.createApplicant.value.numBirth,monthBirth:this.createApplicant.value.monthBirth,yearBirth:this.createApplicant.value.yearBirth,country:this.createApplicant.value.country,city:this.createApplicant.value.city,aboutMe:this.createApplicant.value.aboutMe,travel:this.createApplicant.value.travel,knowledge:this.createApplicant.value.knowledge,levelStudy:this.createApplicant.value.levelStudy,skill:this.createApplicant.value.skill,titleStudy:this.createApplicant.value.titleStudy,study:this.createApplicant.value.study,yearJob:this.createApplicant.value.yearJob,nameJob:this.createApplicant.value.nameJob,nameCompany:this.createApplicant.value.nameCompany,sectorCompany:this.createApplicant.value.sectorCompany,companyMonth:this.createApplicant.value.companyMonth,companyYear:this.createApplicant.value.companyYear,companyActual:this.createApplicant.value.companyActual,finalMonth:this.createApplicant.value.finalMonth,finalYear:this.createApplicant.value.finalYear,attainment:this.createApplicant.value.attainment,dateCreation:new Date,dateUpgrade:new Date};console.log(t),this._applicantService.addApplicant(t).then(()=>{console.log("aplicante agregado con exito"),this.modal=!0}).catch(r=>{console.log(r)})}getAllAvatars(){this.avatarService.getAllAvatars().subscribe(t=>{console.log(t)})}getAvatar(){this.avatarService.getAvatar("jess",!0).subscribe(t=>{console.log(t),this.imgP=t})}change1(){this.contain_part1=!1,this.contain_part2=!0,this.bar1=!0}change2(){this.contain_part1=!1,this.contain_part2=!1,this.contain_part3=!0,this.contain_term=!0,this.bar2=!0}prueba(){}return1(){this.contain_part1=!0,this.contain_part2=!1,this.contain_part3=!1,this.bar1=!1}return2(){this.contain_part3=!1,this.contain_part2=!0,this.contain_term=!1,this.bar2=!1}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(hI),u.Y36(C1),u.Y36(fN))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-create-applicant"]],decls:23,vars:13,consts:[[1,"contenedor_create_applicant"],[2,"margin-bottom","4vh","color","#003D66","font-weight","600"],["action","","autocomplete","off",1,"form_applicant",3,"formGroup","ngSubmit"],["class","contain-form",4,"ngIf"],["class","informationProfile",4,"ngIf"],["class","informationAcademy",4,"ngIf"],["class","st_term",4,"ngIf"],[1,"contain_alert"],[4,"ngIf"],["class","btn_next",4,"ngIf"],[1,"bar"],[1,"progress",2,"height","2px","margin-bottom","1vh"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-sucess",2,"width","34%"],["class","progress-bar progress-bar-striped bg-info progress-bar-animated","role","progressbar","style","width: 33%;","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",4,"ngIf"],["class","progress-bar","role","progressbar","style","width: 33%;","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",4,"ngIf"],[1,"progress",2,"height","7px"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar",2,"width","34%"],["class","progress-bar progress-bar-striped bg-info progress-bar-animated","role","progressbar","style","width: 34%;","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",4,"ngIf"],["class","progress-bar","role","progressbar","style","width: 34%;","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",4,"ngIf"],["class","modal-dialog modal-dialog-centered","class","modal_exit",4,"ngIf"],[1,"contain-form"],[1,"title_style"],[1,"contain_row"],[1,"contain-formint"],["for","name"],["type","text","id","name","formControlName","name","required",""],["for","lastname"],["type","text","id","lastname","formControlName","lastname","required",""],["name","","id","changetypea","formControlName","typeIdent"],[4,"ngFor","ngForOf"],["for","id_applicant"],["type","number","id","id_applicant","formControlName","numberIdent","required",""],["for","email_applicant"],["type","email","id","email_applicant","pattern","[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[A-Za-z]{2,4}$","formControlName","email","required",""],["for","number-applicant"],["type","number","id","number-applicant","formControlName","phoneContact","required",""],["for","country_applicant"],["type","text","id","country_applicant","formControlName","country","required",""],["type","text","id","country_applicant","formControlName","city","required",""],[1,"contain_row2"],["id","titledsa"],["type","number","min","1","step","1","id","date_applicant","placeholder","DD","formControlName","numBirth",1,"tools"],["name","","id","","formControlName","monthBirth",1,"tools"],["type","number","placeholder","AAAA","formControlName","yearBirth",1,"tools"],["type","button",1,"btn_next",3,"click"],["src","./../../../assets/images/arrow.png","alt","",2,"height","3vh","padding-left","1vw"],[1,"informationProfile"],["type","button",1,"btn-return",3,"click"],["src","./../../../assets/images/return.png","alt","",1,"return"],[1,"contain_row",2,"margin-top","4vh"],["name","","id","","cols","30","rows","5","placeholder"," Ejemplo: Soy un Fotografo profesional apasionado por el paisajismo.","formControlName","aboutMe"],[1,"travel_set"],["name","","id","","formControlName","travel",1,"tools"],["value","Tengo disponibilidad para viajar"],["value","no cuento con disponibilidad para viajar"],[1,"container-skill"],[1,"title_style",2,"margin-bottom","1vh"],[2,"color","#555555","font-size","0.8em","font-style","italic"],["bindLabel","name","placeholder","Selecciona tus conocimientos","appendTo","body","formControlName","knowledge",3,"items","multiple","ngModel","ngModelChange"],["bindLabel","name","placeholder","Selecciona tus habilidades","appendTo","body","formControlName","skill",3,"items","multiple","ngModel","ngModelChange"],[1,"informationAcademy"],["type","button",1,"btn-return"],["src","./../../../assets/images/return.png","alt","",1,"return",3,"click"],[1,"title_style",2,"margin-bottom","3vh"],[1,"contain-level"],["name","","id","","formControlName","levelStudy",2,"margin-left","2vw"],["for","name_prof"],["type","text","id","name_prof","formControlName","titleStudy"],["id","sta_personal"],["name","","id","","formControlName","study"],[1,"contain_row",2,"margin","3vh 0"],["name","","id","","formControlName","yearJob"],["for","loadTitle"],["type","text","id","loadTitle","formControlName","nameJob"],["for","company"],["type","text","id","company","formControlName","nameCompany"],["name","","id","","formControlName","sectorCompany"],["name","","id","","formControlName","companyMonth",1,"tools"],["type","text","placeholder","AAAA","formControlName","companyYear",1,"tools"],[1,"containJob"],["type","checkbox","id","job","value","Trabajo Actualmente en esta compa\xf1ia","formControlName","companyActual",2,"margin-right","0.7vw"],["for","job"],["name","","id","","formControlName","finalMonth",1,"tools"],["type","text","placeholder","AAAA","formControlName","finalYear",1,"tools"],[1,"contain_grade"],["name","","id","","cols","30","rows","5","formControlName","attainment"],[1,"st_term"],["type","checkbox","id","term",2,"margin-right","0.7vw"],["for","term"],["type","checkbox","id","termTwo",2,"margin-right","0.7vw"],["for","termTwo"],[1,"btn_next"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","bg-info","progress-bar-animated",2,"width","33%"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar",2,"width","33%"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","bg-info","progress-bar-animated",2,"width","34%"],[1,"modal_exit"],[1,"dialog"],[1,"title_style",2,"font-weight","700"],["routerLink","/profile",1,"btn_next"]],template:function(t,r){1&t&&(u.TgZ(0,"section",0),u._UZ(1,"app-header"),u.TgZ(2,"h2",1),u._uU(3," Crea tu perfil en work for world"),u.qZA(),u.TgZ(4,"form",2),u.NdJ("ngSubmit",function(){return r.addApplicant()}),u.YNc(5,zk,55,2,"section",3),u.YNc(6,Wk,36,6,"section",4),u.YNc(7,tR,66,6,"section",5),u.YNc(8,nR,4,0,"div",6),u.YNc(9,rR,4,0,"div",6),u.TgZ(10,"div",7),u.YNc(11,iR,2,0,"span",8),u.qZA(),u.YNc(12,sR,2,0,"button",9),u.qZA(),u.TgZ(13,"div",10),u.TgZ(14,"div",11),u._UZ(15,"div",12),u.YNc(16,oR,1,0,"div",13),u.YNc(17,aR,1,0,"div",14),u.qZA(),u.TgZ(18,"div",15),u._UZ(19,"div",16),u.YNc(20,uR,1,0,"div",17),u.YNc(21,lR,1,0,"div",18),u.qZA(),u.qZA(),u.YNc(22,cR,9,0,"div",19),u.qZA()),2&t&&(u.xp6(4),u.Q6J("formGroup",r.createApplicant),u.xp6(1),u.Q6J("ngIf",r.contain_part1),u.xp6(1),u.Q6J("ngIf",r.contain_part2),u.xp6(1),u.Q6J("ngIf",r.contain_part3),u.xp6(1),u.Q6J("ngIf",r.contain_term),u.xp6(1),u.Q6J("ngIf",r.contain_term),u.xp6(2),u.Q6J("ngIf",r.submitted&&r.createApplicant.invalid),u.xp6(1),u.Q6J("ngIf",r.contain_term),u.xp6(4),u.Q6J("ngIf",r.bar1),u.xp6(1),u.Q6J("ngIf",r.bar2),u.xp6(3),u.Q6J("ngIf",r.bar1),u.xp6(1),u.Q6J("ngIf",r.bar2),u.xp6(1),u.Q6J("ngIf",r.modal))},directives:[L1,sy,uw,Og,Zn,cf,q_,yf,Lg,kg,rn,Rg,dy,oy,Ug,Fg,jk,lf,Nu],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}.contenedor_create_applicant[_ngcontent-%COMP%]{width:100vw;height:225vh;justify-content:center;align-items:center;flex-direction:column;display:flex;padding-top:2vh;background-color:#fff}.form_applicant[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;flex-direction:column;height:165vh;width:58vw;border-radius:10px}.contain-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:1vh;width:57vw;height:115vh;padding-top:4vh;background-color:#f7f7fd;align-items:center;justify-content:space-around;border-radius:10px;box-shadow:#3c40434d 0 1px 2px,#3c404326 0 1px 3px 1px}.contain_row[_ngcontent-%COMP%]{flex-direction:row;width:52vw;display:flex;align-items:center;justify-content:space-between}.contain_row2[_ngcontent-%COMP%]{flex-direction:column;width:24vw;margin-left:-28vw;display:flex;justify-content:space-around;align-items:center;height:14vh}.tools[_ngcontent-%COMP%]{width:7vw;margin:0 .5vw;text-align:center}.contain-formint[_ngcontent-%COMP%]{width:24vw;height:12vh;justify-content:center;display:flex;flex-direction:column;padding:0 .5em}.informationProfile[_ngcontent-%COMP%]{display:flex;flex-direction:column;top:2vh;width:57vw;height:129vh;padding:4vh 1.5vw 0 1.5vw;background-color:#f7f7fd;align-items:center;justify-content:space-around;border-radius:10px;box-shadow:#3c40434d 0 1px 2px,#3c404326 0 1px 3px 1px}.informationAcademy[_ngcontent-%COMP%]{display:flex;flex-direction:column;top:2vh;width:57vw;height:145vh;padding:4vh 1.5vw 0 1.5vw;background-color:#f7f7fd;align-items:center;justify-content:space-around;border-radius:10px;box-shadow:#3c40434d 0 1px 2px,#3c404326 0 1px 3px 1px}.container-skill[_ngcontent-%COMP%]{width:40vw;height:25vh;padding:1em;background-color:#e8eaf6;flex-direction:column;display:flex;margin:2em 0 0;border-radius:10px}.travel_set[_ngcontent-%COMP%]{width:27vw;margin-top:5vh;justify-content:space-around;display:flex;align-items:center;margin-left:-13vw}.ng-valid[required][_ngcontent-%COMP%], .ng-valid.required[_ngcontent-%COMP%]{border-bottom:2px solid #00d66b}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid #ff414b}.bar[_ngcontent-%COMP%]{width:20vw;height:7vh;position:absolute;left:10%;top:55vh;padding:1em;transform:rotate(90deg);opacity:.7}.btn_next[_ngcontent-%COMP%]{width:17vw;margin:5vh 0 3vh;height:9vh;background-color:#0573bc;color:#fff;border-radius:5px;border:none;font-size:1.2em;font-weight:700;justify-content:center}.btn_next[_ngcontent-%COMP%]:hover{margin-left:1vw;background:linear-gradient(.25turn,#0063a5,hsla(187,100%,63%,.527));box-shadow:#0000003d 0 3px 8px}.title_style[_ngcontent-%COMP%]{color:#227aff;font-weight:700}#name_prof[_ngcontent-%COMP%]{width:25VW}.contain-level[_ngcontent-%COMP%]{width:51vw;display:flex;justify-content:flex-start;align-items:center;margin-bottom:2vh}.containJob[_ngcontent-%COMP%]{width:40vw;display:flex;flex-direction:row;justify-content:flex-end;align-items:center}.st_term[_ngcontent-%COMP%]{width:40vw;height:6vh;justify-content:center;align-items:center;display:flex;margin-top:2vh}.contain_grade[_ngcontent-%COMP%]{width:38vw;justify-content:space-around;align-items:center;display:flex;margin-bottom:2vh}.contain_alert[_ngcontent-%COMP%]{width:50vw;background-color:#ffd2d2;text-align:center;color:#770006;margin-top:2vh}.modal_exit[_ngcontent-%COMP%]{z-index:100;width:100vw;height:100vh;position:fixed;top:0;background-color:#35353549;justify-content:center;align-items:center;display:flex}.dialog[_ngcontent-%COMP%]{width:40vw;background-color:#f7f7fd;height:40vh;border-radius:20px;justify-content:center;align-items:center;display:flex;flex-direction:column}.return[_ngcontent-%COMP%]{height:5vh}.btn-return[_ngcontent-%COMP%]{border:none;margin-right:-48vw;background:#0063a500}.btn-return[_ngcontent-%COMP%]:hover{background:#0063a521;border-radius:30px}"]}),n})(),hR=(()=>{class n{constructor(){this.imagesaAvatarF=[{src:"./../../../assets/images/female1.svg",gender:"female"},{src:"./../../../assets/images/female2.svg",gender:"female"},{src:"./../../../assets/images/female3.svg",gender:"female"},{src:"./../../../assets/images/female4.svg",gender:"female"},{src:"./../../../assets/images/female5.svg",gender:"female"},{src:"./../../../assets/images/female6.svg",gender:"female"},{src:"./../../../assets/images/female7.svg",gender:"female"},{src:"./../../../assets/images/female8.svg",gender:"female"},{src:"./../../../assets/images/female9.svg",gender:"female"},{src:"./../../../assets/images/female10.svg",gender:"female"}],this.imagesaAvatarM=[{src:"./../../../assets/images/male1.svg",gender:"male"},{src:"./../../../assets/images/male2.svg",gender:"male"},{src:"./../../../assets/images/male3.svg",gender:"male"},{src:"./../../../assets/images/male4.svg",gender:"male"},{src:"./../../../assets/images/male5.svg",gender:"male"},{src:"./../../../assets/images/male6.svg",gender:"male"},{src:"./../../../assets/images/male7.svg",gender:"male"},{src:"./../../../assets/images/male8.svg",gender:"male"},{src:"./../../../assets/images/male9.svg",gender:"male"},{src:"./../../../assets/images/male10.svg",gender:"male"}],this.imageSrc=""}ngOnInit(){}cambioAvatar(){const t=Math.floor(Math.random()*(this.imagesaAvatarF.length-2))+0;return this.imagesaAvatarF[t]}selectAvatar(){this.currentImage=this.cambioAvatar().src,this.imageSrc=this.currentImage}selectAvatar2(){this.currentImage=this.cambioAvatar2().src,this.imageSrc=this.currentImage}cambioAvatar2(){const t=Math.floor(Math.random()*(this.imagesaAvatarM.length-2))+0;return this.imagesaAvatarM[t]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-avatar"]],decls:10,vars:1,consts:[[1,"sectionAvatar"],[1,"img_avatar",3,"src"],[1,"message_avatar"],[1,"btns_avatar"],[1,"img_btn2",3,"click"],["src","./../../../assets/images/female.png","alt","",1,"img_btn"],[1,"btn_male",3,"click"],["src","./../../../assets/images/male.png","alt","",1,"img_btn"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u._UZ(1,"img",1),u.TgZ(2,"div",2),u.TgZ(3,"span"),u._uU(4,"Selecciona tu avatar"),u.qZA(),u.qZA(),u.TgZ(5,"div",3),u.TgZ(6,"button",4),u.NdJ("click",function(){return r.selectAvatar()}),u._UZ(7,"img",5),u.qZA(),u.TgZ(8,"button",6),u.NdJ("click",function(){return r.selectAvatar2()}),u._UZ(9,"img",7),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(1),u.s9C("src",r.imageSrc,u.LSH))},styles:[".sectionAvatar[_ngcontent-%COMP%]{height:66vh;width:22vw;margin:-30vh 0 0 14vw;z-index:10;justify-content:center;display:flex;flex-direction:column;color:#0093e4;font-weight:600}.img_avatar[_ngcontent-%COMP%]{height:45vh;background-image:url(profile.80fda95e5ce9437a.svg);margin-bottom:2vh;background-size:98% 94%}.img_avatar2[_ngcontent-%COMP%]{height:10vh;background-image:url(profile.80fda95e5ce9437a.svg);margin-bottom:2vh;background-size:98% 94%;position:absolute;top:1vh;right:16%}.btns_avatar[_ngcontent-%COMP%]{width:22vw;height:12vh;justify-content:space-around;align-items:center;display:flex;padding:0 2vw}.btn_male[_ngcontent-%COMP%]{width:4.5vw;height:10vh;border-radius:1000px;background-color:#0093e4;border:none;box-shadow:#00000026 1.95px 1.95px 2.6px}.btn_male[_ngcontent-%COMP%]:hover{background-color:#25afff;box-shadow:#00000040 0 14px 28px,#00000038 0 10px 10px;transform:translateY(-.8vh)}.img_btn[_ngcontent-%COMP%]{height:4vh}.img_btn2[_ngcontent-%COMP%]{height:4vh;background-color:#ff8ef6;width:4.5vw;height:10vh;border-radius:1000px;border:none;box-shadow:#00000026 1.95px 1.95px 2.6px}.img_btn2[_ngcontent-%COMP%]:hover{background-color:#d132c4d3;box-shadow:#00000040 0 14px 28px,#00000038 0 10px 10px;transform:translateY(-.8vh)}.message_avatar[_ngcontent-%COMP%]{width:22vw;height:4vh;margin-bottom:1vh;text-align:center}"]}),n})();function fR(n,e){if(1&n&&(u.TgZ(0,"section",2),u.TgZ(1,"header",3),u.TgZ(2,"div",4),u.TgZ(3,"div"),u.TgZ(4,"h4",5),u._uU(5),u.qZA(),u.qZA(),u.TgZ(6,"div",6),u.TgZ(7,"span"),u._uU(8),u.qZA(),u.qZA(),u.qZA(),u.TgZ(9,"div",7),u.TgZ(10,"div"),u._UZ(11,"img",8),u.TgZ(12,"span"),u._uU(13),u.qZA(),u.qZA(),u.TgZ(14,"div"),u._UZ(15,"img",9),u.TgZ(16,"span"),u._uU(17),u.qZA(),u.TgZ(18,"span"),u._uU(19),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u._UZ(20,"app-avatar"),u.TgZ(21,"div",10),u.TgZ(22,"div",11),u.TgZ(23,"h5",12),u._uU(24,"Sobre mi"),u.qZA(),u.qZA(),u.TgZ(25,"p",13),u._uU(26),u.qZA(),u.qZA(),u.TgZ(27,"div",14),u.TgZ(28,"h5",15),u._uU(29,"Informacion personal"),u.qZA(),u.TgZ(30,"span",16),u._uU(31,"Tipo identificaci\xf3n "),u.qZA(),u.TgZ(32,"li"),u._uU(33),u.qZA(),u.TgZ(34,"span",16),u._uU(35,"N\xfamero identificaci\xf3n "),u.qZA(),u.TgZ(36,"li"),u._uU(37),u.qZA(),u.TgZ(38,"span",16),u._uU(39,"Correo Electronico "),u.qZA(),u.TgZ(40,"li"),u._uU(41),u.qZA(),u.TgZ(42,"span",16),u._uU(43,"Telefono contacto "),u.qZA(),u.TgZ(44,"li"),u._uU(45),u.qZA(),u.TgZ(46,"span",16),u._uU(47,"Fecha Nacimiento "),u.qZA(),u.TgZ(48,"li"),u._uU(49),u.qZA(),u.qZA(),u.TgZ(50,"div",17),u.TgZ(51,"h5",15),u._uU(52,"Mis conocimientos "),u.qZA(),u.TgZ(53,"div",18),u.TgZ(54,"span",19),u._uU(55),u.qZA(),u.TgZ(56,"span",20),u._uU(57),u.qZA(),u.TgZ(58,"span",21),u._uU(59),u.qZA(),u.TgZ(60,"span",22),u._uU(61),u.qZA(),u.TgZ(62,"span",23),u._uU(63),u.qZA(),u.qZA(),u.qZA(),u.TgZ(64,"div",24),u.TgZ(65,"div",25),u.TgZ(66,"h5",12),u._uU(67,"Habilidades"),u.qZA(),u.TgZ(68,"div",26),u.TgZ(69,"span",19),u._uU(70),u.qZA(),u.TgZ(71,"span",20),u._uU(72),u.qZA(),u.TgZ(73,"span",21),u._uU(74),u.qZA(),u.TgZ(75,"span",22),u._uU(76),u.qZA(),u.TgZ(77,"span",23),u._uU(78),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(79,"div",27),u.TgZ(80,"div",28),u._UZ(81,"img",29),u.TgZ(82,"h5",15),u._uU(83," Formacion academica"),u.qZA(),u.qZA(),u.TgZ(84,"div",30),u.TgZ(85,"div"),u.TgZ(86,"span",16),u._uU(87,"Ultimo nivel de Estudios Terminado"),u.qZA(),u.TgZ(88,"p"),u._uU(89),u.qZA(),u.qZA(),u.TgZ(90,"div"),u.TgZ(91,"span",16),u._uU(92,"Titulo otorgado"),u.qZA(),u.TgZ(93,"p"),u._uU(94),u.qZA(),u.qZA(),u.qZA(),u.TgZ(95,"div",30),u.TgZ(96,"div"),u.TgZ(97,"span",16),u._uU(98,"Estado"),u.qZA(),u.TgZ(99,"p"),u._uU(100),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(101,"div",31),u.TgZ(102,"h5",32),u._uU(103," Experiencia Laboral"),u.qZA(),u.TgZ(104,"div",33),u.TgZ(105,"span",16),u._uU(106,"A\xf1os de Experiencia laboral "),u.qZA(),u.TgZ(107,"p"),u._uU(108),u.qZA(),u.qZA(),u.TgZ(109,"div",34),u.TgZ(110,"div",35),u.TgZ(111,"div",36),u.TgZ(112,"span",16),u._uU(113,"Nombre del cargo"),u.qZA(),u.TgZ(114,"p"),u._uU(115),u.qZA(),u.qZA(),u.TgZ(116,"div",36),u.TgZ(117,"span",16),u._uU(118,"Empresa"),u.qZA(),u.TgZ(119,"p"),u._uU(120),u.qZA(),u.qZA(),u.TgZ(121,"div"),u.TgZ(122,"span",16),u._uU(123,"Sector Economico de la empresa"),u.qZA(),u.TgZ(124,"p"),u._uU(125),u.qZA(),u.qZA(),u.qZA(),u.TgZ(126,"div",35),u.TgZ(127,"div",36),u.TgZ(128,"span",16),u._uU(129,"Fecha inicio"),u.qZA(),u.TgZ(130,"div",37),u.TgZ(131,"p"),u._uU(132),u.qZA(),u.TgZ(133,"p"),u._uU(134),u.qZA(),u.qZA(),u.qZA(),u.TgZ(135,"div",36),u.TgZ(136,"span",16),u._uU(137,"Fecha Finalizacion"),u.qZA(),u.TgZ(138,"div",37),u.TgZ(139,"p"),u._uU(140),u.qZA(),u.TgZ(141,"p"),u._uU(142),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(143,"div",35),u.TgZ(144,"span",38),u._uU(145,"Logros Obtenidos"),u.qZA(),u.TgZ(146,"p",39),u._uU(147),u.qZA(),u.qZA(),u.qZA(),u.TgZ(148,"div",40),u._UZ(149,"img",41),u.TgZ(150,"span"),u._uU(151),u.qZA(),u.qZA(),u._UZ(152,"footer",42),u.qZA()),2&n){const t=e.$implicit;u.xp6(5),u.AsE("",t.name," ",t.lastname,""),u.xp6(3),u.Oqu(t.titleStudy),u.xp6(5),u.Oqu(t.nameCompany),u.xp6(4),u.hij("",t.country,", "),u.xp6(2),u.Oqu(t.city),u.xp6(7),u.hij(" ",t.aboutMe," "),u.xp6(7),u.Oqu(t.typeIdent),u.xp6(4),u.Oqu(t.numberIdent),u.xp6(4),u.Oqu(t.email),u.xp6(4),u.Oqu(t.phoneContact),u.xp6(4),u.lnq("",t.numBirth," ",t.monthBirth," ",t.yearBirth,""),u.xp6(6),u.Oqu(t.knowledge[0].name),u.xp6(2),u.Oqu(t.knowledge[1].name),u.xp6(2),u.hij("",t.knowledge[2].name," "),u.xp6(2),u.hij(" ",t.knowledge[3].name," "),u.xp6(2),u.Oqu(t.knowledge[4].name),u.xp6(7),u.hij("",t.skill[0].name," "),u.xp6(2),u.hij("",t.skill[1].name," "),u.xp6(2),u.Oqu(t.skill[2].name),u.xp6(2),u.hij("",t.skill[3].name," "),u.xp6(2),u.hij(" ",t.skill[4].name,""),u.xp6(11),u.Oqu(t.levelStudy),u.xp6(5),u.Oqu(t.titleStudy),u.xp6(6),u.Oqu(t.study),u.xp6(8),u.hij(" ",t.yearJob,""),u.xp6(7),u.Oqu(t.nameJob),u.xp6(5),u.Oqu(t.nameCompany),u.xp6(5),u.Oqu(t.sectorCompany),u.xp6(7),u.Oqu(t.companyMonth),u.xp6(2),u.Oqu(t.companyYear),u.xp6(6),u.Oqu(t.finalMonth),u.xp6(2),u.Oqu(t.finalYear),u.xp6(5),u.Oqu(t.attainment),u.xp6(4),u.Oqu(t.travel)}}const pR=[{path:"",component:Cd},{path:"home",component:Cd},{path:"register",component:dR},{path:"profile",component:(()=>{class n{constructor(t){this._applicantService=t,this.profileApplicant=[],this.selected="",this.selectedKnowledge="",this.optionSkill=[{id:1,name:"Actitud Positiva"},{id:2,name:" Adaptabilidad "},{id:3,name:"Analisis"},{id:4,name:"Apoyar"},{id:5,name:"Aprendizaje"},{id:6,name:"Argumentacion"},{id:7,name:"Asertividad"},{id:8,name:"Atencion al cliente"},{id:9,name:"Bases de datos"},{id:10,name:"Colaboracion"},{id:11,name:"Comercial"},{id:12,name:"Compromiso"},{id:13,name:"Comunicacion"},{id:14,name:"Concentracion"},{id:15,name:"Creatividad"},{id:16,name:"Desarrollo"},{id:17,name:"Digital"},{id:18,name:"Dise\xf1o"},{id:19,name:"Empatia"},{id:20,name:"Escucha Activa"},{id:21,name:"Flexibilidad"},{id:22,name:"Habilidades interpersonales"},{id:23,name:"Honestidad"},{id:24,name:"Ilustracion"},{id:25,name:"Imaginacion"},{id:26,name:"Innovacion"},{id:27,name:"Investigacion"},{id:28,name:"Liderazgo"},{id:29,name:"Logistica"},{id:30,name:"Mercadeo"},{id:31,name:"Negociacion"},{id:32,name:"Planeacion"},{id:33,name:"Proactividad"},{id:34,name:"Tecnologia"}],this.optionThought=[{id:1,name:"Administraci\xf3n de la informaci\xf3n"},{id:2,name:"Algoritmos y programaci\xf3n"},{id:3,name:"Aspectos sociales y profesionales"},{id:4,name:"Ciencias de la computaci\xf3n"},{id:5,name:"Circuitos"},{id:6,name:"Computaci\xf3n centrada en la red"},{id:7,name:"Computaci\xf3n gr\xe1fica"},{id:8,name:" Electr\xf3nica"},{id:9,name:" Ingenier\xeda de software"},{id:10,name:"Interacci\xf3n humana"},{id:11,name:"Sistemas digitales"},{id:12,name:" Machine Learning"},{id:13,name:"Sistemas operativos"},{id:14,name:"Telecomunicaciones"},{id:15,name:"javaScript"},{id:16,name:"Html"},{id:17,name:"Css"},{id:18,name:"Angular"},{id:19,name:"Programas de dise\xf1o Adobe(Photoshop,Lightroom )"}]}getApplicant(){this._applicantService.getApplicant().subscribe(t=>{console.log(t),this.profileApplicant=[],t.forEach(r=>{this.profileApplicant.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))}),console.log(this.profileApplicant)})}ngOnInit(){this.getApplicant()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(C1))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-applicant-profile"]],decls:3,vars:1,consts:[[1,"containt_profile"],["class","data_profile",4,"ngFor","ngForOf"],[1,"data_profile"],[1,"header"],[1,"user"],[2,"font-weight","600"],[1,"file"],[1,"nameAsp2"],["src","./../../../assets/images/edificio.png","alt","",1,"img-ubit",2,"margin-right","0.8vw"],["src","./../../../assets/images/ubication.png","alt","",1,"img-ubit",2,"margin-right","0.8vw"],[1,"about"],[1,"title_abo"],[1,"title_style"],["name","","id","text_about","cols","40","rows","5","placeholder"," Ejemplo: Soy un Fotografo profesional apasionado por el paisajismo."],[1,"datosP"],[1,"title_style",2,"margin-bottom","1vh"],[2,"color","#474747","font-weight","600"],[1,"container-skill"],[1,"container_list"],[1,"list_one"],[1,"list_two"],[1,"list_three"],[1,"list_four"],[1,"list_five"],[1,"allSksa"],[1,"container-skill2"],[1,"container_list2"],[1,"container_study"],[1,"titleS"],["src","./../../../assets/images/gorro.png","alt","",1,"img-ubit",2,"margin-right","1vw"],[1,"ite1"],[1,"experience"],[1,"title_style",2,"margin-bottom","3vh"],[1,"row_ex"],[1,"experience2"],[1,"row_2d"],[1,"col_ex"],[1,"row_defaul"],[2,"margin-right","3vw","margin-top","5vh","color","#474747","font-weight","600"],["name","","id","","cols","30","rows","5",2,"width","45vw","margin-top","5vh","text-align","justify"],[1,"travis"],["src","./../../../assets/images/avion.png","alt","",1,"img-ubit",2,"margin-right","0.8vw","margin-top","2vh"],[1,"footer"]],template:function(t,r){1&t&&(u.TgZ(0,"section",0),u._UZ(1,"app-header"),u.YNc(2,fR,153,37,"section",1),u.qZA()),2&t&&(u.xp6(2),u.Q6J("ngForOf",r.profileApplicant))},directives:[L1,rn,hR],styles:[".containt_profile[_ngcontent-%COMP%]{width:100vw;height:auto;justify-content:flex-start;align-items:center;flex-direction:column;display:flex;padding-top:18vh;background-color:#fff}.data_profile[_ngcontent-%COMP%]{width:100vw;margin-top:0;height:300vh;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start}.header[_ngcontent-%COMP%]{width:78vw;height:34vh;background:#007fc4ee;margin-top:5vh;display:flex;align-items:flex-end;padding-right:9vw;justify-content:center;flex-direction:column;border-top-right-radius:200px;border-bottom-right-radius:200px;color:#fff;padding-bottom:4vh}.nameAsp2[_ngcontent-%COMP%]{display:flex;width:30vw;justify-content:space-around;align-items:center;margin-top:5vh}.img-ubit[_ngcontent-%COMP%]{height:5vh}.file[_ngcontent-%COMP%]{width:30vw;text-align:right;display:flex;justify-content:right;padding:0}.about[_ngcontent-%COMP%]{background-color:#e2e5ff;width:44vw;height:auto;display:flex;flex-direction:column;position:absolute;right:14%;padding-top:3vh;padding-left:2vw;margin-top:50vh;justify-content:center;align-items:flex-start;color:#495461;border-radius:20px}#text_about[_ngcontent-%COMP%]{width:40vw;text-align:justify;border:none;color:#495461}.title_abo[_ngcontent-%COMP%]{width:45vw;text-align:left}.title_style[_ngcontent-%COMP%]{color:#0053cf;font-weight:700}.allSksa[_ngcontent-%COMP%]{height:60vh;width:70vw;margin:5vh 0 0 15vw;display:flex;flex-direction:column}.container-skill[_ngcontent-%COMP%]{width:44vw;height:auto;padding:1.5em;background-color:#fff;flex-direction:column;display:flex;right:14%;margin-top:93vh;border-radius:10px;position:absolute;box-shadow:#00000026 0 5px 15px}"]}),n})()},{path:"**",pathMatch:"full",redirectTo:""}];let gR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Z0.forRoot(pR)],Z0]}),n})(),mR=(()=>{class n{constructor(){this.title="work_challenge"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},directives:[Wh],styles:[""]}),n})();const K1_firebase={projectId:"applicants-da412",appId:"1:679295709325:web:623805f9a158b62713b2c4",storageBucket:"applicants-da412.appspot.com",apiKey:"AIzaSyBj7Ao4280cPNeMmrBtjq6Kp7qnuSvv2GU",authDomain:"applicants-da412.firebaseapp.com",messagingSenderId:"679295709325"};function Co(n,e,t,r){var h,o=arguments.length,l=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(n,e,t,r);else for(var m=n.length-1;m>=0;m--)(h=n[m])&&(l=(o<3?h(l):o>3?h(e,t,l):h(e,t))||l);return o>3&&l&&Object.defineProperty(e,t,l),l}function yR(n,e){if(1&n&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t._placeholder)}}function vR(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"span",15),u.TgZ(1,"span",16),u.TgZ(2,"span"),u._uU(3),u.qZA(),u.TgZ(4,"a",17),u.NdJ("click",function(o){const h=u.CHM(t).$implicit;return u.oxw().onItemClick(o,h)}),u._uU(5,"x"),u.qZA(),u.qZA(),u.qZA()}if(2&n){const t=e.$implicit,r=e.index,o=u.oxw();u.xp6(1),u.Q6J("hidden",r>o._settings.itemsShowLimit-1),u.xp6(2),u.hij("",t.text,"\xa0")}}function wR(n,e){if(1&n&&(u.TgZ(0,"span",18),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.hij("+",t.itemShowRemaining(),"")}}function ER(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"li",19),u.NdJ("click",function(){return u.CHM(t),u.oxw().toggleSelectAll()}),u._UZ(1,"input",20),u.TgZ(2,"div"),u._uU(3),u.qZA(),u.qZA()}if(2&n){const t=u.oxw();u.xp6(1),u.Q6J("checked",t.isAllItemsSelected())("disabled",t.disabled||t.isLimitSelectionReached()),u.xp6(2),u.Oqu(t.isAllItemsSelected()?t._settings.unSelectAllText:t._settings.selectAllText)}}function bR(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"li",21),u.TgZ(1,"input",22),u.NdJ("ngModelChange",function(o){return u.CHM(t),u.oxw().filter.text=o})("ngModelChange",function(o){return u.CHM(t),u.oxw().onFilterTextChange(o)}),u.qZA(),u.qZA()}if(2&n){const t=u.oxw();u.xp6(1),u.Q6J("readOnly",t.disabled)("placeholder",t._settings.searchPlaceholderText)("ngModel",t.filter.text)}}function CR(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"li",23),u.NdJ("click",function(o){const h=u.CHM(t).$implicit;return u.oxw().onItemClick(o,h)}),u._UZ(1,"input",24),u.TgZ(2,"div"),u._uU(3),u.qZA(),u.qZA()}if(2&n){const t=e.$implicit,r=u.oxw();u.xp6(1),u.Q6J("checked",r.isSelected(t))("disabled",r.disabled||r.isLimitSelectionReached()&&!r.isSelected(t)||t.isDisabled),u.uIk("aria-label",t.text),u.xp6(2),u.Oqu(t.text)}}function IR(n,e){if(1&n&&(u.TgZ(0,"li",25),u.TgZ(1,"h5"),u._uU(2),u.qZA(),u.qZA()),2&n){const t=u.oxw();u.xp6(2),u.Oqu(t._settings.noFilteredDataAvailablePlaceholderText)}}function TR(n,e){if(1&n&&(u.TgZ(0,"li",26),u.TgZ(1,"h5"),u._uU(2),u.qZA(),u.qZA()),2&n){const t=u.oxw();u.xp6(2),u.Oqu(t._settings.noDataAvailablePlaceholderText)}}const DR=function(n){return{"dropdown-multiselect--active":n}};class jp{constructor(e){("string"==typeof e||"number"==typeof e)&&(this.id=this.text=e,this.isDisabled=!1),"object"==typeof e&&(this.id=e.id,this.text=e.text,this.isDisabled=e.isDisabled)}}let tA=(()=>{let n=class{transform(t,r){return t&&r?t.filter(o=>this.applyFilter(o,r)):t}applyFilter(t,r){return"string"==typeof t.text&&"string"==typeof r.text?!(r.text&&t.text&&-1===t.text.toLowerCase().indexOf(r.text.toLowerCase())):!(r.text&&t.text&&-1===t.text.toString().toLowerCase().indexOf(r.text.toString().toLowerCase()))}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=u.Yjl({name:"multiSelectFilter",type:n,pure:!1}),n})();const AR={provide:$s,useExisting:(0,u.Gpc)(()=>SR),multi:!0},J1=()=>{};let SR=(()=>{let n=class{constructor(t,r){this.listFilterPipe=t,this.cdr=r,this._data=[],this.selectedItems=[],this.isDropdownOpen=!0,this._placeholder="Select",this._sourceDataType=null,this._sourceDataFields=[],this.filter=new jp(this.data),this.defaultSettings={singleSelection:!1,idField:"id",textField:"text",disabledField:"isDisabled",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",allowSearchFilter:!1,limitSelection:-1,clearSearchFilter:!0,maxHeight:197,itemsShowLimit:999999999999,searchPlaceholderText:"Search",noDataAvailablePlaceholderText:"No data available",noFilteredDataAvailablePlaceholderText:"No filtered data available",closeDropDownOnSelection:!1,showSelectedItemsAtTop:!1,defaultOpen:!1,allowRemoteDataSearch:!1},this.disabled=!1,this.onFilterChange=new u.vpe,this.onDropDownClose=new u.vpe,this.onSelect=new u.vpe,this.onDeSelect=new u.vpe,this.onSelectAll=new u.vpe,this.onDeSelectAll=new u.vpe,this.onTouchedCallback=J1,this.onChangeCallback=J1}set placeholder(t){this._placeholder=t||"Select"}set settings(t){this._settings=t?Object.assign(this.defaultSettings,t):Object.assign(this.defaultSettings)}set data(t){if(t){const r=t[0];this._sourceDataType=typeof r,this._sourceDataFields=this.getFields(r),this._data=t.map(o=>new jp("string"==typeof o||"number"==typeof o?o:{id:o[this._settings.idField],text:o[this._settings.textField],isDisabled:o[this._settings.disabledField]}))}else this._data=[]}onFilterTextChange(t){this.onFilterChange.emit(t)}onItemClick(t,r){if(this.disabled||r.isDisabled)return!1;const o=this.isSelected(r),l=-1===this._settings.limitSelection||this._settings.limitSelection>0&&this.selectedItems.length<this._settings.limitSelection;o?this.removeSelected(r):l&&this.addSelected(r),this._settings.singleSelection&&this._settings.closeDropDownOnSelection&&this.closeDropdown()}writeValue(t){if(null!=t&&t.length>0)if(this._settings.singleSelection)try{if(t.length>=1){const r=t[0];this.selectedItems=[new jp("string"==typeof r||"number"==typeof r?r:{id:r[this._settings.idField],text:r[this._settings.textField],isDisabled:r[this._settings.disabledField]})]}}catch(r){}else{const r=t.map(o=>new jp("string"==typeof o||"number"==typeof o?o:{id:o[this._settings.idField],text:o[this._settings.textField],isDisabled:o[this._settings.disabledField]}));this.selectedItems=this._settings.limitSelection>0?r.splice(0,this._settings.limitSelection):r}else this.selectedItems=[];this.onChangeCallback(t),this.cdr.markForCheck()}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}onTouched(){this.onTouchedCallback()}trackByFn(t,r){return r.id}isSelected(t){let r=!1;return this.selectedItems.forEach(o=>{t.id===o.id&&(r=!0)}),r}isLimitSelectionReached(){return this._settings.limitSelection===this.selectedItems.length}isAllItemsSelected(){let t=this.listFilterPipe.transform(this._data,this.filter);const r=t.filter(o=>o.isDisabled).length;return!((!this.data||0===this.data.length)&&this._settings.allowRemoteDataSearch)&&t.length===this.selectedItems.length+r}showButton(){return!(this._settings.singleSelection||this._settings.limitSelection>0)}itemShowRemaining(){return this.selectedItems.length-this._settings.itemsShowLimit}addSelected(t){this._settings.singleSelection?(this.selectedItems=[],this.selectedItems.push(t)):this.selectedItems.push(t),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onSelect.emit(this.emittedValue(t))}removeSelected(t){this.selectedItems.forEach(r=>{t.id===r.id&&this.selectedItems.splice(this.selectedItems.indexOf(r),1)}),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onDeSelect.emit(this.emittedValue(t))}emittedValue(t){const r=[];if(Array.isArray(t))t.map(o=>{r.push(this.objectify(o))});else if(t)return this.objectify(t);return r}objectify(t){if("object"===this._sourceDataType){const r={};return r[this._settings.idField]=t.id,r[this._settings.textField]=t.text,this._sourceDataFields.includes(this._settings.disabledField)&&(r[this._settings.disabledField]=t.isDisabled),r}return"number"===this._sourceDataType?Number(t.id):t.text}toggleDropdown(t){t.preventDefault(),(!this.disabled||!this._settings.singleSelection)&&(this._settings.defaultOpen=!this._settings.defaultOpen,this._settings.defaultOpen||this.onDropDownClose.emit())}closeDropdown(){this._settings.defaultOpen=!1,this._settings.clearSearchFilter&&(this.filter.text=""),this.onDropDownClose.emit()}toggleSelectAll(){if(this.disabled)return!1;this.isAllItemsSelected()?(this.selectedItems=[],this.onDeSelectAll.emit(this.emittedValue(this.selectedItems))):(this.selectedItems=this.listFilterPipe.transform(this._data,this.filter).filter(t=>!t.isDisabled).slice(),this.onSelectAll.emit(this.emittedValue(this.selectedItems))),this.onChangeCallback(this.emittedValue(this.selectedItems))}getFields(t){const r=[];if("object"!=typeof t)return r;for(const o in t)r.push(o);return r}};return n.\u0275fac=function(t){return new(t||n)(u.Y36(tA),u.Y36(u.sBO))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-multiselect-dropdown"]],hostBindings:function(t,r){1&t&&u.NdJ("blur",function(){return r.onTouched()})},inputs:{disabled:"disabled",placeholder:"placeholder",settings:"settings",data:"data"},outputs:{onFilterChange:"onFilterChange",onDropDownClose:"onDropDownClose",onSelect:"onSelect",onDeSelect:"onDeSelect",onSelectAll:"onSelectAll",onDeSelectAll:"onDeSelectAll"},features:[u._Bn([AR])],decls:18,vars:23,consts:[["tabindex","0",1,"multiselect-dropdown",3,"blur","clickOutside"],["tabindex","-1",1,"dropdown-btn",3,"click"],[4,"ngIf"],["class","selected-item-container",4,"ngFor","ngForOf","ngForTrackBy"],[2,"float","right !important","padding-right","4px",3,"ngClass"],["style","padding-right: 15px;",4,"ngIf"],[1,"dropdown-multiselect__caret"],[1,"dropdown-list",3,"hidden"],[1,"item1"],["class","multiselect-item-checkbox","style","border-bottom: 1px solid #ccc;padding:10px",3,"click",4,"ngIf"],["class","filter-textbox",4,"ngIf"],[1,"item2"],["class","multiselect-item-checkbox",3,"click",4,"ngFor","ngForOf"],["class","no-filtered-data",4,"ngIf"],["class","no-data",4,"ngIf"],[1,"selected-item-container"],[1,"selected-item",3,"hidden"],[2,"padding-left","2px","color","white",3,"click"],[2,"padding-right","15px"],[1,"multiselect-item-checkbox",2,"border-bottom","1px solid #ccc","padding","10px",3,"click"],["type","checkbox","aria-label","multiselect-select-all",3,"checked","disabled"],[1,"filter-textbox"],["type","text","aria-label","multiselect-search",3,"readOnly","placeholder","ngModel","ngModelChange"],[1,"multiselect-item-checkbox",3,"click"],["type","checkbox",3,"checked","disabled"],[1,"no-filtered-data"],[1,"no-data"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.NdJ("blur",function(){return r.onTouched()})("clickOutside",function(){return r.closeDropdown()}),u.TgZ(1,"div"),u.TgZ(2,"span",1),u.NdJ("click",function(l){return r.toggleDropdown(l)}),u.YNc(3,yR,2,1,"span",2),u.YNc(4,vR,6,2,"span",3),u.TgZ(5,"span",4),u.YNc(6,wR,2,1,"span",5),u._UZ(7,"span",6),u.qZA(),u.qZA(),u.qZA(),u.TgZ(8,"div",7),u.TgZ(9,"ul",8),u.YNc(10,ER,4,3,"li",9),u.YNc(11,bR,2,3,"li",10),u.qZA(),u.TgZ(12,"ul",11),u.YNc(13,CR,4,4,"li",12),u.ALo(14,"multiSelectFilter"),u.YNc(15,IR,3,1,"li",13),u.ALo(16,"multiSelectFilter"),u.YNc(17,TR,3,1,"li",14),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(1),u.ekj("disabled",r.disabled),u.xp6(2),u.Q6J("ngIf",0==r.selectedItems.length),u.xp6(1),u.Q6J("ngForOf",r.selectedItems)("ngForTrackBy",r.trackByFn),u.xp6(1),u.Q6J("ngClass",u.VKq(21,DR,r._settings.defaultOpen)),u.xp6(1),u.Q6J("ngIf",r.itemShowRemaining()>0),u.xp6(2),u.Q6J("hidden",!r._settings.defaultOpen),u.xp6(2),u.Q6J("ngIf",(r._data.length>0||r._settings.allowRemoteDataSearch)&&!r._settings.singleSelection&&r._settings.enableCheckAll&&-1===r._settings.limitSelection),u.xp6(1),u.Q6J("ngIf",(r._data.length>0||r._settings.allowRemoteDataSearch)&&r._settings.allowSearchFilter),u.xp6(1),u.Udp("max-height",r._settings.maxHeight+"px"),u.xp6(1),u.Q6J("ngForOf",u.xi3(14,15,r._data,r.filter)),u.xp6(2),u.Q6J("ngIf",0!=r._data.length&&0==u.xi3(16,18,r._data,r.filter).length&&!r._settings.allowRemoteDataSearch),u.xp6(2),u.Q6J("ngIf",0==r._data.length&&!r._settings.allowRemoteDataSearch))},directives:function(){return[xR,Zn,rn,Ms,cf,q_,iy]},pipes:function(){return[tA]},styles:['.multiselect-dropdown[_ngcontent-%COMP%]{position:relative;width:100%;font-size:inherit;font-family:inherit}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]{display:inline-block;border:1px solid #adadad;width:100%;padding:6px 12px;margin-bottom:0;font-weight:400;line-height:1.52857143;text-align:left;vertical-align:middle;cursor:pointer;background-image:none;border-radius:4px}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item-container[_ngcontent-%COMP%]{display:flex;float:left}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item-container[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]{border:1px solid #337ab7;margin-right:4px;background:#337ab7;padding:0 5px;color:#fff;border-radius:2px;float:left;max-width:100px}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item-container[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item-container[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]:hover{box-shadow:1px 1px #959595}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]{line-height:16px;display:block;position:absolute;box-sizing:border-box;width:40px;height:38px;right:1px;top:0;padding:4px 8px;margin:0;text-decoration:none;text-align:center;cursor:pointer;transition:transform .2s}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]:before{position:relative;right:0;top:65%;color:#999;margin-top:4px;border-style:solid;border-width:8px 8px 0;border-color:#999 transparent;content:""}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect--active[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]{transform:rotateZ(180deg)}.multiselect-dropdown[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:#eceeef}.dropdown-list[_ngcontent-%COMP%]{position:absolute;padding-top:6px;width:100%;z-index:9999;border:1px solid #ccc;border-radius:3px;background:#fff;margin-top:10px;box-shadow:0 1px 5px #959595}.dropdown-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none;overflow:auto;margin:0}.dropdown-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:6px 10px;cursor:pointer;text-align:left}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;position:relative;padding:10px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;width:100%;padding:0 0 0 26px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:0}.multiselect-item-checkbox[_ngcontent-%COMP%]:hover{background-color:#e4e3e3}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:focus + div[_ngcontent-%COMP%]:before, .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:hover + div[_ngcontent-%COMP%]:before{border-color:#337ab7;background-color:#f2f2f2}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:active + div[_ngcontent-%COMP%]:before{transition-duration:0s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{position:relative;padding-left:2em;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;margin:0;color:#000}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:before{box-sizing:content-box;content:"";color:#337ab7;position:absolute;top:50%;left:0;width:14px;height:14px;margin-top:-9px;border:2px solid #337ab7;text-align:center;transition:.4s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:after{box-sizing:content-box;content:"";position:absolute;transform:scale(0);transform-origin:50%;transition:transform .2s ease-out;background-color:transparent;top:50%;left:4px;width:8px;height:3px;margin-top:-4px;border-style:solid;border-color:#fff;border-width:0 0 3px 3px;-o-border-image:none;border-image:none;transform:rotate(-45deg) scale(0)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled + div[_ngcontent-%COMP%]:before{border-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:focus + div[_ngcontent-%COMP%]:before   .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:hover + div[_ngcontent-%COMP%]:before{background-color:inherit}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:checked + div[_ngcontent-%COMP%]:before{background-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:after{content:"";transition:transform .2s ease-out;transform:rotate(-45deg) scale(1)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:before{-webkit-animation:.2s ease-in borderscale;animation:.2s ease-in borderscale;background:#337ab7}@-webkit-keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}@keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}'],changeDetection:0}),Co([(0,u.IIB)()],n.prototype,"placeholder",null),Co([(0,u.IIB)()],n.prototype,"disabled",void 0),Co([(0,u.IIB)()],n.prototype,"settings",null),Co([(0,u.IIB)()],n.prototype,"data",null),Co([(0,u.r_U)("onFilterChange")],n.prototype,"onFilterChange",void 0),Co([(0,u.r_U)("onDropDownClose")],n.prototype,"onDropDownClose",void 0),Co([(0,u.r_U)("onSelect")],n.prototype,"onSelect",void 0),Co([(0,u.r_U)("onDeSelect")],n.prototype,"onDeSelect",void 0),Co([(0,u.r_U)("onSelectAll")],n.prototype,"onSelectAll",void 0),Co([(0,u.r_U)("onDeSelectAll")],n.prototype,"onDeSelectAll",void 0),Co([(0,u.L6J)("blur")],n.prototype,"onTouched",null),n})(),xR=(()=>{let n=class{constructor(t){this._elementRef=t,this.clickOutside=new u.vpe}onClick(t,r){r&&(this._elementRef.nativeElement.contains(r)||this.clickOutside.emit(t))}};return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","clickOutside",""]],hostBindings:function(t,r){1&t&&u.NdJ("click",function(l){return r.onClick(l,l.target)},!1,u.evT)},outputs:{clickOutside:"clickOutside"}}),Co([(0,u.r_U)()],n.prototype,"clickOutside",void 0),Co([(0,u.L6J)("document:click",["$event","$event.target"])],n.prototype,"onClick",null),n})();var X1;let u_=X1=class{static forRoot(){return{ngModule:X1}}};u_.\u0275fac=function(e){return new(e||u_)},u_.\u0275mod=u.oAB({type:u_}),u_.\u0275inj=u.cJS({providers:[tA],imports:[[ss,Gl]]});let MR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[mR]}),n.\u0275inj=u.cJS({providers:[],imports:[[cl,gR,qs.hO.initializeApp(K1_firebase),Fw,Gl,hN,u_.forRoot(),$k]]}),n})();(0,u.G48)(),qc().bootstrapModule(MR).catch(n=>console.error(n))},5867:(Xe,Ee,k)=>{"use strict";k.d(Ee,{Mq:()=>u.getApp,C6:()=>u.getApps});var u=k(9681);(0,u.registerVersion)("firebase","9.6.6","app")},127:(Xe,Ee,k)=>{"use strict";k.d(Ee,{Z:()=>u.Z});var u=k(3942);u.Z.registerVersion("firebase","9.6.6","app-compat")},389:(Xe,Ee,k)=>{"use strict";k.r(Ee);var u=k(5861),Q=k(3942),R=k(2090),ae=k(9681),te=k(655),pe=k(1877),oe=k(4859);const xe=function Ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Le=function Te(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},z=new R.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ge=new pe.Yd("@firebase/auth");function Ce(_,...f){ge.logLevel<=pe.in.ERROR&&ge.error(`Auth (${ae.SDK_VERSION}): ${_}`,...f)}function le(_,...f){throw Ze(_,...f)}function Me(_,...f){return Ze(_,...f)}function Ie(_,f,g){const v=Object.assign(Object.assign({},Le()),{[f]:g});return new R.LL("auth","Firebase",v).create(f,{appName:_.name})}function qe(_,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&le(_,"argument-error"),Ie(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ze(_,...f){if("string"!=typeof _){const g=f[0],v=[...f.slice(1)];return v[0]&&(v[0].appName=_.name),_._errorFactory.create(g,...v)}return z.create(_,...f)}function re(_,f,...g){if(!_)throw Ze(f,...g)}function W(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Ce(f),new Error(f)}function ne(_,f){_||W(f)}const me=new Map;function ie(_){ne(_ instanceof Function,"Expected a class definition");let f=me.get(_);return f?(ne(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,me.set(_,f),f)}function pt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Lt(){return"http:"===Dn()||"https:"===Dn()}function Dn(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class On{constructor(f,g){this.shortDelay=f,this.longDelay=g,ne(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,R.uI)()||(0,R.b$)()}get(){return function nt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Lt()||(0,R.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function zt(_,f){ne(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class cr{static initialize(f,g,v){this.fetchImpl=f,g&&(this.headersImpl=g),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void W("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void W("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void W("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ht={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ki=new On(3e4,6e4);function Zt(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function At(_,f,g,v){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,u.Z)(function*(_,f,g,v,A={}){return Qn(_,A,(0,u.Z)(function*(){let O={},q={};v&&("GET"===f?q=v:O={body:JSON.stringify(v)});const ue=(0,R.xO)(Object.assign({key:_.config.apiKey},q)).slice(1),Ve=yield _._getAdditionalHeaders();return Ve["Content-Type"]="application/json",_.languageCode&&(Ve["X-Firebase-Locale"]=_.languageCode),cr.fetch()(Ss(_,_.config.apiHost,g,ue),Object.assign({method:f,headers:Ve,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function Qn(_,f,g){return As.apply(this,arguments)}function As(){return(As=(0,u.Z)(function*(_,f,g){_._canInitEmulator=!1;const v=Object.assign(Object.assign({},Ht),f);try{const A=new si(_),O=yield Promise.race([g(),A.promise]);A.clearNetworkTimeout();const q=yield O.json();if("needConfirmation"in q)throw Pi(_,"account-exists-with-different-credential",q);if(O.ok&&!("errorMessage"in q))return q;{const ue=O.ok?q.errorMessage:q.error.message,[Ve,Qe]=ue.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ve)throw Pi(_,"credential-already-in-use",q);if("EMAIL_EXISTS"===Ve)throw Pi(_,"email-already-in-use",q);const ht=v[Ve]||Ve.toLowerCase().replace(/[_\s]+/g,"-");if(Qe)throw Ie(_,ht,Qe);le(_,ht)}}catch(A){if(A instanceof R.ZR)throw A;le(_,"network-request-failed")}})).apply(this,arguments)}function Er(_,f,g,v){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,u.Z)(function*(_,f,g,v,A={}){const O=yield At(_,f,g,v,A);return"mfaPendingCredential"in O&&le(_,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function Ss(_,f,g,v){const A=`${f}${g}?${v}`;return _.config.emulator?zt(_.config,A):`${_.config.apiScheme}://${A}`}class si{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,v)=>{this.timer=setTimeout(()=>v(Me(this.auth,"network-request-failed")),ki.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pi(_,f,g){const v={appName:_.name};g.email&&(v.email=g.email),g.phoneNumber&&(v.phoneNumber=g.phoneNumber);const A=Me(_,f,v);return A.customData._tokenResponse=g,A}function jr(){return(jr=(0,u.Z)(function*(_,f){return At(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Nn(_,f){return _n.apply(this,arguments)}function _n(){return(_n=(0,u.Z)(function*(_,f){return At(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ys(_,f){return ct.apply(this,arguments)}function ct(){return(ct=(0,u.Z)(function*(_,f){return At(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Ke(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function dr(){return(dr=(0,u.Z)(function*(_,f=!1){const g=(0,R.m9)(_),v=yield g.getIdToken(f),A=Ye(v);re(A&&A.exp&&A.auth_time&&A.iat,g.auth,"internal-error");const O="object"==typeof A.firebase?A.firebase:void 0,q=null==O?void 0:O.sign_in_provider;return{claims:A,token:v,authTime:Ke(Tt(A.auth_time)),issuedAtTime:Ke(Tt(A.iat)),expirationTime:Ke(Tt(A.exp)),signInProvider:q||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function Tt(_){return 1e3*Number(_)}function Ye(_){const[f,g,v]=_.split(".");if(void 0===f||void 0===g||void 0===v)return Ce("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,R.tV)(g);return A?JSON.parse(A):(Ce("Failed to decode base64 JWT payload"),null)}catch(A){return Ce("Caught error parsing JWT payload as JSON",A),null}}function Ei(_,f){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,u.Z)(function*(_,f,g=!1){if(g)return f;try{return yield f}catch(v){throw v instanceof R.ZR&&Nt(v)&&_.auth.currentUser===_&&(yield _.auth.signOut()),v}})).apply(this,arguments)}function Nt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class na{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const A=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const v=this.getInterval(f);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),v)}iteration(){var f=this;return(0,u.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&f.schedule(!0))}f.schedule()})()}}class Hr{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ke(this.lastLoginAt),this.creationTime=Ke(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function oi(_){return L.apply(this,arguments)}function L(){return(L=(0,u.Z)(function*(_){var f;const g=_.auth,v=yield _.getIdToken(),A=yield Ei(_,Ys(g,{idToken:v}));re(null==A?void 0:A.users.length,g,"internal-error");const O=A.users[0];_._notifyReloadListener(O);const q=(null===(f=O.providerUserInfo)||void 0===f?void 0:f.length)?X(O.providerUserInfo):[],ue=ve(_.providerData,q),ht=!!_.isAnonymous&&!(_.email&&O.passwordHash||(null==ue?void 0:ue.length)),rt={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ue,metadata:new Hr(O.createdAt,O.lastLoginAt),isAnonymous:ht};Object.assign(_,rt)})).apply(this,arguments)}function $(){return($=(0,u.Z)(function*(_){const f=(0,R.m9)(_);yield oi(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function ve(_,f){return[..._.filter(v=>!f.some(A=>A.providerId===v.providerId)),...f]}function X(_){return _.map(f=>{var{providerId:g}=f,v=(0,te._T)(f,["providerId"]);return{providerId:g,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function lt(){return(lt=(0,u.Z)(function*(_,f){const g=yield Qn(_,{},(0,u.Z)(function*(){const v=(0,R.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:A,apiKey:O}=_.config,q=Ss(_,A,"/v1/token",`key=${O}`),ue=yield _._getAdditionalHeaders();return ue["Content-Type"]="application/x-www-form-urlencoded",cr.fetch()(q,{method:"POST",headers:ue,body:v})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Wt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){re(f.idToken,"internal-error"),re(void 0!==f.idToken,"internal-error"),re(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function ot(_){const f=Ye(_);return re(f,"internal-error"),re(void 0!==f.exp,"internal-error"),re(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var v=this;return(0,u.Z)(function*(){return re(!v.accessToken||v.refreshToken,f,"user-token-expired"),g||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(f,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var v=this;return(0,u.Z)(function*(){const{accessToken:A,refreshToken:O,expiresIn:q}=yield function $e(_,f){return lt.apply(this,arguments)}(f,g);v.updateTokensAndExpiration(A,O,Number(q))})()}updateTokensAndExpiration(f,g,v){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(f,g){const{refreshToken:v,accessToken:A,expirationTime:O}=g,q=new Wt;return v&&(re("string"==typeof v,"internal-error",{appName:f}),q.refreshToken=v),A&&(re("string"==typeof A,"internal-error",{appName:f}),q.accessToken=A),O&&(re("number"==typeof O,"internal-error",{appName:f}),q.expirationTime=O),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Wt,this.toJSON())}_performRefresh(){return W("not implemented")}}function Qt(_,f){re("string"==typeof _||void 0===_,"internal-error",{appName:f})}class tn{constructor(f){var{uid:g,auth:v,stsTokenManager:A}=f,O=(0,te._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new na(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=v,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new Hr(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,u.Z)(function*(){const v=yield Ei(g,g.stsTokenManager.getToken(g.auth,f));return re(v,g.auth,"internal-error"),g.accessToken!==v&&(g.accessToken=v,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),v})()}getIdTokenResult(f){return function en(_){return dr.apply(this,arguments)}(this,f)}reload(){return function H(_){return $.apply(this,arguments)}(this)}_assign(f){this!==f&&(re(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new tn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var v=this;return(0,u.Z)(function*(){let A=!1;f.idToken&&f.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(f),A=!0),g&&(yield oi(v)),yield v.auth._persistUserIfCurrent(v),A&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var f=this;return(0,u.Z)(function*(){const g=yield f.getIdToken();return yield Ei(f,function ut(_,f){return jr.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var v,A,O,q,ue,Ve,Qe,ht;const rt=null!==(v=g.displayName)&&void 0!==v?v:void 0,gn=null!==(A=g.email)&&void 0!==A?A:void 0,Gi=null!==(O=g.phoneNumber)&&void 0!==O?O:void 0,ka=null!==(q=g.photoURL)&&void 0!==q?q:void 0,jl=null!==(ue=g.tenantId)&&void 0!==ue?ue:void 0,Hl=null!==(Ve=g._redirectEventId)&&void 0!==Ve?Ve:void 0,of=null!==(Qe=g.createdAt)&&void 0!==Qe?Qe:void 0,O_=null!==(ht=g.lastLoginAt)&&void 0!==ht?ht:void 0,{uid:$o,emailVerified:Zl,isAnonymous:af,providerData:uf,stsTokenManager:Or}=g;re($o&&Or,f,"internal-error");const N_=Wt.fromJSON(this.name,Or);re("string"==typeof $o,f,"internal-error"),Qt(rt,f.name),Qt(gn,f.name),re("boolean"==typeof Zl,f,"internal-error"),re("boolean"==typeof af,f,"internal-error"),Qt(Gi,f.name),Qt(ka,f.name),Qt(jl,f.name),Qt(Hl,f.name),Qt(of,f.name),Qt(O_,f.name);const Ou=new tn({uid:$o,auth:f,email:gn,emailVerified:Zl,displayName:rt,isAnonymous:af,photoURL:ka,phoneNumber:Gi,tenantId:jl,stsTokenManager:N_,createdAt:of,lastLoginAt:O_});return uf&&Array.isArray(uf)&&(Ou.providerData=uf.map(Nu=>Object.assign({},Nu))),Hl&&(Ou._redirectEventId=Hl),Ou}static _fromIdTokenResponse(f,g,v=!1){return(0,u.Z)(function*(){const A=new Wt;A.updateFromServerResponse(g);const O=new tn({uid:g.localId,auth:f,stsTokenManager:A,isAnonymous:v});return yield oi(O),O})()}}const bt=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,v){var A=this;return(0,u.Z)(function*(){A.storage[g]=v})()}_get(g){var v=this;return(0,u.Z)(function*(){const A=v.storage[g];return void 0===A?null:A})()}_remove(g){var v=this;return(0,u.Z)(function*(){delete v.storage[g]})()}_addListener(g,v){}_removeListener(g,v){}}return _.type="NONE",_})();function kn(_,f,g){return`firebase:${_}:${f}:${g}`}class br{constructor(f,g,v){this.persistence=f,this.auth=g,this.userKey=v;const{config:A,name:O}=this.auth;this.fullUserKey=kn(this.userKey,A.apiKey,O),this.fullPersistenceKey=kn("persistence",A.apiKey,O),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,u.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?tn._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,u.Z)(function*(){if(g.persistence===f)return;const v=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,v?g.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,v="authUser"){return(0,u.Z)(function*(){if(!g.length)return new br(ie(bt),f,v);const A=(yield Promise.all(g.map(function(){var Qe=(0,u.Z)(function*(ht){if(yield ht._isAvailable())return ht});return function(ht){return Qe.apply(this,arguments)}}()))).filter(Qe=>Qe);let O=A[0]||ie(bt);const q=kn(v,f.config.apiKey,f.name);let ue=null;for(const Qe of g)try{const ht=yield Qe._get(q);if(ht){const rt=tn._fromJSON(f,ht);Qe!==O&&(ue=rt),O=Qe;break}}catch(ht){}const Ve=A.filter(Qe=>Qe._shouldAllowMigration);return O._shouldAllowMigration&&Ve.length?(O=Ve[0],ue&&(yield O._set(q,ue.toJSON())),yield Promise.all(g.map(function(){var Qe=(0,u.Z)(function*(ht){if(ht!==O)try{yield ht._remove(q)}catch(rt){}});return function(ht){return Qe.apply(this,arguments)}}())),new br(O,f,v)):new br(O,f,v)})()}}function ra(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Rn(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(ia(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(es(f))return"Blackberry";if(Pn(f))return"Webos";if(tu(f))return"Safari";if((f.includes("chrome/")||sa(f))&&!f.includes("edge/"))return"Chrome";if(Cr(f))return"Android";{const v=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==v?void 0:v.length))return v[1]}return"Other"}function ia(_=(0,R.z$)()){return/firefox\//i.test(_)}function tu(_=(0,R.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function sa(_=(0,R.z$)()){return/crios\//i.test(_)}function Rn(_=(0,R.z$)()){return/iemobile/i.test(_)}function Cr(_=(0,R.z$)()){return/android/i.test(_)}function es(_=(0,R.z$)()){return/blackberry/i.test(_)}function Pn(_=(0,R.z$)()){return/webos/i.test(_)}function $r(_=(0,R.z$)()){return/iphone|ipad|ipod/i.test(_)}function xs(_=(0,R.z$)()){return $r(_)||Cr(_)||Pn(_)||es(_)||/windows phone/i.test(_)||Rn(_)}function Io(_,f=[]){let g;switch(_){case"Browser":g=ra((0,R.z$)());break;case"Worker":g=`${ra((0,R.z$)())}-${_}`;break;default:g=_}const v=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${ae.SDK_VERSION}/${v}`}class qr{constructor(f,g){this.app=f,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wt(this),this.idTokenSubscription=new wt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=z,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(f,g){var v=this;return g&&(this._popupRedirectResolver=ie(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var A,O;if(!v._deleted&&(v.persistenceManager=yield br.create(v,f),!v._deleted)){if(null===(A=v._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch(q){}yield v.initializeCurrentUser(g),v.lastNotifiedUid=(null===(O=v.currentUser)||void 0===O?void 0:O.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,u.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g)}})()}initializeCurrentUser(f){var g=this;return(0,u.Z)(function*(){var v;let A=yield g.assertedPersistence.getCurrentUser();if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const O=null===(v=g.redirectUser)||void 0===v?void 0:v._redirectEventId,q=null==A?void 0:A._redirectEventId,ue=yield g.tryRedirectSignIn(f);(!O||O===q)&&(null==ue?void 0:ue.user)&&(A=ue.user)}return A?A._redirectEventId?(re(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===A._redirectEventId?g.directlySetCurrentUser(A):g.reloadAndSetCurrentUserOrClear(A)):g.reloadAndSetCurrentUserOrClear(A):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var g=this;return(0,u.Z)(function*(){let v=null;try{v=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(A){yield g._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,u.Z)(function*(){try{yield oi(f)}catch(v){if("auth/network-request-failed"!==v.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function st(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,u.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,u.Z)(function*(){const v=f?(0,R.m9)(f):null;return v&&re(v.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(v&&v._clone(g))})()}_updateCurrentUser(f){var g=this;return(0,u.Z)(function*(){if(!g._deleted)return f&&re(g.tenantId===f.tenantId,g,"tenant-id-mismatch"),g.queue((0,u.Z)(function*(){yield g.directlySetCurrentUser(f),g.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,u.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence(ie(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new R.LL("auth","Firebase",f())}onAuthStateChanged(f,g,v){return this.registerStateListener(this.authStateSubscription,f,g,v)}onIdTokenChanged(f,g,v){return this.registerStateListener(this.idTokenSubscription,f,g,v)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var v=this;return(0,u.Z)(function*(){const A=yield v.getOrInitRedirectPersistenceManager(g);return null===f?A.removeCurrentUser():A.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const v=f&&ie(f)||g._popupRedirectResolver;re(v,g,"argument-error"),g.redirectPersistenceManager=yield br.create(g,[ie(v._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,u.Z)(function*(){var v,A;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(v=g._currentUser)||void 0===v?void 0:v._redirectEventId)===f?g._currentUser:(null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,u.Z)(function*(){if(f===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,v,A){if(this._deleted)return()=>{};const O="function"==typeof g?g:g.next.bind(g),q=this._isInitialized?Promise.resolve():this._initializationPromise;return re(q,this,"internal-error"),q.then(()=>O(this.currentUser)),"function"==typeof g?f.addObserver(g,v,A):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Io(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,u.Z)(function*(){const g={"X-Client-Version":f.clientVersion};return f.app.options.appId&&(g["X-Firebase-gmpid"]=f.app.options.appId),g})()}}function ke(_){return(0,R.m9)(_)}class wt{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,R.ne)(g=>this.observer=g)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ir(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function yn(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class Vt{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return W("not implemented")}_getIdTokenResponse(f){return W("not implemented")}_linkToIdToken(f,g){return W("not implemented")}_getReauthenticationResolver(f){return W("not implemented")}}function Js(_,f){return un.apply(this,arguments)}function un(){return(un=(0,u.Z)(function*(_,f){return At(_,"POST","/v1/accounts:resetPassword",Zt(_,f))})).apply(this,arguments)}function vt(_,f){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,u.Z)(function*(_,f){return At(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ms(_,f){return To.apply(this,arguments)}function To(){return(To=(0,u.Z)(function*(_,f){return At(_,"POST","/v1/accounts:update",Zt(_,f))})).apply(this,arguments)}function rn(){return(rn=(0,u.Z)(function*(_,f){return Er(_,"POST","/v1/accounts:signInWithPassword",Zt(_,f))})).apply(this,arguments)}function Os(_,f){return eo.apply(this,arguments)}function eo(){return(eo=(0,u.Z)(function*(_,f){return At(_,"POST","/v1/accounts:sendOobCode",Zt(_,f))})).apply(this,arguments)}function Zn(_,f){return $t.apply(this,arguments)}function $t(){return($t=(0,u.Z)(function*(_,f){return Os(_,f)})).apply(this,arguments)}function Mc(_,f){return to.apply(this,arguments)}function to(){return(to=(0,u.Z)(function*(_,f){return Os(_,f)})).apply(this,arguments)}function bi(_,f){return ai.apply(this,arguments)}function ai(){return(ai=(0,u.Z)(function*(_,f){return Os(_,f)})).apply(this,arguments)}function Oc(_,f){return nu.apply(this,arguments)}function nu(){return(nu=(0,u.Z)(function*(_,f){return Os(_,f)})).apply(this,arguments)}function ui(){return(ui=(0,u.Z)(function*(_,f){return Er(_,"POST","/v1/accounts:signInWithEmailLink",Zt(_,f))})).apply(this,arguments)}function ru(){return(ru=(0,u.Z)(function*(_,f){return Er(_,"POST","/v1/accounts:signInWithEmailLink",Zt(_,f))})).apply(this,arguments)}class iu extends Vt{constructor(f,g,v,A=null){super("password",v),this._email=f,this._password=g,this._tenantId=A}static _fromEmailAndPassword(f,g){return new iu(f,g,"password")}static _fromEmailAndCode(f,g,v=null){return new iu(f,g,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,u.Z)(function*(){switch(g.signInMethod){case"password":return function Do(_,f){return rn.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Ns(_,f){return ui.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:le(f,"internal-error")}})()}_linkToIdToken(f,g){var v=this;return(0,u.Z)(function*(){switch(v.signInMethod){case"password":return vt(f,{idToken:g,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Th(_,f){return ru.apply(this,arguments)}(f,{idToken:g,email:v._email,oobCode:v._password});default:le(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function An(_,f){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,u.Z)(function*(_,f){return Er(_,"POST","/v1/accounts:signInWithIdp",Zt(_,f))})).apply(this,arguments)}class rs extends Vt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new rs(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):le("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:A}=g,O=(0,te._T)(g,["providerId","signInMethod"]);if(!v||!A)return null;const q=new rs(v,A);return q.idToken=O.idToken||void 0,q.accessToken=O.accessToken||void 0,q.secret=O.secret,q.nonce=O.nonce,q.pendingToken=O.pendingToken||null,q}_getIdTokenResponse(f){return An(f,this.buildRequest())}_linkToIdToken(f,g){const v=this.buildRequest();return v.idToken=g,An(f,v)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,An(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,R.xO)(g)}return f}}function Zp(_,f){return kc.apply(this,arguments)}function kc(){return(kc=(0,u.Z)(function*(_,f){return At(_,"POST","/v1/accounts:sendVerificationCode",Zt(_,f))})).apply(this,arguments)}function aa(){return(aa=(0,u.Z)(function*(_,f){return Er(_,"POST","/v1/accounts:signInWithPhoneNumber",Zt(_,f))})).apply(this,arguments)}function Rc(){return(Rc=(0,u.Z)(function*(_,f){const g=yield Er(_,"POST","/v1/accounts:signInWithPhoneNumber",Zt(_,f));if(g.temporaryProof)throw Pi(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const qp={USER_NOT_FOUND:"user-not-found"};function Pc(){return(Pc=(0,u.Z)(function*(_,f){return Er(_,"POST","/v1/accounts:signInWithPhoneNumber",Zt(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),qp)})).apply(this,arguments)}class So extends Vt{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new So({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new So({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function $p(_,f){return aa.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Ao(_,f){return Rc.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Gp(_,f){return Pc.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:v,verificationCode:A}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:v,code:A}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:v,phoneNumber:A,temporaryProof:O}=f;return v||g||A||O?new So({verificationId:g,verificationCode:v,phoneNumber:A,temporaryProof:O}):null}}class is{constructor(f){var g,v,A,O,q,ue;const Ve=(0,R.zd)((0,R.pd)(f)),Qe=null!==(g=Ve.apiKey)&&void 0!==g?g:null,ht=null!==(v=Ve.oobCode)&&void 0!==v?v:null,rt=function zp(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Ve.mode)&&void 0!==A?A:null);re(Qe&&ht&&rt,"argument-error"),this.apiKey=Qe,this.operation=rt,this.code=ht,this.continueUrl=null!==(O=Ve.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(q=Ve.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(ue=Ve.tenantId)&&void 0!==ue?ue:null}static parseLink(f){const g=function Dh(_){const f=(0,R.zd)((0,R.pd)(_)).link,g=f?(0,R.zd)((0,R.pd)(f)).deep_link_id:null,v=(0,R.zd)((0,R.pd)(_)).deep_link_id;return(v?(0,R.zd)((0,R.pd)(v)).link:null)||v||g||f||_}(f);try{return new is(g)}catch(v){return null}}}let ua=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,v){return iu._fromEmailAndPassword(g,v)}static credentialWithLink(g,v){const A=is.parseLink(v);return re(A,"argument-error"),iu._fromEmailAndCode(g,A.code,A.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class ks{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class li extends ks{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class no extends li{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return re("providerId"in g&&"signInMethod"in g,"argument-error"),rs._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return re(f.idToken||f.accessToken,"argument-error"),rs._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return no.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return no.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:v,oauthTokenSecret:A,pendingToken:O,nonce:q,providerId:ue}=f;if(!v&&!A&&!g&&!O||!ue)return null;try{return new no(ue)._credential({idToken:g,accessToken:v,nonce:q,pendingToken:O})}catch(Ve){return null}}}let xo=(()=>{class _ extends li{constructor(){super("facebook.com")}static credential(g){return rs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(v){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Mo=(()=>{class _ extends li{constructor(){super("google.com"),this.addScope("profile")}static credential(g,v){return rs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:v})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:A}=g;if(!v&&!A)return null;try{return _.credential(v,A)}catch(O){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Fc=(()=>{class _ extends li{constructor(){super("github.com")}static credential(g){return rs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(v){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class ss extends Vt{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return An(f,this.buildRequest())}_linkToIdToken(f,g){const v=this.buildRequest();return v.idToken=g,An(f,v)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,An(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:A,pendingToken:O}=g;return v&&A&&O&&v===A?new ss(v,O):null}static _create(f,g){return new ss(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class os extends ks{constructor(f){re(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return os.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return os.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=ss.fromJSON(f);return re(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:v}=f;if(!g||!v)return null;try{return ss._create(v,g)}catch(A){return null}}}let ci=(()=>{class _ extends li{constructor(){super("twitter.com")}static credential(g,v){return rs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:v})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:v,oauthTokenSecret:A}=g;if(!v||!A)return null;try{return _.credential(v,A)}catch(O){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Vc(_,f){return hr.apply(this,arguments)}function hr(){return(hr=(0,u.Z)(function*(_,f){return Er(_,"POST","/v1/accounts:signUp",Zt(_,f))})).apply(this,arguments)}class fr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,v,A=!1){return(0,u.Z)(function*(){const O=yield tn._fromIdTokenResponse(f,v,A),q=Uc(v);return new fr({user:O,providerId:q,_tokenResponse:v,operationType:g})})()}static _forOperation(f,g,v){return(0,u.Z)(function*(){yield f._updateTokensIfNecessary(v,!0);const A=Uc(v);return new fr({user:f,providerId:A,_tokenResponse:v,operationType:g})})()}}function Uc(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function su(){return(su=(0,u.Z)(function*(_){var f;const g=ke(_);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new fr({user:g.currentUser,providerId:null,operationType:"signIn"});const v=yield Vc(g,{returnSecureToken:!0}),A=yield fr._fromIdTokenResponse(g,"signIn",v,!0);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class ou extends R.ZR{constructor(f,g,v,A){var O;super(g.code,g.message),this.operationType=v,this.user=A,Object.setPrototypeOf(this,ou.prototype),this.customData={appName:f.name,tenantId:null!==(O=f.tenantId)&&void 0!==O?O:void 0,_serverResponse:g.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(f,g,v,A){return new ou(f,g,v,A)}}function au(_,f,g,v){return("reauthenticate"===f?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?ou._fromErrorAndOperation(_,O,f,v):O})}function rl(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function il(){return(il=(0,u.Z)(function*(_,f){const g=(0,R.m9)(_);yield Rs(!0,g,f);const{providerUserInfo:v}=yield Nn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),A=rl(v||[]);return g.providerData=g.providerData.filter(O=>A.has(O.providerId)),A.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Kt(_,f){return la.apply(this,arguments)}function la(){return(la=(0,u.Z)(function*(_,f,g=!1){const v=yield Ei(_,f._linkToIdToken(_.auth,yield _.getIdToken()),g);return fr._forOperation(_,"link",v)})).apply(this,arguments)}function Rs(_,f,g){return qt.apply(this,arguments)}function qt(){return(qt=(0,u.Z)(function*(_,f,g){yield oi(f);const A=!1===_?"provider-already-linked":"no-such-provider";re(rl(f.providerData).has(g)===_,f.auth,A)})).apply(this,arguments)}function uu(_,f){return ca.apply(this,arguments)}function ca(){return(ca=(0,u.Z)(function*(_,f,g=!1){const{auth:v}=_,A="reauthenticate";try{const O=yield Ei(_,au(v,A,f,_),g);re(O.idToken,v,"internal-error");const q=Ye(O.idToken);re(q,v,"internal-error");const{sub:ue}=q;return re(_.uid===ue,v,"user-mismatch"),fr._forOperation(_,A,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&le(v,"user-mismatch"),O}})).apply(this,arguments)}function ro(_,f){return $n.apply(this,arguments)}function $n(){return($n=(0,u.Z)(function*(_,f,g=!1){const v="signIn",A=yield au(_,v,f),O=yield fr._fromIdTokenResponse(_,v,A);return g||(yield _._updateCurrentUser(O.user)),O})).apply(this,arguments)}function lu(_,f){return ln.apply(this,arguments)}function ln(){return(ln=(0,u.Z)(function*(_,f){return ro(ke(_),f)})).apply(this,arguments)}function us(_,f){return qn.apply(this,arguments)}function qn(){return(qn=(0,u.Z)(function*(_,f){const g=(0,R.m9)(_);return yield Rs(!1,g,f.providerId),Kt(g,f)})).apply(this,arguments)}function Oo(_,f){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,u.Z)(function*(_,f){return uu((0,R.m9)(_),f)})).apply(this,arguments)}function sl(_,f){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,u.Z)(function*(_,f){return Er(_,"POST","/v1/accounts:signInWithCustomToken",Zt(_,f))})).apply(this,arguments)}function Fs(){return(Fs=(0,u.Z)(function*(_,f){const g=ke(_),v=yield sl(g,{token:f,returnSecureToken:!0}),A=yield fr._fromIdTokenResponse(g,"signIn",v);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class at{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?da._fromServerResponse(f,g):le(f,"internal-error")}}class da extends at{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new da(g)}}function ha(_,f,g){var v;re((null===(v=g.url)||void 0===v?void 0:v.length)>0,_,"invalid-continue-uri"),re(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(re(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(re(g.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function fa(){return(fa=(0,u.Z)(function*(_,f,g){const v=(0,R.m9)(_),A={requestType:"PASSWORD_RESET",email:f};g&&ha(v,A,g),yield Mc(v,A)})).apply(this,arguments)}function pa(){return(pa=(0,u.Z)(function*(_,f,g){yield Js((0,R.m9)(_),{oobCode:f,newPassword:g})})).apply(this,arguments)}function be(){return(be=(0,u.Z)(function*(_,f){yield Ms((0,R.m9)(_),{oobCode:f})})).apply(this,arguments)}function Dt(_,f){return ga.apply(this,arguments)}function ga(){return(ga=(0,u.Z)(function*(_,f){const g=(0,R.m9)(_),v=yield Js(g,{oobCode:f}),A=v.requestType;switch(re(A,g,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(v.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(v.mfaInfo,g,"internal-error");default:re(v.email,g,"internal-error")}let O=null;return v.mfaInfo&&(O=at._fromServerResponse(ke(g),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:O},operation:A}})).apply(this,arguments)}function Ls(){return(Ls=(0,u.Z)(function*(_,f){const{data:g}=yield Dt((0,R.m9)(_),f);return g.email})).apply(this,arguments)}function Tr(){return(Tr=(0,u.Z)(function*(_,f,g){const v=ke(_),A=yield Vc(v,{returnSecureToken:!0,email:f,password:g}),O=yield fr._fromIdTokenResponse(v,"signIn",A);return yield v._updateCurrentUser(O.user),O})).apply(this,arguments)}function Hc(){return(Hc=(0,u.Z)(function*(_,f,g){const v=(0,R.m9)(_),A={requestType:"EMAIL_SIGNIN",email:f};re(g.handleCodeInApp,v,"argument-error"),g&&ha(v,A,g),yield bi(v,A)})).apply(this,arguments)}function No(){return(No=(0,u.Z)(function*(_,f,g){const v=(0,R.m9)(_),A=ua.credentialWithLink(f,g||pt());return re(A._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),lu(v,A)})).apply(this,arguments)}function Fn(_,f){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,u.Z)(function*(_,f){return At(_,"POST","/v1/accounts:createAuthUri",Zt(_,f))})).apply(this,arguments)}function Li(){return(Li=(0,u.Z)(function*(_,f){const v={identifier:f,continueUri:Lt()?pt():"http://localhost"},{signinMethods:A}=yield Fn((0,R.m9)(_),v);return A||[]})).apply(this,arguments)}function ya(){return(ya=(0,u.Z)(function*(_,f){const g=(0,R.m9)(_),A={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&ha(g.auth,A,f);const{email:O}=yield Zn(g.auth,A);O!==_.email&&(yield _.reload())})).apply(this,arguments)}function va(){return(va=(0,u.Z)(function*(_,f,g){const v=(0,R.m9)(_),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};g&&ha(v.auth,O,g);const{email:q}=yield Oc(v.auth,O);q!==_.email&&(yield _.reload())})).apply(this,arguments)}function qc(_,f){return io.apply(this,arguments)}function io(){return(io=(0,u.Z)(function*(_,f){return At(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function wa(){return(wa=(0,u.Z)(function*(_,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const v=(0,R.m9)(_),O={idToken:yield v.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},q=yield Ei(v,qc(v.auth,O));v.displayName=q.displayName||null,v.photoURL=q.photoUrl||null;const ue=v.providerData.find(({providerId:Ve})=>"password"===Ve);ue&&(ue.displayName=v.displayName,ue.photoURL=v.photoURL),yield v._updateTokensIfNecessary(q)})).apply(this,arguments)}function cu(_,f,g){return so.apply(this,arguments)}function so(){return(so=(0,u.Z)(function*(_,f,g){const{auth:v}=_,O={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(O.email=f),g&&(O.password=g);const q=yield Ei(_,vt(v,O));yield _._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class oo{constructor(f,g,v={}){this.isNewUser=f,this.providerId=g,this.profile=v}}class Gc extends oo{constructor(f,g,v,A){super(f,g,v),this.username=A}}class Sh extends oo{constructor(f,g){super(f,"facebook.com",g)}}class ko extends Gc{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Vi extends oo{constructor(f,g){super(f,"google.com",g)}}class xh extends Gc{constructor(f,g,v){super(f,"twitter.com",g,v)}}function Gn(_){const{user:f,_tokenResponse:g}=_;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function hl(_){var f,g;if(!_)return null;const{providerId:v}=_,A=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},O=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!v&&(null==_?void 0:_.idToken)){const q=null===(g=null===(f=Ye(_.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(q)return new oo(O,"anonymous"!==q&&"custom"!==q?q:null)}if(!v)return null;switch(v){case"facebook.com":return new Sh(O,A);case"github.com":return new ko(O,A);case"google.com":return new Vi(O,A);case"twitter.com":return new xh(O,A,_.screenName||null);case"custom":case"anonymous":return new oo(O,null);default:return new oo(O,v,A)}}(g)}class ds{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new ds("enroll",f)}static _fromMfaPendingCredential(f){return new ds("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,v;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return ds._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(v=f.multiFactorSession)||void 0===v?void 0:v.idToken)return ds._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Ea{constructor(f,g,v){this.session=f,this.hints=g,this.signInResolver=v}static _fromError(f,g){const v=ke(f),A=g.customData._serverResponse,O=(A.mfaInfo||[]).map(ue=>at._fromServerResponse(v,ue));re(A.mfaPendingCredential,v,"internal-error");const q=ds._fromMfaPendingCredential(A.mfaPendingCredential);return new Ea(q,O,function(){var ue=(0,u.Z)(function*(Ve){const Qe=yield Ve._process(v,q);delete A.mfaInfo,delete A.mfaPendingCredential;const ht=Object.assign(Object.assign({},A),{idToken:Qe.idToken,refreshToken:Qe.refreshToken});switch(g.operationType){case"signIn":const rt=yield fr._fromIdTokenResponse(v,g.operationType,ht);return yield v._updateCurrentUser(rt.user),rt;case"reauthenticate":return re(g.user,v,"internal-error"),fr._forOperation(g.user,g.operationType,ht);default:le(v,"internal-error")}});return function(Ve){return ue.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,u.Z)(function*(){return g.signInResolver(f)})()}}function du(_,f){return At(_,"POST","/v2/accounts/mfaEnrollment:start",Zt(_,f))}class hs{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(v=>at._fromServerResponse(f.auth,v)))})}static _fromUser(f){return new hs(f)}getSession(){var f=this;return(0,u.Z)(function*(){return ds._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var v=this;return(0,u.Z)(function*(){const A=f,O=yield v.getSession(),q=yield Ei(v.user,A._process(v.user.auth,O,g));return yield v.user._updateTokensIfNecessary(q),v.user.reload()})()}unenroll(f){var g=this;return(0,u.Z)(function*(){const v="string"==typeof f?f:f.uid,A=yield g.user.getIdToken(),O=yield Ei(g.user,function Oh(_,f){return At(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Zt(_,f))}(g.user.auth,{idToken:A,mfaEnrollmentId:v}));g.enrolledFactors=g.enrolledFactors.filter(({uid:q})=>q!==v),yield g.user._updateTokensIfNecessary(O);try{yield g.user.reload()}catch(q){if("auth/user-token-expired"!==q.code)throw q}})()}}const Ro=new WeakMap,ba="__sak";class Ca{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(ba,"1"),this.storage.removeItem(ba),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vs=(()=>{class _ extends Ca{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,v)=>this.onStorageEvent(g,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function hu(){const _=(0,R.z$)();return tu(_)||$r(_)}()&&function Jn(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=xs(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const v of Object.keys(this.listeners)){const A=this.storage.getItem(v),O=this.localCache[v];A!==O&&g(v,O,A)}}onStorageEvent(g,v=!1){if(!g.key)return void this.forAllChangedKeys((ue,Ve,Qe)=>{this.notifyListeners(ue,Qe)});const A=g.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ue=this.storage.getItem(A);if(g.newValue!==ue)null!==g.newValue?this.storage.setItem(A,g.newValue):this.storage.removeItem(A);else if(this.localCache[A]===g.newValue&&!v)return}const O=()=>{const ue=this.storage.getItem(A);!v&&this.localCache[A]===ue||this.notifyListeners(A,ue)},q=this.storage.getItem(A);!function oa(){return(0,R.w1)()&&10===document.documentMode}()||q===g.newValue||g.newValue===g.oldValue?O():setTimeout(O,10)}notifyListeners(g,v){this.localCache[g]=v;const A=this.listeners[g];if(A)for(const O of Array.from(A))O(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,v,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:v,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,v){var A=()=>super._set,O=this;return(0,u.Z)(function*(){yield A().call(O,g,v),O.localCache[g]=JSON.stringify(v)})()}_get(g){var v=()=>super._get,A=this;return(0,u.Z)(function*(){const O=yield v().call(A,g);return A.localCache[g]=JSON.stringify(O),O})()}_remove(g){var v=()=>super._remove,A=this;return(0,u.Z)(function*(){yield v().call(A,g),delete A.localCache[g]})()}}return _.type="LOCAL",_})(),wn=(()=>{class _ extends Ca{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,v){}_removeListener(g,v){}}return _.type="SESSION",_})();let Ln=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const v=this.receivers.find(O=>O.isListeningto(g));if(v)return v;const A=new _(g);return this.receivers.push(A),A}isListeningto(g){return this.eventTarget===g}handleEvent(g){var v=this;return(0,u.Z)(function*(){const A=g,{eventId:O,eventType:q,data:ue}=A.data,Ve=v.handlersMap[q];if(!(null==Ve?void 0:Ve.size))return;A.ports[0].postMessage({status:"ack",eventId:O,eventType:q});const Qe=Array.from(Ve).map(function(){var rt=(0,u.Z)(function*(gn){return gn(A.origin,ue)});return function(gn){return rt.apply(this,arguments)}}()),ht=yield function zr(_){return Promise.all(_.map(function(){var f=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(v){return{fulfilled:!1,reason:v}}});return function(g){return f.apply(this,arguments)}}()))}(Qe);A.ports[0].postMessage({status:"done",eventId:O,eventType:q,response:ht})})()}_subscribe(g,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(v)}_unsubscribe(g,v){this.handlersMap[g]&&v&&this.handlersMap[g].delete(v),(!v||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function ao(_="",f=10){let g="";for(let v=0;v<f;v++)g+=Math.floor(10*Math.random());return _+g}class Wc{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,v=50){var A=this;return(0,u.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let q,ue;return new Promise((Ve,Qe)=>{const ht=ao("",20);O.port1.start();const rt=setTimeout(()=>{Qe(new Error("unsupported_event"))},v);ue={messageChannel:O,onMessage(gn){const Gi=gn;if(Gi.data.eventId===ht)switch(Gi.data.status){case"ack":clearTimeout(rt),q=setTimeout(()=>{Qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),Ve(Gi.data.response);break;default:clearTimeout(rt),clearTimeout(q),Qe(new Error("invalid_response"))}}},A.handlers.add(ue),O.port1.addEventListener("message",ue.onMessage),A.target.postMessage({eventType:f,eventId:ht,data:g},[O.port2])}).finally(()=>{ue&&A.removeMessageHandler(ue)})})()}}function nn(){return window}function fs(){return void 0!==nn().WorkerGlobalScope&&"function"==typeof nn().importScripts}function Ii(){return(Ii=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const ml="firebaseLocalStorageDb",Ta="firebaseLocalStorage",Jt="fbase_key";class uo{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Us(_,f){return _.transaction([Ta],f?"readwrite":"readonly").objectStore(Ta)}function pr(){const _=indexedDB.open(ml,1);return new Promise((f,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const v=_.result;try{v.createObjectStore(Ta,{keyPath:Jt})}catch(A){g(A)}}),_.addEventListener("success",(0,u.Z)(function*(){const v=_.result;v.objectStoreNames.contains(Ta)?f(v):(v.close(),yield function fu(){const _=indexedDB.deleteDatabase(ml);return new uo(_).toPromise()}(),f(yield pr()))}))})}function yl(_,f,g){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,u.Z)(function*(_,f,g){const v=Us(_,!0).put({[Jt]:f,value:g});return new uo(v).toPromise()})).apply(this,arguments)}function Da(){return(Da=(0,u.Z)(function*(_,f){const g=Us(_,!1).get(f),v=yield new uo(g).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function Po(_,f){const g=Us(_,!0).delete(f);return new uo(g).toPromise()}const di=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield pr()),g.db})()}_withRetries(g){var v=this;return(0,u.Z)(function*(){let A=0;for(;;)try{const O=yield v._openDb();return yield g(O)}catch(O){if(A++>3)throw O;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return fs()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=Ln._getInstance(function Kc(){return fs()?self:null}()),g.receiver._subscribe("keyChanged",function(){var v=(0,u.Z)(function*(A,O){return{keyProcessed:(yield g._poll()).includes(O.key)}});return function(A,O){return v.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var v=(0,u.Z)(function*(A,O){return["keyChanged"]});return function(A,O){return v.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var v,A;if(g.activeServiceWorker=yield function Ia(){return Ii.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Wc(g.activeServiceWorker);const O=yield g.sender._send("ping",{},800);!O||(null===(v=O[0])||void 0===v?void 0:v.fulfilled)&&(null===(A=O[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var v=this;return(0,u.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function gt(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:g},v.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield pr();return yield yl(g,ba,"1"),yield Po(g,ba),!0}catch(g){}return!1})()}_withPendingWrite(g){var v=this;return(0,u.Z)(function*(){v.pendingWrites++;try{yield g()}finally{v.pendingWrites--}})()}_set(g,v){var A=this;return(0,u.Z)(function*(){return A._withPendingWrite((0,u.Z)(function*(){return yield A._withRetries(O=>yl(O,g,v)),A.localCache[g]=v,A.notifyServiceWorker(g)}))})()}_get(g){var v=this;return(0,u.Z)(function*(){const A=yield v._withRetries(O=>function js(_,f){return Da.apply(this,arguments)}(O,g));return v.localCache[g]=A,A})()}_remove(g){var v=this;return(0,u.Z)(function*(){return v._withPendingWrite((0,u.Z)(function*(){return yield v._withRetries(A=>Po(A,g)),delete v.localCache[g],v.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const v=yield g._withRetries(q=>{const ue=Us(q,!1).getAll();return new uo(ue).toPromise()});if(!v)return[];if(0!==g.pendingWrites)return[];const A=[],O=new Set;for(const{fbase_key:q,value:ue}of v)O.add(q),JSON.stringify(g.localCache[q])!==JSON.stringify(ue)&&(g.notifyListeners(q,ue),A.push(q));for(const q of Object.keys(g.localCache))g.localCache[q]&&!O.has(q)&&(g.notifyListeners(q,null),A.push(q));return A})()}notifyListeners(g,v){this.localCache[g]=v;const A=this.listeners[g];if(A)for(const O of Array.from(A))O(v)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Xn(_,f){return At(_,"POST","/v2/accounts/mfaSignIn:start",Zt(_,f))}function sn(){return(sn=(0,u.Z)(function*(_){return(yield At(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Hs(_){return new Promise((f,g)=>{const v=document.createElement("script");v.setAttribute("src",_),v.onload=f,v.onerror=A=>{const O=Me("internal-error");O.customData=A,g(O)},v.type="text/javascript",v.charset="UTF-8",function Fo(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(v)})}function Lo(_){return`__${_}${Math.floor(1e6*Math.random())}`}const er=1e12;class En{constructor(f){this.auth=f,this.counter=er,this._widgets=new Map}render(f,g){const v=this.counter;return this._widgets.set(v,new Bi(f,this.auth.name,g||{})),this.counter++,v}reset(f){var g;const v=f||er;null===(g=this._widgets.get(v))||void 0===g||g.delete(),this._widgets.delete(v)}getResponse(f){var g;return(null===(g=this._widgets.get(f||er))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,u.Z)(function*(){var v;return null===(v=g._widgets.get(f||er))||void 0===v||v.execute(),""})()}}class Bi{constructor(f,g,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof f?document.getElementById(f):f;re(A,"argument-error",{appName:g}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Di(_){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<_;v++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(v){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(v){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const co=Lo("rcb"),mu=new On(3e4,6e4);class kh{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!nn().grecaptcha}load(f,g=""){return re(function d_(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(nn().grecaptcha):new Promise((v,A)=>{const O=nn().setTimeout(()=>{A(Me(f,"network-request-failed"))},mu.get());nn()[co]=()=>{nn().clearTimeout(O),delete nn()[co];const ue=nn().grecaptcha;if(!ue)return void A(Me(f,"internal-error"));const Ve=ue.render;ue.render=(Qe,ht)=>{const rt=Ve(Qe,ht);return this.counter++,rt},this.hostLanguage=g,v(ue)},Hs(`https://www.google.com/recaptcha/api.js??${(0,R.xO)({onload:co,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(O),A(Me(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!nn().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Aa{load(f){return(0,u.Z)(function*(){return new En(f)})()}clearedOneInstance(){}}const Dr="recaptcha",Rh={theme:"light",type:"image"};class ps{constructor(f,g=Object.assign({},Rh),v){this.parameters=g,this.type=Dr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ke(v),this.isInvisible="invisible"===this.parameters.size,re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof f?document.getElementById(f):f;re(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Aa:new kh,this.validateStartingState()}verify(){var f=this;return(0,u.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),v=f.getAssertedRecaptcha();return v.getResponse(g)||new Promise(O=>{const q=ue=>{!ue||(f.tokenChangeListeners.delete(q),O(ue))};f.tokenChangeListeners.add(q),f.isInvisible&&v.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(v=>v(g)),"function"==typeof f)f(g);else if("string"==typeof f){const v=nn()[f];"function"==typeof v&&v(g)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,u.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const v=document.createElement("div");g.appendChild(v),g=v}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,u.Z)(function*(){re(Lt()&&!fs(),f.auth,"internal-error"),yield function Yc(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function gu(_){return sn.apply(this,arguments)}(f.auth);re(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ai{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=So._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function fn(){return(fn=(0,u.Z)(function*(_,f,g){const v=ke(_),A=yield gr(v,f,(0,R.m9)(g));return new Ai(A,O=>lu(v,O))})).apply(this,arguments)}function ho(){return(ho=(0,u.Z)(function*(_,f,g){const v=(0,R.m9)(_);yield Rs(!1,v,"phone");const A=yield gr(v.auth,f,(0,R.m9)(g));return new Ai(A,O=>us(v,O))})).apply(this,arguments)}function El(){return(El=(0,u.Z)(function*(_,f,g){const v=(0,R.m9)(_),A=yield gr(v.auth,f,(0,R.m9)(g));return new Ai(A,O=>Oo(v,O))})).apply(this,arguments)}function gr(_,f,g){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,u.Z)(function*(_,f,g){var v;const A=yield g.verify();try{let O;if(re("string"==typeof A,_,"argument-error"),re(g.type===Dr,_,"argument-error"),O="string"==typeof f?{phoneNumber:f}:f,"session"in O){const q=O.session;if("phoneNumber"in O)return re("enroll"===q.type,_,"internal-error"),(yield du(_,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{re("signin"===q.type,_,"internal-error");const ue=(null===(v=O.multiFactorHint)||void 0===v?void 0:v.uid)||O.multiFactorUid;return re(ue,_,"missing-multi-factor-info"),(yield Xn(_,{mfaPendingCredential:q.credential,mfaEnrollmentId:ue,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield Zp(_,{phoneNumber:O.phoneNumber,recaptchaToken:A});return q}}finally{g._reset()}})).apply(this,arguments)}function Vo(){return(Vo=(0,u.Z)(function*(_,f){yield Kt((0,R.m9)(_),f)})).apply(this,arguments)}let ji=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=ke(g)}verifyPhoneNumber(g,v){return gr(this.auth,g,(0,R.m9)(v))}static credential(g,v){return So._fromVerification(g,v)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:v,temporaryProof:A}=g;return v&&A?So._fromTokenResponse(v,A):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Hi(_,f){return f?ie(f):(re(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class _u extends Vt{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return An(f,this._buildIdpRequest())}_linkToIdToken(f,g){return An(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return An(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function yu(_){return ro(_.auth,new _u(_),_.bypassAuthState)}function Ct(_){const{auth:f,user:g}=_;return re(g,f,"internal-error"),uu(g,new _u(_),_.bypassAuthState)}function Qc(_){return Si.apply(this,arguments)}function Si(){return(Si=(0,u.Z)(function*(_){const{auth:f,user:g}=_;return re(g,f,"internal-error"),Kt(g,new _u(_),_.bypassAuthState)})).apply(this,arguments)}class Ar{constructor(f,g,v,A,O=!1){this.auth=f,this.resolver=v,this.user=A,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,u.Z)(function*(v,A){f.pendingPromise={resolve:v,reject:A};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(O){f.reject(O)}});return function(v,A){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,u.Z)(function*(){const{urlResponse:v,sessionId:A,postBody:O,tenantId:q,error:ue,type:Ve}=f;if(ue)return void g.reject(ue);const Qe={auth:g.auth,requestUri:v,sessionId:A,tenantId:q||void 0,postBody:O||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ve)(Qe))}catch(ht){g.reject(ht)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return yu;case"linkViaPopup":case"linkViaRedirect":return Qc;case"reauthViaPopup":case"reauthViaRedirect":return Ct;default:le(this.auth,"internal-error")}}resolve(f){ne(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ne(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vu=new On(2e3,1e4);function Jc(){return(Jc=(0,u.Z)(function*(_,f,g){const v=ke(_);qe(_,f,ks);const A=Hi(v,g);return new Eu(v,"signInViaPopup",f,A).executeNotNull()})).apply(this,arguments)}function Wn(){return(Wn=(0,u.Z)(function*(_,f,g){const v=(0,R.m9)(_);qe(v.auth,f,ks);const A=Hi(v.auth,g);return new Eu(v.auth,"reauthViaPopup",f,A,v).executeNotNull()})).apply(this,arguments)}function wu(){return(wu=(0,u.Z)(function*(_,f,g){const v=(0,R.m9)(_);qe(v.auth,f,ks);const A=Hi(v.auth,g);return new Eu(v.auth,"linkViaPopup",f,A,v).executeNotNull()})).apply(this,arguments)}let Eu=(()=>{class _ extends Ar{constructor(g,v,A,O,q){super(g,v,O,q),this.provider=A,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const v=yield g.execute();return re(v,g.auth,"internal-error"),v})()}onExecution(){var g=this;return(0,u.Z)(function*(){ne(1===g.filter.length,"Popup operations only handle one event");const v=ao();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],v),g.authWindow.associatedEvent=v,g.resolver._originValidation(g.auth).catch(A=>{g.reject(A)}),g.resolver._isIframeWebStorageSupported(g.auth,A=>{A||g.reject(Me(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var v,A;this.pollId=(null===(A=null===(v=this.authWindow)||void 0===v?void 0:v.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,vu.get())};g()}}return _.currentPopupAction=null,_})();const pn=new Map;class Un extends Ar{constructor(f,g,v=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,v),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,u.Z)(function*(){let v=pn.get(g.auth._key());if(!v){try{const O=(yield function Il(_,f){return Fh.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;v=()=>Promise.resolve(O)}catch(A){v=()=>Promise.reject(A)}pn.set(g.auth._key(),v)}return g.bypassAuthState||pn.set(g.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,v=this;return(0,u.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(v,f);if("unknown"!==f.type){if(f.eventId){const A=yield v.auth._redirectUserForId(f.eventId);if(A)return v.user=A,g().call(v,f);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Fh(){return(Fh=(0,u.Z)(function*(_,f){const g=C(f),v=ed(_);if(!(yield v._isAvailable()))return!1;const A="true"===(yield v._get(g));return yield v._remove(g),A})).apply(this,arguments)}function gs(_,f){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,u.Z)(function*(_,f){return ed(_)._set(C(f),"true")})).apply(this,arguments)}function ed(_){return ie(_._redirectPersistence)}function C(_){return kn("pendingRedirect",_.config.apiKey,_.name)}function F(){return(F=(0,u.Z)(function*(_,f,g){const v=ke(_);qe(_,f,ks);const A=Hi(v,g);return yield gs(A,v),A._openRedirect(v,f,"signInViaRedirect")})).apply(this,arguments)}function De(){return(De=(0,u.Z)(function*(_,f,g){const v=(0,R.m9)(_);qe(v.auth,f,ks);const A=Hi(v.auth,g);yield gs(A,v.auth);const O=yield ms(v);return A._openRedirect(v.auth,f,"reauthViaRedirect",O)})).apply(this,arguments)}function kt(){return(kt=(0,u.Z)(function*(_,f,g){const v=(0,R.m9)(_);qe(v.auth,f,ks);const A=Hi(v.auth,g);yield Rs(!1,v,f.providerId),yield gs(A,v.auth);const O=yield ms(v);return A._openRedirect(v.auth,f,"linkViaRedirect",O)})).apply(this,arguments)}function bn(){return(bn=(0,u.Z)(function*(_,f){return yield ke(_)._initializationPromise,mr(_,f,!1)})).apply(this,arguments)}function mr(_,f){return on.apply(this,arguments)}function on(){return(on=(0,u.Z)(function*(_,f,g=!1){const v=ke(_),A=Hi(v,f),q=yield new Un(v,A,g).execute();return q&&!g&&(delete q.user._redirectEventId,yield v._persistUserIfCurrent(q.user),yield v._setRedirectUser(null,f)),q})).apply(this,arguments)}function ms(_){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,u.Z)(function*(_){const f=ao(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class _s{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(f,v)&&(g=!0,this.sendToConsumer(f,v),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Lh(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jo(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var v;if(f.error&&!jo(f)){const A=(null===(v=f.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";g.onError(Me(this.auth,A))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const v=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&v}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xr(f))}saveEventToCache(f){this.cachedEventUids.add(xr(f)),this.lastProcessedEventTime=Date.now()}}function xr(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function jo({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Tl(_){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,u.Z)(function*(_,f={}){return At(_,"GET","/v1/projects",f)})).apply(this,arguments)}const Jp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f_=/^https?/;function Ho(){return(Ho=(0,u.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Tl(_);for(const g of f)try{if(Dl(g))return}catch(v){}le(_,"unauthorized-domain")})).apply(this,arguments)}function Dl(_){const f=pt(),{protocol:g,hostname:v}=new URL(f);if(_.startsWith("chrome-extension://")){const q=new URL(_);return""===q.hostname&&""===v?"chrome-extension:"===g&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&q.hostname===v}if(!f_.test(g))return!1;if(Jp.test(_))return v===_;const A=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(v)}const p_=new On(3e4,6e4);function g_(){const _=nn().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Al=null;function eg(_){return Al=Al||function Xp(_){return new Promise((f,g)=>{var v,A,O;function q(){g_(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{g_(),g(Me(_,"network-request-failed"))},timeout:p_.get()})}if(null===(A=null===(v=nn().gapi)||void 0===v?void 0:v.iframes)||void 0===A?void 0:A.Iframe)f(gapi.iframes.getContext());else{if(!(null===(O=nn().gapi)||void 0===O?void 0:O.load)){const ue=Lo("iframefcb");return nn()[ue]=()=>{gapi.load?q():g(Me(_,"network-request-failed"))},Hs(`https://apis.google.com/js/api.js?onload=${ue}`).catch(Ve=>g(Ve))}q()}}).catch(f=>{throw Al=null,f})}(_),Al}const Vh=new On(5e3,15e3),Sl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tu(_){const f=_.config;re(f.authDomain,_,"auth-domain-config-required");const g=f.emulator?zt(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,v={apiKey:f.apiKey,appName:_.name,v:ae.SDK_VERSION},A=nd.get(_.config.apiHost);A&&(v.eid=A);const O=_._getFrameworks();return O.length&&(v.fw=O.join(",")),`${g}?${(0,R.xO)(v).slice(1)}`}function rd(){return rd=(0,u.Z)(function*(_){const f=yield eg(_),g=nn().gapi;return re(g,_,"internal-error"),f.open({where:document.body,url:Tu(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sl,dontclear:!0},v=>new Promise(function(){var A=(0,u.Z)(function*(O,q){yield v.restyle({setHideOnLeave:!1});const ue=Me(_,"network-request-failed"),Ve=nn().setTimeout(()=>{q(ue)},Vh.get());function Qe(){nn().clearTimeout(Ve),O(v)}v.ping(Qe).then(Qe,()=>{q(ue)})});return function(O,q){return A.apply(this,arguments)}}()))}),rd.apply(this,arguments)}const R0={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xl{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Bh(_,f,g,v,A,O){re(_.config.authDomain,_,"auth-domain-config-required"),re(_.config.apiKey,_,"invalid-api-key");const q={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:v,v:ae.SDK_VERSION,eventId:A};if(f instanceof ks){f.setDefaultLanguage(_.languageCode),q.providerId=f.providerId||"",(0,R.xb)(f.getCustomParameters())||(q.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Ve,Qe]of Object.entries(O||{}))q[Ve]=Qe}if(f instanceof li){const Ve=f.getScopes().filter(Qe=>""!==Qe);Ve.length>0&&(q.scopes=Ve.join(","))}_.tenantId&&(q.tid=_.tenantId);const ue=q;for(const Ve of Object.keys(ue))void 0===ue[Ve]&&delete ue[Ve];return`${function y_({config:_}){return _.emulator?zt(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,R.xO)(ue).slice(1)}`}const xi="webStorageSupport";class jh extends class v_{constructor(f){this.factorId=f}_process(f,g,v){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,v);case"signin":return this._finalizeSignIn(f,g.credential);default:return W("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new jh(f)}_finalizeEnroll(f,g,v){return function zn(_,f){return At(_,"POST","/v2/accounts/mfaEnrollment:finalize",Zt(_,f))}(f,{idToken:g,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function vl(_,f){return At(_,"POST","/v2/accounts/mfaSignIn:finalize",Zt(_,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let P0=(()=>{class _{constructor(){}static assertion(g){return jh._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var Hh="@firebase/auth";class tg{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(v=>{var A;f((null===(A=v)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ma(){return window}function Oa(){return(Oa=(0,u.Z)(function*(_,f,g){var v;const{BuildInfo:A}=Ma();ne(f.sessionId,"AuthEvent did not contain a session ID");const O=yield F0(f.sessionId),q={};return $r()?q.ibi=A.packageName:Cr()?q.apn=A.packageName:le(_,"operation-not-supported-in-this-environment"),A.displayName&&(q.appDisplayName=A.displayName),q.sessionId=O,Bh(_,g,f.type,void 0,null!==(v=f.eventId)&&void 0!==v?v:void 0,q)})).apply(this,arguments)}function $i(){return($i=(0,u.Z)(function*(_){const{BuildInfo:f}=Ma(),g={};$r()?g.iosBundleId=f.packageName:Cr()?g.androidPackageName=f.packageName:le(_,"operation-not-supported-in-this-environment"),yield Tl(_,g)})).apply(this,arguments)}function Au(){return(Au=(0,u.Z)(function*(_,f,g){const{cordova:v}=Ma();let A=()=>{};try{yield new Promise((O,q)=>{let ue=null;function Ve(){var rt;O();const gn=null===(rt=v.plugins.browsertab)||void 0===rt?void 0:rt.close;"function"==typeof gn&&gn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Qe(){ue||(ue=window.setTimeout(()=>{q(Me(_,"redirect-cancelled-by-user"))},2e3))}function ht(){"visible"===(null==document?void 0:document.visibilityState)&&Qe()}f.addPassiveListener(Ve),document.addEventListener("resume",Qe,!1),Cr()&&document.addEventListener("visibilitychange",ht,!1),A=()=>{f.removePassiveListener(Ve),document.removeEventListener("resume",Qe,!1),document.removeEventListener("visibilitychange",ht,!1),ue&&window.clearTimeout(ue)}})}finally{A()}})).apply(this,arguments)}function F0(_){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,u.Z)(function*(_){const f=L0(_),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function L0(_){if(ne(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),g=new Uint8Array(f);for(let v=0;v<_.length;v++)g[v]=_.charCodeAt(v);return g}!function ng(_){(0,ae._registerComponent)(new oe.wA("auth",(f,{options:g})=>{const v=f.getProvider("app").getImmediate(),{apiKey:A,authDomain:O}=v.options;return(q=>{re(A&&!A.includes(":"),"invalid-api-key",{appName:q.name}),re(!(null==O?void 0:O.includes(":")),"argument-error",{appName:q.name});const ue={apiKey:A,authDomain:O,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Io(_)},Ve=new qr(q,ue);return function ce(_,f){const g=(null==f?void 0:f.persistence)||[],v=(Array.isArray(g)?g:[g]).map(ie);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(v,null==f?void 0:f.popupRedirectResolver)}(Ve,g),Ve})(v)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,v)=>{f.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new oe.wA("auth-internal",f=>{const g=ke(f.getProvider("auth").getImmediate());return new tg(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Hh,"0.19.8",function E_(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,ae.registerVersion)(Hh,"0.19.8","esm2017")}("Browser");class Gh extends _s{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,u.Z)(function*(){yield f.initPromise})()}}function Nl(_){return ld.apply(this,arguments)}function ld(){return(ld=(0,u.Z)(function*(_){const f=yield Kh()._get(cd(_));return f&&(yield Kh()._remove(cd(_))),f})).apply(this,arguments)}function Wh(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const v=Math.floor(Math.random()*f.length);_.push(f.charAt(v))}return _.join("")}function Kh(){return ie(Vs)}function cd(_){return kn("authEvent",_.config.apiKey,_.name)}function hd(_){if(!(null==_?void 0:_.includes("?")))return{};const[f,...g]=_.split("?");return(0,R.zd)(g.join("?"))}function Qh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Me("no-auth-event")}}function pd(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function Pl(_=(0,R.z$)()){return!("file:"!==pd()&&"ionic:"!==pd()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Kn(){try{const _=self.localStorage,f=ao();if(_)return _.setItem(f,"1"),_.removeItem(f),!function xu(_=(0,R.z$)()){return function T_(){return(0,R.w1)()&&11===(null==document?void 0:document.documentMode)}()||function gd(_=(0,R.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,R.hl)()}catch(_){return Mu()&&(0,R.hl)()}return!1}function Mu(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function md(){return(function I_(){return"http:"===pd()||"https:"===pd()}()||(0,R.ru)()||Pl())&&!function og(){return(0,R.b$)()||(0,R.UG)()}()&&Kn()&&!Mu()}function Jh(){return Pl()&&"undefined"!=typeof document}function Na(){return(Na=(0,u.Z)(function*(){return!!Jh()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const Kr={LOCAL:"local",NONE:"none",SESSION:"session"},Fl=re,_d="persistence";function vd(_){return ef.apply(this,arguments)}function ef(){return(ef=(0,u.Z)(function*(_){yield _._initializationPromise;const f=ag(),g=kn(_d,_.config.apiKey,_.name);f&&f.setItem(g,_._getPersistence())})).apply(this,arguments)}function ag(){var _;try{return(null===(_=function Xh(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(f){return null}}const Vl=re;class Zs{constructor(){this.browserResolver=ie(class po{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wn,this._completeRedirectFn=mr}_openPopup(f,g,v,A){var O=this;return(0,u.Z)(function*(){var q;ne(null===(q=O.eventManagers[f._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const ue=Bh(f,g,v,pt(),A);return function od(_,f,g,v=500,A=600){const O=Math.max((window.screen.availHeight-A)/2,0).toString(),q=Math.max((window.screen.availWidth-v)/2,0).toString();let ue="";const Ve=Object.assign(Object.assign({},R0),{width:v.toString(),height:A.toString(),top:O,left:q}),Qe=(0,R.z$)().toLowerCase();g&&(ue=sa(Qe)?"_blank":g),ia(Qe)&&(f=f||"http://localhost",Ve.scrollbars="yes");const ht=Object.entries(Ve).reduce((gn,[Gi,ka])=>`${gn}${Gi}=${ka},`,"");if(function Qs(_=(0,R.z$)()){var f;return $r(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(Qe)&&"_self"!==ue)return function m_(_,f){const g=document.createElement("a");g.href=_,g.target=f;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(v)}(f||"",ue),new xl(null);const rt=window.open(f||"",ue,ht);re(rt,_,"popup-blocked");try{rt.focus()}catch(gn){}return new xl(rt)}(f,ue,ao())})()}_openRedirect(f,g,v,A){var O=this;return(0,u.Z)(function*(){return yield O._originValidation(f),function gl(_){nn().location.href=_}(Bh(f,g,v,pt(),A)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:A,promise:O}=this.eventManagers[g];return A?Promise.resolve(A):(ne(O,"If manager is not set, promise should be"),O)}const v=this.initAndGetManager(f);return this.eventManagers[g]={promise:v},v.catch(()=>{delete this.eventManagers[g]}),v}initAndGetManager(f){var g=this;return(0,u.Z)(function*(){const v=yield function Du(_){return rd.apply(this,arguments)}(f),A=new _s(f);return v.register("authEvent",O=>(re(null==O?void 0:O.authEvent,f,"invalid-auth-event"),{status:A.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:A},g.iframes[f._key()]=v,A})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(xi,{type:xi},A=>{var O;const q=null===(O=null==A?void 0:A[0])||void 0===O?void 0:O[xi];void 0!==q&&g(!!q),le(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function td(_){return Ho.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return xs()||tu()||$r()}}),this.cordovaResolver=ie(class qi{constructor(){this._redirectPersistence=wn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=mr}_initialize(f){var g=this;return(0,u.Z)(function*(){const v=f._key();let A=g.eventManagers.get(v);return A||(A=new Gh(f),g.eventManagers.set(v,A),g.attachCallbackListeners(f,A)),A})()}_openPopup(f){le(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,v,A){var O=this;return(0,u.Z)(function*(){!function go(_){var f,g,v,A,O,q,ue,Ve,Qe,ht;const rt=Ma();re("function"==typeof(null===(f=null==rt?void 0:rt.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),re(void 0!==(null===(g=null==rt?void 0:rt.BuildInfo)||void 0===g?void 0:g.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),re("function"==typeof(null===(O=null===(A=null===(v=null==rt?void 0:rt.cordova)||void 0===v?void 0:v.plugins)||void 0===A?void 0:A.browsertab)||void 0===O?void 0:O.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),re("function"==typeof(null===(Ve=null===(ue=null===(q=null==rt?void 0:rt.cordova)||void 0===q?void 0:q.plugins)||void 0===ue?void 0:ue.browsertab)||void 0===Ve?void 0:Ve.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),re("function"==typeof(null===(ht=null===(Qe=null==rt?void 0:rt.cordova)||void 0===Qe?void 0:Qe.InAppBrowser)||void 0===ht?void 0:ht.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const q=yield O._initialize(f);yield q.initialized(),q.resetRedirect(),function bu(){pn.clear()}(),yield O._originValidation(f);const ue=function zh(_,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:Wh(),postBody:null,tenantId:_.tenantId,error:Me(_,"no-auth-event")}}(f,v,A);yield function ud(_,f){return Kh()._set(cd(_),f)}(f,ue);const Ve=yield function b_(_,f,g){return Oa.apply(this,arguments)}(f,ue,g),Qe=yield function Ol(_){const{cordova:f}=Ma();return new Promise(g=>{f.plugins.browsertab.isAvailable(v=>{let A=null;v?f.plugins.browsertab.openUrl(_):A=f.InAppBrowser.open(_,function xc(_=(0,R.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(A)})})}(Ve);return function ig(_,f,g){return Au.apply(this,arguments)}(f,q,Qe)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function $h(_){return $i.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:v,handleOpenURL:A,BuildInfo:O}=Ma(),q=setTimeout((0,u.Z)(function*(){yield Nl(f),g.onEvent(Qh())}),500),ue=function(){var ht=(0,u.Z)(function*(rt){clearTimeout(q);const gn=yield Nl(f);let Gi=null;gn&&(null==rt?void 0:rt.url)&&(Gi=function kl(_,f){var g,v;const A=function dd(_){const f=hd(_),g=f.link?decodeURIComponent(f.link):void 0,v=hd(g).link,A=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return hd(A).link||A||v||g||_}(f);if(A.includes("/__/auth/callback")){const O=hd(A),q=O.firebaseError?function Yh(_){try{return JSON.parse(_)}catch(f){return null}}(decodeURIComponent(O.firebaseError)):null,ue=null===(v=null===(g=null==q?void 0:q.code)||void 0===g?void 0:g.split("auth/"))||void 0===v?void 0:v[1],Ve=ue?Me(ue):null;return Ve?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Ve,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:A,postBody:null}}return null}(gn,rt.url)),g.onEvent(Gi||Qh())});return function(gn){return ht.apply(this,arguments)}}();void 0!==v&&"function"==typeof v.subscribe&&v.subscribe(null,ue);const Ve=A,Qe=`${O.packageName.toLowerCase()}://`;Ma().handleOpenURL=function(){var ht=(0,u.Z)(function*(rt){if(rt.toLowerCase().startsWith(Qe)&&ue({url:rt}),"function"==typeof Ve)try{Ve(rt)}catch(gn){console.error(gn)}});return function(rt){return ht.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=wn,this._completeRedirectFn=mr}_initialize(f){var g=this;return(0,u.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,v,A){var O=this;return(0,u.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(f,g,v,A)})()}_openRedirect(f,g,v,A){var O=this;return(0,u.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(f,g,v,A)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Jh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Vl(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,u.Z)(function*(){if(f.underlyingResolver)return;const g=yield function Mr(){return Na.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function ug(_){return _.unwrap()}function tf(_){return lg(_)}function lg(_){const{_tokenResponse:f}=_ instanceof R.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof R.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return ji.credentialFromResult(_);const g=f.providerId;if(!g||"password"===g)return null;let v;switch(g){case"google.com":v=Mo;break;case"facebook.com":v=xo;break;case"github.com":v=Fc;break;case"twitter.com":v=ci;break;default:const{oauthIdToken:A,oauthAccessToken:O,oauthTokenSecret:q,pendingToken:ue,nonce:Ve}=f;return O||q||A||ue?ue?g.startsWith("saml.")?ss._create(g,ue):rs._fromParams({providerId:g,signInMethod:g,pendingToken:ue,idToken:A,accessToken:O}):new no(g).credential({idToken:A,accessToken:O,rawNonce:Ve}):null}return _ instanceof R.ZR?v.credentialFromError(_):v.credentialFromResult(_)}function tr(_,f){return f.catch(g=>{throw g instanceof R.ZR&&function D_(_,f){var g;const v=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new A_(_,function pl(_,f){var g;const v=(0,R.m9)(_),A=f;return re(f.customData.operationType,v,"argument-error"),re(null===(g=A.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,v,"argument-error"),Ea._fromError(v,A)}(_,f));else if(v){const A=lg(f),O=f;A&&(O.credential=A,O.tenantId=v.tenantId||void 0,O.email=v.email||void 0,O.phoneNumber=v.phoneNumber||void 0)}}(_,g),g}).then(g=>{const A=g.user;return{operationType:g.operationType,credential:tf(g),additionalUserInfo:Gn(g),user:mo.getOrCreate(A)}})}function nf(_,f){return rf.apply(this,arguments)}function rf(){return(rf=(0,u.Z)(function*(_,f){const g=yield f;return{verificationId:g.verificationId,confirm:v=>tr(_,g.confirm(v))}})).apply(this,arguments)}class A_{constructor(f,g){this.resolver=g,this.auth=function Ul(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return tr(ug(this.auth),this.resolver.resolveSignIn(f))}}class mo{constructor(f){this._delegate=f,this.multiFactor=function Yp(_){const f=(0,R.m9)(_);return Ro.has(f)||Ro.set(f,hs._fromUser(f)),Ro.get(f)}(f)}static getOrCreate(f){return mo.USER_MAP.has(f)||mo.USER_MAP.set(f,new mo(f)),mo.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,u.Z)(function*(){return tr(g.auth,us(g._delegate,f))})()}linkWithPhoneNumber(f,g){var v=this;return(0,u.Z)(function*(){return nf(v.auth,function wl(_,f,g){return ho.apply(this,arguments)}(v._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,u.Z)(function*(){return tr(g.auth,function Cl(_,f,g){return wu.apply(this,arguments)}(g._delegate,f,Zs))})()}linkWithRedirect(f){var g=this;return(0,u.Z)(function*(){return yield vd(ke(g.auth)),function Be(_,f,g){return function He(_,f,g){return kt.apply(this,arguments)}(_,f,g)}(g._delegate,f,Zs)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,u.Z)(function*(){return tr(g.auth,Oo(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return nf(this.auth,function h_(_,f,g){return El.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return tr(this.auth,function Xc(_,f,g){return Wn.apply(this,arguments)}(this._delegate,f,Zs))}reauthenticateWithRedirect(f){var g=this;return(0,u.Z)(function*(){return yield vd(ke(g.auth)),function G(_,f,g){return function Y(_,f,g){return De.apply(this,arguments)}(_,f,g)}(g._delegate,f,Zs)})()}sendEmailVerification(f){return function ls(_,f){return ya.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,u.Z)(function*(){return yield function as(_,f){return il.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function dl(_,f){return cu((0,R.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function Kp(_,f){return cu((0,R.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function bl(_,f){return Vo.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function cl(_,f){return wa.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function $c(_,f,g){return va.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}mo.USER_MAP=new WeakMap;const Bl=re;let wd=(()=>{class _{constructor(g,v){if(this.app=g,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=g.options;Bl(A,"invalid-api-key",{appName:g.name}),Bl(A,"invalid-api-key",{appName:g.name});const O="undefined"!=typeof window?Zs:void 0;this._delegate=v.initialize({options:{persistence:S_(A,g.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(xe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?mo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,v){!function Yt(_,f,g){const v=ke(_);re(v._canInitEmulator,v,"emulator-config-failed"),re(/^https?:\/\//.test(f),v,"invalid-emulator-scheme");const A=!!(null==g?void 0:g.disableWarnings),O=Ir(f),{host:q,port:ue}=function ts(_){const f=Ir(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!g)return{host:"",port:null};const v=g[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(v);if(A){const O=A[1];return{host:O,port:yn(v.substr(O.length+1))}}{const[O,q]=v.split(":");return{host:O,port:yn(q)}}}(f);v.config.emulator={url:`${O}//${q}${null===ue?"":`:${ue}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:q,port:ue,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function ns(){function _(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,v)}applyActionCode(g){return function Ah(_,f){return be.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Dt(this._delegate,g)}confirmPasswordReset(g,v){return function ol(_,f,g){return pa.apply(this,arguments)}(this._delegate,g,v)}createUserWithEmailAndPassword(g,v){var A=this;return(0,u.Z)(function*(){return tr(A._delegate,function ma(_,f,g){return Tr.apply(this,arguments)}(A._delegate,g,v))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function ll(_,f){return Li.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Zc(_,f){const g=is.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,u.Z)(function*(){Bl(md(),g._delegate,"operation-not-supported-in-this-environment");const v=yield function Bt(_,f){return bn.apply(this,arguments)}(g._delegate,Zs);return v?tr(g._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function fd(_,f){ke(_)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,v,A){const{next:O,error:q,complete:ue}=cg(g,v,A);return this._delegate.onAuthStateChanged(O,q,ue)}onIdTokenChanged(g,v,A){const{next:O,error:q,complete:ue}=cg(g,v,A);return this._delegate.onIdTokenChanged(O,q,ue)}sendSignInLinkToEmail(g,v){return function ul(_,f,g){return Hc.apply(this,arguments)}(this._delegate,g,v)}sendPasswordResetEmail(g,v){return function jc(_,f,g){return fa.apply(this,arguments)}(this._delegate,g,v||void 0)}setPersistence(g){var v=this;return(0,u.Z)(function*(){let A;switch(function yd(_,f){Fl(Object.values(Kr).includes(f),_,"invalid-persistence-type"),(0,R.b$)()?Fl(f!==Kr.SESSION,_,"unsupported-persistence-type"):(0,R.UG)()?Fl(f===Kr.NONE,_,"unsupported-persistence-type"):Mu()?Fl(f===Kr.NONE||f===Kr.LOCAL&&(0,R.hl)(),_,"unsupported-persistence-type"):Fl(f===Kr.NONE||Kn(),_,"unsupported-persistence-type")}(v._delegate,g),g){case Kr.SESSION:A=wn;break;case Kr.LOCAL:A=(yield ie(di)._isAvailable())?di:Vs;break;case Kr.NONE:A=bt;break;default:return le("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return tr(this._delegate,function Bc(_){return su.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return tr(this._delegate,lu(this._delegate,g))}signInWithCustomToken(g){return tr(this._delegate,function Ps(_,f){return Fs.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,v){return tr(this._delegate,function al(_,f,g){return lu((0,R.m9)(_),ua.credential(f,g))}(this._delegate,g,v))}signInWithEmailLink(g,v){return tr(this._delegate,function _a(_,f,g){return No.apply(this,arguments)}(this._delegate,g,v))}signInWithPhoneNumber(g,v){return nf(this._delegate,function Ph(_,f,g){return fn.apply(this,arguments)}(this._delegate,g,v))}signInWithPopup(g){var v=this;return(0,u.Z)(function*(){return Bl(md(),v._delegate,"operation-not-supported-in-this-environment"),tr(v._delegate,function Sa(_,f,g){return Jc.apply(this,arguments)}(v._delegate,g,Zs))})()}signInWithRedirect(g){var v=this;return(0,u.Z)(function*(){return Bl(md(),v._delegate,"operation-not-supported-in-this-environment"),yield vd(v._delegate),function I(_,f,g){return function x(_,f,g){return F.apply(this,arguments)}(_,f,g)}(v._delegate,g,Zs)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function cn(_,f){return Ls.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Kr,_})();function cg(_,f,g){let v=_;"function"!=typeof _&&({next:v,error:f,complete:g}=_);const A=v;return{next:q=>A(q&&mo.getOrCreate(q)),error:f,complete:g}}function S_(_,f){const g=function Ll(_,f){const g=ag();if(!g)return[];const v=kn(_d,_,f);switch(g.getItem(v)){case Kr.NONE:return[bt];case Kr.LOCAL:return[di,wn];case Kr.SESSION:return[wn];default:return[]}}(_,f);if("undefined"!=typeof self&&!g.includes(di)&&g.push(di),"undefined"!=typeof window)for(const v of[Vs,wn])g.includes(v)||g.push(v);return g.includes(bt)||g.push(bt),g}class sf{constructor(){this.providerId="phone",this._delegate=new ji(ug(Q.Z.auth()))}static credential(f,g){return ji.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}sf.PHONE_SIGN_IN_METHOD=ji.PHONE_SIGN_IN_METHOD,sf.PROVIDER_ID=ji.PROVIDER_ID;const x_=re;class dg{constructor(f,g,v=Q.Z.app()){var A;x_(null===(A=v.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new ps(f,g,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function M_(_){_.INTERNAL.registerComponent(new oe.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),v=f.getProvider("auth");return new wd(g,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ua,FacebookAuthProvider:xo,GithubAuthProvider:Fc,GoogleAuthProvider:Mo,OAuthProvider:no,SAMLAuthProvider:os,PhoneAuthProvider:sf,PhoneMultiFactorGenerator:P0,RecaptchaVerifier:dg,TwitterAuthProvider:ci,Auth:wd,AuthCredential:Vt,Error:R.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.8")}(Q.Z)},2940:function(Xe,Ee){!function(k){"use strict";function u(z){return Array.prototype.slice.call(z)}function Q(z){return new Promise(function(ee,ge){z.onsuccess=function(){ee(z.result)},z.onerror=function(){ge(z.error)}})}function R(z,ee,ge){var Ce,le=new Promise(function(Me,Ie){Q(Ce=z[ee].apply(z,ge)).then(Me,Ie)});return le.request=Ce,le}function ae(z,ee,ge){var Ce=R(z,ee,ge);return Ce.then(function(le){if(le)return new j(le,Ce.request)})}function te(z,ee,ge){ge.forEach(function(Ce){Object.defineProperty(z.prototype,Ce,{get:function(){return this[ee][Ce]},set:function(le){this[ee][Ce]=le}})})}function pe(z,ee,ge,Ce){Ce.forEach(function(le){le in ge.prototype&&(z.prototype[le]=function(){return R(this[ee],le,arguments)})})}function oe(z,ee,ge,Ce){Ce.forEach(function(le){le in ge.prototype&&(z.prototype[le]=function(){return this[ee][le].apply(this[ee],arguments)})})}function fe(z,ee,ge,Ce){Ce.forEach(function(le){le in ge.prototype&&(z.prototype[le]=function(){return ae(this[ee],le,arguments)})})}function se(z){this._index=z}function j(z,ee){this._cursor=z,this._request=ee}function U(z){this._store=z}function J(z){this._tx=z,this.complete=new Promise(function(ee,ge){z.oncomplete=function(){ee()},z.onerror=function(){ge(z.error)},z.onabort=function(){ge(z.error)}})}function Ue(z,ee,ge){this._db=z,this.oldVersion=ee,this.transaction=new J(ge)}function Te(z){this._db=z}te(se,"_index",["name","keyPath","multiEntry","unique"]),pe(se,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),fe(se,"_index",IDBIndex,["openCursor","openKeyCursor"]),te(j,"_cursor",["direction","key","primaryKey","value"]),pe(j,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(z){z in IDBCursor.prototype&&(j.prototype[z]=function(){var ee=this,ge=arguments;return Promise.resolve().then(function(){return ee._cursor[z].apply(ee._cursor,ge),Q(ee._request).then(function(Ce){if(Ce)return new j(Ce,ee._request)})})})}),U.prototype.createIndex=function(){return new se(this._store.createIndex.apply(this._store,arguments))},U.prototype.index=function(){return new se(this._store.index.apply(this._store,arguments))},te(U,"_store",["name","keyPath","indexNames","autoIncrement"]),pe(U,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),fe(U,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),oe(U,"_store",IDBObjectStore,["deleteIndex"]),J.prototype.objectStore=function(){return new U(this._tx.objectStore.apply(this._tx,arguments))},te(J,"_tx",["objectStoreNames","mode"]),oe(J,"_tx",IDBTransaction,["abort"]),Ue.prototype.createObjectStore=function(){return new U(this._db.createObjectStore.apply(this._db,arguments))},te(Ue,"_db",["name","version","objectStoreNames"]),oe(Ue,"_db",IDBDatabase,["deleteObjectStore","close"]),Te.prototype.transaction=function(){return new J(this._db.transaction.apply(this._db,arguments))},te(Te,"_db",["name","version","objectStoreNames"]),oe(Te,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(z){[U,se].forEach(function(ee){z in ee.prototype&&(ee.prototype[z.replace("open","iterate")]=function(){var ge=u(arguments),Ce=ge[ge.length-1],le=this._store||this._index,Me=le[z].apply(le,ge.slice(0,-1));Me.onsuccess=function(){Ce(Me.result)}})})}),[se,U].forEach(function(z){z.prototype.getAll||(z.prototype.getAll=function(ee,ge){var Ce=this,le=[];return new Promise(function(Me){Ce.iterateCursor(ee,function(Ie){Ie?(le.push(Ie.value),void 0===ge||le.length!=ge?Ie.continue():Me(le)):Me(le)})})})}),k.openDb=function xe(z,ee,ge){var Ce=R(indexedDB,"open",[z,ee]),le=Ce.request;return le&&(le.onupgradeneeded=function(Me){ge&&ge(new Ue(le.result,Me.oldVersion,le.transaction))}),Ce.then(function(Me){return new Te(Me)})},k.deleteDb=function Le(z){return R(indexedDB,"deleteDatabase",[z])},Object.defineProperty(k,"__esModule",{value:!0})}(Ee)},8306:(Xe,Ee,k)=>{"use strict";k.d(Ee,{y:()=>j});var u=k(930),Q=k(727),R=k(8822),ae=k(4671);var oe=k(2416),fe=k(576),se=k(2806);let j=(()=>{class Te{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const z=new Te;return z.source=this,z.operator=Le,z}subscribe(Le,z,ee){const ge=function Ue(Te){return Te&&Te instanceof u.Lv||function J(Te){return Te&&(0,fe.m)(Te.next)&&(0,fe.m)(Te.error)&&(0,fe.m)(Te.complete)}(Te)&&(0,Q.Nn)(Te)}(Le)?Le:new u.Hp(Le,z,ee);return(0,se.x)(()=>{const{operator:Ce,source:le}=this;ge.add(Ce?Ce.call(ge,le):le?this._subscribe(ge):this._trySubscribe(ge))}),ge}_trySubscribe(Le){try{return this._subscribe(Le)}catch(z){Le.error(z)}}forEach(Le,z){return new(z=U(z))((ee,ge)=>{const Ce=new u.Hp({next:le=>{try{Le(le)}catch(Me){ge(Me),Ce.unsubscribe()}},error:ge,complete:ee});this.subscribe(Ce)})}_subscribe(Le){var z;return null===(z=this.source)||void 0===z?void 0:z.subscribe(Le)}[R.L](){return this}pipe(...Le){return function pe(Te){return 0===Te.length?ae.y:1===Te.length?Te[0]:function(Le){return Te.reduce((z,ee)=>ee(z),Le)}}(Le)(this)}toPromise(Le){return new(Le=U(Le))((z,ee)=>{let ge;this.subscribe(Ce=>ge=Ce,Ce=>ee(Ce),()=>z(ge))})}}return Te.create=xe=>new Te(xe),Te})();function U(Te){var xe;return null!==(xe=null!=Te?Te:oe.v.Promise)&&void 0!==xe?xe:Promise}},7579:(Xe,Ee,k)=>{"use strict";k.d(Ee,{x:()=>oe});var u=k(8306),Q=k(727);const ae=(0,k(3888).d)(se=>function(){se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var te=k(8737),pe=k(2806);let oe=(()=>{class se extends u.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(U){const J=new fe(this,this);return J.operator=U,J}_throwIfClosed(){if(this.closed)throw new ae}next(U){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const J=this.observers.slice();for(const Ue of J)Ue.next(U)}})}error(U){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=U;const{observers:J}=this;for(;J.length;)J.shift().error(U)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:U}=this;for(;U.length;)U.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var U;return(null===(U=this.observers)||void 0===U?void 0:U.length)>0}_trySubscribe(U){return this._throwIfClosed(),super._trySubscribe(U)}_subscribe(U){return this._throwIfClosed(),this._checkFinalizedStatuses(U),this._innerSubscribe(U)}_innerSubscribe(U){const{hasError:J,isStopped:Ue,observers:Te}=this;return J||Ue?Q.Lc:(Te.push(U),new Q.w0(()=>(0,te.P)(Te,U)))}_checkFinalizedStatuses(U){const{hasError:J,thrownError:Ue,isStopped:Te}=this;J?U.error(Ue):Te&&U.complete()}asObservable(){const U=new u.y;return U.source=this,U}}return se.create=(j,U)=>new fe(j,U),se})();class fe extends oe{constructor(j,U){super(),this.destination=j,this.source=U}next(j){var U,J;null===(J=null===(U=this.destination)||void 0===U?void 0:U.next)||void 0===J||J.call(U,j)}error(j){var U,J;null===(J=null===(U=this.destination)||void 0===U?void 0:U.error)||void 0===J||J.call(U,j)}complete(){var j,U;null===(U=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===U||U.call(j)}_subscribe(j){var U,J;return null!==(J=null===(U=this.source)||void 0===U?void 0:U.subscribe(j))&&void 0!==J?J:Q.Lc}}},930:(Xe,Ee,k)=>{"use strict";k.d(Ee,{Hp:()=>Ue,Lv:()=>J});var u=k(576),Q=k(727),R=k(2416),ae=k(7849),te=k(5032);const pe=se("C",void 0,void 0);function se(ee,ge,Ce){return{kind:ee,value:ge,error:Ce}}var j=k(3410),U=k(2806);class J extends Q.w0{constructor(ge){super(),this.isStopped=!1,ge?(this.destination=ge,(0,Q.Nn)(ge)&&ge.add(this)):this.destination=z}static create(ge,Ce,le){return new Ue(ge,Ce,le)}next(ge){this.isStopped?Le(function fe(ee){return se("N",ee,void 0)}(ge),this):this._next(ge)}error(ge){this.isStopped?Le(function oe(ee){return se("E",void 0,ee)}(ge),this):(this.isStopped=!0,this._error(ge))}complete(){this.isStopped?Le(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ge){this.destination.next(ge)}_error(ge){try{this.destination.error(ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ue extends J{constructor(ge,Ce,le){let Me;if(super(),(0,u.m)(ge))Me=ge;else if(ge){let Ie;({next:Me,error:Ce,complete:le}=ge),this&&R.v.useDeprecatedNextContext?(Ie=Object.create(ge),Ie.unsubscribe=()=>this.unsubscribe()):Ie=ge,Me=null==Me?void 0:Me.bind(Ie),Ce=null==Ce?void 0:Ce.bind(Ie),le=null==le?void 0:le.bind(Ie)}this.destination={next:Me?Te(Me):te.Z,error:Te(null!=Ce?Ce:xe),complete:le?Te(le):te.Z}}}function Te(ee,ge){return(...Ce)=>{try{ee(...Ce)}catch(le){R.v.useDeprecatedSynchronousErrorHandling?(0,U.O)(le):(0,ae.h)(le)}}}function xe(ee){throw ee}function Le(ee,ge){const{onStoppedNotification:Ce}=R.v;Ce&&j.z.setTimeout(()=>Ce(ee,ge))}const z={closed:!0,next:te.Z,error:xe,complete:te.Z}},727:(Xe,Ee,k)=>{"use strict";k.d(Ee,{Lc:()=>pe,w0:()=>te,Nn:()=>oe});var u=k(576);const R=(0,k(3888).d)(se=>function(U){se(this),this.message=U?`${U.length} errors occurred during unsubscription:\n${U.map((J,Ue)=>`${Ue+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=U});var ae=k(8737);class te{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:U}=this;if(U)if(this._parentage=null,Array.isArray(U))for(const Te of U)Te.remove(this);else U.remove(this);const{initialTeardown:J}=this;if((0,u.m)(J))try{J()}catch(Te){j=Te instanceof R?Te.errors:[Te]}const{_teardowns:Ue}=this;if(Ue){this._teardowns=null;for(const Te of Ue)try{fe(Te)}catch(xe){j=null!=j?j:[],xe instanceof R?j=[...j,...xe.errors]:j.push(xe)}}if(j)throw new R(j)}}add(j){var U;if(j&&j!==this)if(this.closed)fe(j);else{if(j instanceof te){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._teardowns=null!==(U=this._teardowns)&&void 0!==U?U:[]).push(j)}}_hasParent(j){const{_parentage:U}=this;return U===j||Array.isArray(U)&&U.includes(j)}_addParent(j){const{_parentage:U}=this;this._parentage=Array.isArray(U)?(U.push(j),U):U?[U,j]:j}_removeParent(j){const{_parentage:U}=this;U===j?this._parentage=null:Array.isArray(U)&&(0,ae.P)(U,j)}remove(j){const{_teardowns:U}=this;U&&(0,ae.P)(U,j),j instanceof te&&j._removeParent(this)}}te.EMPTY=(()=>{const se=new te;return se.closed=!0,se})();const pe=te.EMPTY;function oe(se){return se instanceof te||se&&"closed"in se&&(0,u.m)(se.remove)&&(0,u.m)(se.add)&&(0,u.m)(se.unsubscribe)}function fe(se){(0,u.m)(se)?se():se.unsubscribe()}},2416:(Xe,Ee,k)=>{"use strict";k.d(Ee,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Xe,Ee,k)=>{"use strict";k.d(Ee,{E:()=>Q});const Q=new(k(8306).y)(te=>te.complete())},8996:(Xe,Ee,k)=>{"use strict";k.d(Ee,{D:()=>Me});var u=k(8421),Q=k(5363),R=k(9468),pe=k(8306),fe=k(2202),se=k(576),j=k(9672);function J(Ie,qe){if(!Ie)throw new Error("Iterable cannot be null");return new pe.y(Ze=>{(0,j.f)(Ze,qe,()=>{const re=Ie[Symbol.asyncIterator]();(0,j.f)(Ze,qe,()=>{re.next().then(W=>{W.done?Ze.complete():Ze.next(W.value)})},0,!0)})})}var Ue=k(3670),Te=k(8239),xe=k(1144),Le=k(6495),z=k(2206),ee=k(4532),ge=k(3260);function Me(Ie,qe){return qe?function le(Ie,qe){if(null!=Ie){if((0,Ue.c)(Ie))return function ae(Ie,qe){return(0,u.Xf)(Ie).pipe((0,R.R)(qe),(0,Q.Q)(qe))}(Ie,qe);if((0,xe.z)(Ie))return function oe(Ie,qe){return new pe.y(Ze=>{let re=0;return qe.schedule(function(){re===Ie.length?Ze.complete():(Ze.next(Ie[re++]),Ze.closed||this.schedule())})})}(Ie,qe);if((0,Te.t)(Ie))return function te(Ie,qe){return(0,u.Xf)(Ie).pipe((0,R.R)(qe),(0,Q.Q)(qe))}(Ie,qe);if((0,z.D)(Ie))return J(Ie,qe);if((0,Le.T)(Ie))return function U(Ie,qe){return new pe.y(Ze=>{let re;return(0,j.f)(Ze,qe,()=>{re=Ie[fe.h](),(0,j.f)(Ze,qe,()=>{let W,ne;try{({value:W,done:ne}=re.next())}catch(me){return void Ze.error(me)}ne?Ze.complete():Ze.next(W)},0,!0)}),()=>(0,se.m)(null==re?void 0:re.return)&&re.return()})}(Ie,qe);if((0,ge.L)(Ie))return function Ce(Ie,qe){return J((0,ge.Q)(Ie),qe)}(Ie,qe)}throw(0,ee.z)(Ie)}(Ie,qe):(0,u.Xf)(Ie)}},8421:(Xe,Ee,k)=>{"use strict";k.d(Ee,{Xf:()=>Ue});var u=k(655),Q=k(1144),R=k(8239),ae=k(8306),te=k(3670),pe=k(2206),oe=k(4532),fe=k(6495),se=k(3260),j=k(576),U=k(7849),J=k(8822);function Ue(le){if(le instanceof ae.y)return le;if(null!=le){if((0,te.c)(le))return function Te(le){return new ae.y(Me=>{const Ie=le[J.L]();if((0,j.m)(Ie.subscribe))return Ie.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(le);if((0,Q.z)(le))return function xe(le){return new ae.y(Me=>{for(let Ie=0;Ie<le.length&&!Me.closed;Ie++)Me.next(le[Ie]);Me.complete()})}(le);if((0,R.t)(le))return function Le(le){return new ae.y(Me=>{le.then(Ie=>{Me.closed||(Me.next(Ie),Me.complete())},Ie=>Me.error(Ie)).then(null,U.h)})}(le);if((0,pe.D)(le))return ee(le);if((0,fe.T)(le))return function z(le){return new ae.y(Me=>{for(const Ie of le)if(Me.next(Ie),Me.closed)return;Me.complete()})}(le);if((0,se.L)(le))return function ge(le){return ee((0,se.Q)(le))}(le)}throw(0,oe.z)(le)}function ee(le){return new ae.y(Me=>{(function Ce(le,Me){var Ie,qe,Ze,re;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Ie=(0,u.KL)(le);!(qe=yield Ie.next()).done;)if(Me.next(qe.value),Me.closed)return}catch(W){Ze={error:W}}finally{try{qe&&!qe.done&&(re=Ie.return)&&(yield re.call(Ie))}finally{if(Ze)throw Ze.error}}Me.complete()})})(le,Me).catch(Ie=>Me.error(Ie))})}},6451:(Xe,Ee,k)=>{"use strict";k.d(Ee,{T:()=>pe});var u=k(8189),Q=k(8421),R=k(515),ae=k(3269),te=k(8996);function pe(...oe){const fe=(0,ae.yG)(oe),se=(0,ae._6)(oe,1/0),j=oe;return j.length?1===j.length?(0,Q.Xf)(j[0]):(0,u.J)(se)((0,te.D)(j,fe)):R.E}},5403:(Xe,Ee,k)=>{"use strict";k.d(Ee,{Q:()=>Q});var u=k(930);class Q extends u.Lv{constructor(ae,te,pe,oe,fe){super(ae),this.onFinalize=fe,this._next=te?function(se){try{te(se)}catch(j){ae.error(j)}}:super._next,this._error=oe?function(se){try{oe(se)}catch(j){ae.error(j)}finally{this.unsubscribe()}}:super._error,this._complete=pe?function(){try{pe()}catch(se){ae.error(se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;const{closed:te}=this;super.unsubscribe(),!te&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}},4004:(Xe,Ee,k)=>{"use strict";k.d(Ee,{U:()=>R});var u=k(4482),Q=k(5403);function R(ae,te){return(0,u.e)((pe,oe)=>{let fe=0;pe.subscribe(new Q.Q(oe,se=>{oe.next(ae.call(te,se,fe++))}))})}},8189:(Xe,Ee,k)=>{"use strict";k.d(Ee,{J:()=>R});var u=k(5577),Q=k(4671);function R(ae=1/0){return(0,u.z)(Q.y,ae)}},5577:(Xe,Ee,k)=>{"use strict";k.d(Ee,{z:()=>fe});var u=k(4004),Q=k(8421),R=k(4482),ae=k(9672),te=k(5403),oe=k(576);function fe(se,j,U=1/0){return(0,oe.m)(j)?fe((J,Ue)=>(0,u.U)((Te,xe)=>j(J,Te,Ue,xe))((0,Q.Xf)(se(J,Ue))),U):("number"==typeof j&&(U=j),(0,R.e)((J,Ue)=>function pe(se,j,U,J,Ue,Te,xe,Le){const z=[];let ee=0,ge=0,Ce=!1;const le=()=>{Ce&&!z.length&&!ee&&j.complete()},Me=qe=>ee<J?Ie(qe):z.push(qe),Ie=qe=>{Te&&j.next(qe),ee++;let Ze=!1;(0,Q.Xf)(U(qe,ge++)).subscribe(new te.Q(j,re=>{null==Ue||Ue(re),Te?Me(re):j.next(re)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(ee--;z.length&&ee<J;){const re=z.shift();xe?(0,ae.f)(j,xe,()=>Ie(re)):Ie(re)}le()}catch(re){j.error(re)}}))};return se.subscribe(new te.Q(j,Me,()=>{Ce=!0,le()})),()=>{null==Le||Le()}}(J,Ue,se,U)))}},5363:(Xe,Ee,k)=>{"use strict";k.d(Ee,{Q:()=>ae});var u=k(9672),Q=k(4482),R=k(5403);function ae(te,pe=0){return(0,Q.e)((oe,fe)=>{oe.subscribe(new R.Q(fe,se=>(0,u.f)(fe,te,()=>fe.next(se),pe),()=>(0,u.f)(fe,te,()=>fe.complete(),pe),se=>(0,u.f)(fe,te,()=>fe.error(se),pe)))})}},3099:(Xe,Ee,k)=>{"use strict";k.d(Ee,{B:()=>pe});var u=k(8996),Q=k(5698),R=k(7579),ae=k(930),te=k(4482);function pe(fe={}){const{connector:se=(()=>new R.x),resetOnError:j=!0,resetOnComplete:U=!0,resetOnRefCountZero:J=!0}=fe;return Ue=>{let Te=null,xe=null,Le=null,z=0,ee=!1,ge=!1;const Ce=()=>{null==xe||xe.unsubscribe(),xe=null},le=()=>{Ce(),Te=Le=null,ee=ge=!1},Me=()=>{const Ie=Te;le(),null==Ie||Ie.unsubscribe()};return(0,te.e)((Ie,qe)=>{z++,!ge&&!ee&&Ce();const Ze=Le=null!=Le?Le:se();qe.add(()=>{z--,0===z&&!ge&&!ee&&(xe=oe(Me,J))}),Ze.subscribe(qe),Te||(Te=new ae.Hp({next:re=>Ze.next(re),error:re=>{ge=!0,Ce(),xe=oe(le,j,re),Ze.error(re)},complete:()=>{ee=!0,Ce(),xe=oe(le,U),Ze.complete()}}),(0,u.D)(Ie).subscribe(Te))})(Ue)}}function oe(fe,se,...j){return!0===se?(fe(),null):!1===se?null:se(...j).pipe((0,Q.q)(1)).subscribe(()=>fe())}},9468:(Xe,Ee,k)=>{"use strict";k.d(Ee,{R:()=>Q});var u=k(4482);function Q(R,ae=0){return(0,u.e)((te,pe)=>{pe.add(R.schedule(()=>te.subscribe(pe),ae))})}},5698:(Xe,Ee,k)=>{"use strict";k.d(Ee,{q:()=>ae});var u=k(515),Q=k(4482),R=k(5403);function ae(te){return te<=0?()=>u.E:(0,Q.e)((pe,oe)=>{let fe=0;pe.subscribe(new R.Q(oe,se=>{++fe<=te&&(oe.next(se),te<=fe&&oe.complete())}))})}},8505:(Xe,Ee,k)=>{"use strict";k.d(Ee,{b:()=>te});var u=k(576),Q=k(4482),R=k(5403),ae=k(4671);function te(pe,oe,fe){const se=(0,u.m)(pe)||oe||fe?{next:pe,error:oe,complete:fe}:pe;return se?(0,Q.e)((j,U)=>{var J;null===(J=se.subscribe)||void 0===J||J.call(se);let Ue=!0;j.subscribe(new R.Q(U,Te=>{var xe;null===(xe=se.next)||void 0===xe||xe.call(se,Te),U.next(Te)},()=>{var Te;Ue=!1,null===(Te=se.complete)||void 0===Te||Te.call(se),U.complete()},Te=>{var xe;Ue=!1,null===(xe=se.error)||void 0===xe||xe.call(se,Te),U.error(Te)},()=>{var Te,xe;Ue&&(null===(Te=se.unsubscribe)||void 0===Te||Te.call(se)),null===(xe=se.finalize)||void 0===xe||xe.call(se)}))}):ae.y}},4408:(Xe,Ee,k)=>{"use strict";k.d(Ee,{o:()=>te});var u=k(727);class Q extends u.w0{constructor(oe,fe){super()}schedule(oe,fe=0){return this}}const R={setInterval(...pe){const{delegate:oe}=R;return((null==oe?void 0:oe.setInterval)||setInterval)(...pe)},clearInterval(pe){const{delegate:oe}=R;return((null==oe?void 0:oe.clearInterval)||clearInterval)(pe)},delegate:void 0};var ae=k(8737);class te extends Q{constructor(oe,fe){super(oe,fe),this.scheduler=oe,this.work=fe,this.pending=!1}schedule(oe,fe=0){if(this.closed)return this;this.state=oe;const se=this.id,j=this.scheduler;return null!=se&&(this.id=this.recycleAsyncId(j,se,fe)),this.pending=!0,this.delay=fe,this.id=this.id||this.requestAsyncId(j,this.id,fe),this}requestAsyncId(oe,fe,se=0){return R.setInterval(oe.flush.bind(oe,this),se)}recycleAsyncId(oe,fe,se=0){if(null!=se&&this.delay===se&&!1===this.pending)return fe;R.clearInterval(fe)}execute(oe,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const se=this._execute(oe,fe);if(se)return se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(oe,fe){let j,se=!1;try{this.work(oe)}catch(U){se=!0,j=U||new Error("Scheduled action threw falsy error")}if(se)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:oe,scheduler:fe}=this,{actions:se}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(se,this),null!=oe&&(this.id=this.recycleAsyncId(fe,oe,null)),this.delay=null,super.unsubscribe()}}}},7565:(Xe,Ee,k)=>{"use strict";k.d(Ee,{v:()=>R});var u=k(6063);class Q{constructor(te,pe=Q.now){this.schedulerActionCtor=te,this.now=pe}schedule(te,pe=0,oe){return new this.schedulerActionCtor(this,te).schedule(oe,pe)}}Q.now=u.l.now;class R extends Q{constructor(te,pe=Q.now){super(te,pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(te){const{actions:pe}=this;if(this._active)return void pe.push(te);let oe;this._active=!0;do{if(oe=te.execute(te.state,te.delay))break}while(te=pe.shift());if(this._active=!1,oe){for(;te=pe.shift();)te.unsubscribe();throw oe}}}},4986:(Xe,Ee,k)=>{"use strict";k.d(Ee,{z:()=>R,P:()=>ae});var u=k(4408);const R=new(k(7565).v)(u.o),ae=R},6063:(Xe,Ee,k)=>{"use strict";k.d(Ee,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(Xe,Ee,k)=>{"use strict";k.d(Ee,{z:()=>u});const u={setTimeout(...Q){const{delegate:R}=u;return((null==R?void 0:R.setTimeout)||setTimeout)(...Q)},clearTimeout(Q){const{delegate:R}=u;return((null==R?void 0:R.clearTimeout)||clearTimeout)(Q)},delegate:void 0}},2202:(Xe,Ee,k)=>{"use strict";k.d(Ee,{h:()=>Q});const Q=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Xe,Ee,k)=>{"use strict";k.d(Ee,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Xe,Ee,k)=>{"use strict";k.d(Ee,{jO:()=>ae,yG:()=>te,_6:()=>pe});var u=k(576),Q=k(3532);function R(oe){return oe[oe.length-1]}function ae(oe){return(0,u.m)(R(oe))?oe.pop():void 0}function te(oe){return(0,Q.K)(R(oe))?oe.pop():void 0}function pe(oe,fe){return"number"==typeof R(oe)?oe.pop():fe}},8737:(Xe,Ee,k)=>{"use strict";function u(Q,R){if(Q){const ae=Q.indexOf(R);0<=ae&&Q.splice(ae,1)}}k.d(Ee,{P:()=>u})},3888:(Xe,Ee,k)=>{"use strict";function u(Q){const ae=Q(te=>{Error.call(te),te.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}k.d(Ee,{d:()=>u})},2806:(Xe,Ee,k)=>{"use strict";k.d(Ee,{x:()=>R,O:()=>ae});var u=k(2416);let Q=null;function R(te){if(u.v.useDeprecatedSynchronousErrorHandling){const pe=!Q;if(pe&&(Q={errorThrown:!1,error:null}),te(),pe){const{errorThrown:oe,error:fe}=Q;if(Q=null,oe)throw fe}}else te()}function ae(te){u.v.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=te)}},9672:(Xe,Ee,k)=>{"use strict";function u(Q,R,ae,te=0,pe=!1){const oe=R.schedule(function(){ae(),pe?Q.add(this.schedule(null,te)):this.unsubscribe()},te);if(Q.add(oe),!pe)return oe}k.d(Ee,{f:()=>u})},4671:(Xe,Ee,k)=>{"use strict";function u(Q){return Q}k.d(Ee,{y:()=>u})},1144:(Xe,Ee,k)=>{"use strict";k.d(Ee,{z:()=>u});const u=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},2206:(Xe,Ee,k)=>{"use strict";k.d(Ee,{D:()=>Q});var u=k(576);function Q(R){return Symbol.asyncIterator&&(0,u.m)(null==R?void 0:R[Symbol.asyncIterator])}},576:(Xe,Ee,k)=>{"use strict";function u(Q){return"function"==typeof Q}k.d(Ee,{m:()=>u})},3670:(Xe,Ee,k)=>{"use strict";k.d(Ee,{c:()=>R});var u=k(8822),Q=k(576);function R(ae){return(0,Q.m)(ae[u.L])}},6495:(Xe,Ee,k)=>{"use strict";k.d(Ee,{T:()=>R});var u=k(2202),Q=k(576);function R(ae){return(0,Q.m)(null==ae?void 0:ae[u.h])}},8239:(Xe,Ee,k)=>{"use strict";k.d(Ee,{t:()=>Q});var u=k(576);function Q(R){return(0,u.m)(null==R?void 0:R.then)}},3260:(Xe,Ee,k)=>{"use strict";k.d(Ee,{Q:()=>R,L:()=>ae});var u=k(655),Q=k(576);function R(te){return(0,u.FC)(this,arguments,function*(){const oe=te.getReader();try{for(;;){const{value:fe,done:se}=yield(0,u.qq)(oe.read());if(se)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(fe)}}finally{oe.releaseLock()}})}function ae(te){return(0,Q.m)(null==te?void 0:te.getReader)}},3532:(Xe,Ee,k)=>{"use strict";k.d(Ee,{K:()=>Q});var u=k(576);function Q(R){return R&&(0,u.m)(R.schedule)}},4482:(Xe,Ee,k)=>{"use strict";k.d(Ee,{A:()=>Q,e:()=>R});var u=k(576);function Q(ae){return(0,u.m)(null==ae?void 0:ae.lift)}function R(ae){return te=>{if(Q(te))return te.lift(function(pe){try{return ae(pe,this)}catch(oe){this.error(oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Xe,Ee,k)=>{"use strict";function u(){}k.d(Ee,{Z:()=>u})},7849:(Xe,Ee,k)=>{"use strict";k.d(Ee,{h:()=>R});var u=k(2416),Q=k(3410);function R(ae){Q.z.setTimeout(()=>{const{onUnhandledError:te}=u.v;if(!te)throw ae;te(ae)})}},4532:(Xe,Ee,k)=>{"use strict";function u(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ee,{z:()=>u})},655:(Xe,Ee,k)=>{"use strict";function ae(W,ne){var me={};for(var ie in W)Object.prototype.hasOwnProperty.call(W,ie)&&ne.indexOf(ie)<0&&(me[ie]=W[ie]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var Oe=0;for(ie=Object.getOwnPropertySymbols(W);Oe<ie.length;Oe++)ne.indexOf(ie[Oe])<0&&Object.prototype.propertyIsEnumerable.call(W,ie[Oe])&&(me[ie[Oe]]=W[ie[Oe]])}return me}function fe(W,ne,me,ie){return new(me||(me=Promise))(function(ce,pt){function Lt(st){try{nt(ie.next(st))}catch(On){pt(On)}}function Dn(st){try{nt(ie.throw(st))}catch(On){pt(On)}}function nt(st){st.done?ce(st.value):function Oe(ce){return ce instanceof me?ce:new me(function(pt){pt(ce)})}(st.value).then(Lt,Dn)}nt((ie=ie.apply(W,ne||[])).next())})}function z(W){return this instanceof z?(this.v=W,this):new z(W)}function ee(W,ne,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,ie=me.apply(W,ne||[]),ce=[];return Oe={},pt("next"),pt("throw"),pt("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe;function pt(zt){ie[zt]&&(Oe[zt]=function(cr){return new Promise(function(Ht,ki){ce.push([zt,cr,Ht,ki])>1||Lt(zt,cr)})})}function Lt(zt,cr){try{!function Dn(zt){zt.value instanceof z?Promise.resolve(zt.value.v).then(nt,st):On(ce[0][2],zt)}(ie[zt](cr))}catch(Ht){On(ce[0][3],Ht)}}function nt(zt){Lt("next",zt)}function st(zt){Lt("throw",zt)}function On(zt,cr){zt(cr),ce.shift(),ce.length&&Lt(ce[0][0],ce[0][1])}}function Ce(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,ne=W[Symbol.asyncIterator];return ne?ne.call(W):(W=function J(W){var ne="function"==typeof Symbol&&Symbol.iterator,me=ne&&W[ne],ie=0;if(me)return me.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&ie>=W.length&&(W=void 0),{value:W&&W[ie++],done:!W}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),me={},ie("next"),ie("throw"),ie("return"),me[Symbol.asyncIterator]=function(){return this},me);function ie(ce){me[ce]=W[ce]&&function(pt){return new Promise(function(Lt,Dn){!function Oe(ce,pt,Lt,Dn){Promise.resolve(Dn).then(function(nt){ce({value:nt,done:Lt})},pt)}(Lt,Dn,(pt=W[ce](pt)).done,pt.value)})}}}k.d(Ee,{_T:()=>ae,mG:()=>fe,qq:()=>z,FC:()=>ee,KL:()=>Ce})},5e3:(Xe,Ee,k)=>{"use strict";k.d(Ee,{deG:()=>kh,tb:()=>Ab,AFp:()=>Um,ip1:()=>wc,CZH:()=>Ec,hGG:()=>h0,z2F:()=>mh,sBO:()=>Bb,Sil:()=>Yu,_Vd:()=>qu,EJc:()=>Gv,SBq:()=>pc,qLn:()=>tr,vpe:()=>Mt,L6J:()=>Ib,tBr:()=>Zi,XFs:()=>ut,OlP:()=>hn,zs3:()=>Mi,IIB:()=>$v,ZZ4:()=>Jm,aQg:()=>Ju,soG:()=>ii,YKP:()=>wv,h0i:()=>gc,PXZ:()=>Yv,R0b:()=>lr,FiY:()=>Sr,r_U:()=>bb,Lbi:()=>jm,g9A:()=>Db,Qsj:()=>ZE,FYo:()=>Es,JOm:()=>ue,tp0:()=>xr,Rgc:()=>Ka,dDg:()=>Cc,q4F:()=>yv,GfV:()=>oh,s_b:()=>lp,ifc:()=>Tt,eFA:()=>wp,G48:()=>_h,Gpc:()=>U,X6Q:()=>ET,_c5:()=>l0,VLi:()=>vT,c2e:()=>qv,zSh:()=>py,wAp:()=>dt,vHH:()=>xe,cg1:()=>Cm,kL8:()=>jf,dqk:()=>Nt,sIi:()=>Nd,CqO:()=>Ud,QGY:()=>om,F4k:()=>Ly,RDi:()=>rl,AaK:()=>fe,qOj:()=>_y,TTD:()=>xo,_Bn:()=>fc,xp6:()=>U_,uIk:()=>If,ekj:()=>$y,Suo:()=>fp,Xpm:()=>Qt,lG2:()=>tu,Yz7:()=>Ht,cJS:()=>Zt,oAB:()=>br,Yjl:()=>sa,Y36:()=>xf,_UZ:()=>Py,GkF:()=>Fy,BQk:()=>Vd,ynx:()=>nc,qZA:()=>tc,TgZ:()=>im,EpF:()=>sm,n5z:()=>Fo,LFG:()=>Be,$8M:()=>Lo,$Z:()=>aE,NdJ:()=>Mf,CRH:()=>Pv,oxw:()=>lE,ALo:()=>Fr,xi3:()=>tb,Hsn:()=>lm,F$t:()=>Nf,Q6J:()=>Ha,s9C:()=>cm,VKq:()=>Cv,WLB:()=>dh,kEZ:()=>Wa,l5B:()=>Iv,iGM:()=>cb,MAs:()=>Wg,evT:()=>M_,CHM:()=>ga,LSH:()=>Su,kYT:()=>ra,Udp:()=>mm,YNc:()=>Tf,W1O:()=>Vv,_uU:()=>mE,Oqu:()=>Wd,hij:()=>Hu,AsE:()=>Kd,lnq:()=>Lf,Gf:()=>db});var u=k(7579),Q=k(727),R=k(8306),ae=k(6451),te=k(3099);function pe(i){for(let s in i)if(i[s]===pe)return s;throw Error("Could not find renamed property on target object.")}function oe(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function fe(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(fe).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function se(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const j=pe({__forward_ref__:pe});function U(i){return i.__forward_ref__=U,i.toString=function(){return fe(this())},i}function J(i){return Ue(i)?i():i}function Ue(i){return"function"==typeof i&&i.hasOwnProperty(j)&&i.__forward_ref__===U}class xe extends Error{constructor(s,a){super(function Le(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function z(i){return"string"==typeof i?i:null==i?"":String(i)}function ee(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():z(i)}function Me(i,s){const a=s?` in ${s}`:"";throw new xe(-201,`No provider for ${ee(i)} found${a}`)}function nt(i,s){null==i&&function st(i,s,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function Ht(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Zt(i){return{providers:i.providers||[],imports:i.imports||[]}}function At(i){return Ji(i,Ri)||Ji(i,si)}function Ji(i,s){return i.hasOwnProperty(s)?i[s]:null}function Er(i){return i&&(i.hasOwnProperty(Ss)||i.hasOwnProperty(Pi))?i[Ss]:null}const Ri=pe({\u0275prov:pe}),Ss=pe({\u0275inj:pe}),si=pe({ngInjectableDef:pe}),Pi=pe({ngInjectorDef:pe});var ut=(()=>((ut=ut||{})[ut.Default=0]="Default",ut[ut.Host=1]="Host",ut[ut.Self=2]="Self",ut[ut.SkipSelf=4]="SkipSelf",ut[ut.Optional=8]="Optional",ut))();let jr;function _n(i){const s=jr;return jr=i,s}function Ys(i,s,a){const c=At(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&ut.Optional?null:void 0!==s?s:void Me(fe(i),"Injector")}function Ke(i){return{toString:i}.toString()}var It=(()=>((It=It||{})[It.OnPush=0]="OnPush",It[It.Default=1]="Default",It))(),Tt=(()=>{return(i=Tt||(Tt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Tt;var i})();const Ye="undefined"!=typeof globalThis&&globalThis,ot="undefined"!=typeof window&&window,Ei="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Nt=Ye||"undefined"!=typeof global&&global||ot||Ei,oi={},L=[],H=pe({\u0275cmp:pe}),$=pe({\u0275dir:pe}),ve=pe({\u0275pipe:pe}),X=pe({\u0275mod:pe}),$e=pe({\u0275fac:pe}),lt=pe({__NG_ELEMENT_ID__:pe});let Wt=0;function Qt(i){return Ke(()=>{const a={},c={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===It.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||L,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Tt.Emulated,id:"c",styles:i.styles||L,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,p=i.features,y=i.pipes;return c.id+=Wt++,c.inputs=ia(i.inputs,a),c.outputs=ia(i.outputs),p&&p.forEach(w=>w(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(Zr):null,c.pipeDefs=y?()=>("function"==typeof y?y():y).map(bt):null,c})}function Zr(i){return Rn(i)||function Cr(i){return i[$]||null}(i)}function bt(i){return function es(i){return i[ve]||null}(i)}const kn={};function br(i){return Ke(()=>{const s={type:i.type,bootstrap:i.bootstrap||L,declarations:i.declarations||L,imports:i.imports||L,exports:i.exports||L,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(kn[i.id]=i.type),s})}function ra(i,s){return Ke(()=>{const a=Pn(i,!0);a.declarations=s.declarations||L,a.imports=s.imports||L,a.exports=s.exports||L})}function ia(i,s){if(null==i)return oi;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=c,s&&(s[d]=p)}return a}const tu=Qt;function sa(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Rn(i){return i[H]||null}function Pn(i,s){const a=i[X]||null;if(!a&&!0===s)throw new Error(`Type ${fe(i)} does not have '\u0275mod' property.`);return a}function bi(i){return Array.isArray(i)&&"object"==typeof i[1]}function ai(i){return Array.isArray(i)&&!0===i[1]}function Oc(i){return 0!=(8&i.flags)}function nu(i){return 2==(2&i.flags)}function Ns(i){return 1==(1&i.flags)}function ui(i){return null!==i.template}function Th(i){return 0!=(512&i[2])}function li(i,s){return i.hasOwnProperty($e)?i[$e]:null}class no{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function xo(){return Mo}function Mo(i){return i.type.prototype.ngOnChanges&&(i.setInput=Wp),Fc}function Fc(){const i=Lc(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===oi)i.previous=s;else for(let c in s)a[c]=s[c];i.current=null,this.ngOnChanges(s)}}function Wp(i,s,a,c){const d=Lc(i)||function os(i,s){return i[ss]=s}(i,{previous:oi,current:null}),p=d.current||(d.current={}),y=d.previous,w=this.declaredInputs[a],b=y[w];p[w]=new no(b&&b.currentValue,s,y===oi),i[c]=s}xo.ngInherit=!0;const ss="__ngSimpleChanges__";function Lc(i){return i[ss]||null}let au;function rl(i){au=i}function Kt(i){return!!i.listen}const la={createRenderer:(i,s)=>function as(){return void 0!==au?au:"undefined"!=typeof document?document:void 0}()};function qt(i){for(;Array.isArray(i);)i=i[0];return i}function ro(i,s){return qt(s[i])}function $n(i,s){return qt(s[i.index])}function ln(i,s){return i.data[s]}function us(i,s){return i[s]}function qn(i,s){const a=s[i];return bi(a)?a:a[0]}function Oo(i){return 4==(4&i[2])}function Fi(i){return 128==(128&i[2])}function Gr(i,s){return null==s?null:i[s]}function Ps(i){i[18]=0}function Fs(i,s){i[5]+=s;let a=i,c=i[3];for(;null!==c&&(1===s&&1===a[5]||-1===s&&0===a[5]);)c[5]+=s,a=c,c=c[3]}const at={lFrame:oo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ol(){return at.bindingsEnabled}function be(){return at.lFrame.lView}function Dt(){return at.lFrame.tView}function ga(i){return at.lFrame.contextLView=i,i[8]}function cn(){let i=Ls();for(;null!==i&&64===i.type;)i=i.parent;return i}function Ls(){return at.lFrame.currentTNode}function Tr(i,s){const a=at.lFrame;a.currentTNode=i,a.isParent=s}function al(){return at.lFrame.isParent}function ul(){at.lFrame.isParent=!1}function _a(){return at.isInCheckNoChangesMode}function No(i){at.isInCheckNoChangesMode=i}function Fn(){const i=at.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Ci(){return at.lFrame.bindingIndex}function Li(){return at.lFrame.bindingIndex++}function ls(i){const s=at.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function va(i,s){const a=at.lFrame;a.bindingIndex=a.bindingRootIndex=i,io(s)}function io(i){at.lFrame.currentDirectiveIndex=i}function wa(){return at.lFrame.currentQueryIndex}function dl(i){at.lFrame.currentQueryIndex=i}function Kp(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function cu(i,s,a){if(a&ut.SkipSelf){let d=s,p=i;for(;!(d=d.parent,null!==d||a&ut.Host||(d=Kp(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;s=d,i=p}const c=at.lFrame=hl();return c.currentTNode=s,c.lView=i,!0}function so(i){const s=hl(),a=i[1];at.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function hl(){const i=at.lFrame,s=null===i?null:i.child;return null===s?oo(i):s}function oo(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Gc(){const i=at.lFrame;return at.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Sh=Gc;function ko(){const i=Gc();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Gn(){return at.lFrame.selectedIndex}function cs(i){at.lFrame.selectedIndex=i}function dn(){const i=at.lFrame;return ln(i.tView,i.selectedIndex)}function ds(i,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:b,ngAfterViewChecked:D,ngOnDestroy:S}=p;y&&(i.contentHooks||(i.contentHooks=[])).push(-a,y),w&&((i.contentHooks||(i.contentHooks=[])).push(a,w),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,w)),b&&(i.viewHooks||(i.viewHooks=[])).push(-a,b),D&&((i.viewHooks||(i.viewHooks=[])).push(a,D),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,D)),null!=S&&(i.destroyHooks||(i.destroyHooks=[])).push(a,S)}}function Ea(i,s,a){zn(i,s,3,a)}function pl(i,s,a,c){(3&i[2])===a&&zn(i,s,a,c)}function du(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function zn(i,s,a,c){const p=null!=c?c:-1,y=s.length-1;let w=0;for(let b=void 0!==c?65535&i[18]:0;b<y;b++)if("number"==typeof s[b+1]){if(w=s[b],null!=c&&w>=c)break}else s[b]<0&&(i[18]+=65536),(w<p||-1==p)&&(Oh(i,a,s,b),i[18]=(4294901760&i[18])+b+2),b++}function Oh(i,s,a,c){const d=a[c]<0,p=a[c+1],w=i[d?-a[c]:a[c]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class Ro{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function We(i,s,a){const c=Kt(i);let d=0;for(;d<a.length;){const p=a[d];if("number"==typeof p){if(0!==p)break;d++;const y=a[d++],w=a[d++],b=a[d++];c?i.setAttribute(s,w,b,y):s.setAttributeNS(y,w,b)}else{const y=p,w=a[++d];zr(y)?c&&i.setProperty(s,y,w):c?i.setAttribute(s,y,w):s.setAttribute(y,w),d++}}return d}function wn(i){return 3===i||4===i||6===i}function zr(i){return 64===i.charCodeAt(0)}function Ln(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const d=s[c];"number"==typeof d?a=d:0===a||ao(i,a,d,null,-1===a||2===a?s[++c]:null)}}return i}function ao(i,s,a,c,d){let p=0,y=i.length;if(-1===s)y=-1;else for(;p<i.length;){const w=i[p++];if("number"==typeof w){if(w===s){y=-1;break}if(w>s){y=p-1;break}}}for(;p<i.length;){const w=i[p];if("number"==typeof w)break;if(w===a){if(null===c)return void(null!==d&&(i[p+1]=d));if(c===i[p+1])return void(i[p+2]=d)}p++,null!==c&&p++,null!==d&&p++}-1!==y&&(i.splice(y,0,s),p=y+1),i.splice(p++,0,a),null!==c&&i.splice(p++,0,c),null!==d&&i.splice(p++,0,d)}function Wc(i){return-1!==i}function nn(i){return 32767&i}function fs(i,s){let a=function gl(i){return i>>16}(i),c=s;for(;a>0;)c=c[15],a--;return c}let Ia=!0;function Ii(i){const s=Ia;return Ia=i,s}let _l=0;function Jt(i,s){const a=Us(i,s);if(-1!==a)return a;const c=s[1];c.firstCreatePass&&(i.injectorIndex=s.length,uo(c.data,i),uo(s,null),uo(c.blueprint,null));const d=fu(i,s),p=i.injectorIndex;if(Wc(d)){const y=nn(d),w=fs(d,s),b=w[1].data;for(let D=0;D<8;D++)s[p+D]=w[y+D]|b[y+D]}return s[p+8]=d,p}function uo(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Us(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function fu(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=s;for(;null!==d;){const p=d[1],y=p.type;if(c=2===y?p.declTNode:1===y?d[6]:null,null===c)return-1;if(a++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function pr(i,s,a){!function Ta(i,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(lt)&&(c=a[lt]),null==c&&(c=a[lt]=_l++);const d=255&c;s.data[i+(d>>5)]|=1<<d}(i,s,a)}function Bs(i,s,a){if(a&ut.Optional)return i;Me(s,"NodeInjector")}function js(i,s,a,c){if(a&ut.Optional&&void 0===c&&(c=null),0==(a&(ut.Self|ut.Host))){const d=i[9],p=_n(void 0);try{return d?d.get(s,c,a&ut.Optional):Ys(s,c,a&ut.Optional)}finally{_n(p)}}return Bs(c,s,a)}function Da(i,s,a,c=ut.Default,d){if(null!==i){const p=function Xn(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(lt)?i[lt]:void 0;return"number"==typeof s?s>=0?255&s:Ti:s}(a);if("function"==typeof p){if(!cu(s,i,c))return c&ut.Host?Bs(d,a,c):js(s,a,c,d);try{const y=p(c);if(null!=y||c&ut.Optional)return y;Me(a)}finally{Sh()}}else if("number"==typeof p){let y=null,w=Us(i,s),b=-1,D=c&ut.Host?s[16][6]:null;for((-1===w||c&ut.SkipSelf)&&(b=-1===w?fu(i,s):s[w+8],-1!==b&&gu(c,!1)?(y=s[1],w=nn(b),s=fs(b,s)):w=-1);-1!==w;){const S=s[1];if(vl(p,w,S.data)){const P=pu(w,s,a,y,c,D);if(P!==Po)return P}b=s[w+8],-1!==b&&gu(c,s[1].data[w+8]===D)&&vl(p,w,s)?(y=S,w=nn(b),s=fs(b,s)):w=-1}}}return js(s,a,c,d)}const Po={};function Ti(){return new sn(cn(),be())}function pu(i,s,a,c,d,p){const y=s[1],w=y.data[i+8],S=lo(w,y,a,null==c?nu(w)&&Ia:c!=y&&0!=(3&w.type),d&ut.Host&&p===w);return null!==S?di(s,y,S,w):Po}function lo(i,s,a,c,d){const p=i.providerIndexes,y=s.data,w=1048575&p,b=i.directiveStart,S=p>>20,B=d?w+S:i.directiveEnd;for(let K=c?w:w+S;K<B;K++){const _e=y[K];if(K<b&&a===_e||K>=b&&_e.type===a)return K}if(d){const K=y[b];if(K&&ui(K)&&K.type===a)return b}return null}function di(i,s,a,c){let d=i[a];const p=s.data;if(function Yp(i){return i instanceof Ro}(d)){const y=d;y.resolving&&function ge(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new xe(-200,`Circular dependency in DI detected for ${i}${a}`)}(ee(p[a]));const w=Ii(y.canSeeViewProviders);y.resolving=!0;const b=y.injectImpl?_n(y.injectImpl):null;cu(i,c,ut.Default);try{d=i[a]=y.factory(void 0,p,i,c),s.firstCreatePass&&a>=c.directiveStart&&function fl(i,s,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:p}=s.type.prototype;if(c){const y=Mo(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,y)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,p))}(a,p[a],s)}finally{null!==b&&_n(b),Ii(w),y.resolving=!1,Sh()}}return d}function vl(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function gu(i,s){return!(i&ut.Self||i&ut.Host&&s)}class sn{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return Da(this._tNode,this._lView,s,c,a)}}function Fo(i){return Ke(()=>{const s=i.prototype.constructor,a=s[$e]||Hs(s),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const p=d[$e]||Hs(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function Hs(i){return Ue(i)?()=>{const s=Hs(J(i));return s&&s()}:li(i)}function Lo(i){return function yl(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const p=a[d];if(wn(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(p===s)return a[d+1];d+=2}}}return null}(cn(),i)}const Vn="__parameters__",er="__prop__metadata__";function Bi(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}function Di(i,s,a){return Ke(()=>{const c=Bi(s);function d(...p){if(this instanceof d)return c.apply(this,p),this;const y=new d(...p);return w.annotation=y,w;function w(b,D,S){const P=b.hasOwnProperty(Vn)?b[Vn]:Object.defineProperty(b,Vn,{value:[]})[Vn];for(;P.length<=S;)P.push(null);return(P[S]=P[S]||[]).push(y),b}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}function co(i,s,a,c){return Ke(()=>{const d=Bi(s);function p(...y){if(this instanceof p)return d.apply(this,y),this;const w=new p(...y);return function b(D,S){const P=D.constructor,B=P.hasOwnProperty(er)?P[er]:Object.defineProperty(P,er,{value:{}})[er];B[S]=B.hasOwnProperty(S)&&B[S]||[],B[S].unshift(w),c&&c(D,S,...y)}}return a&&(p.prototype=Object.create(a.prototype)),p.prototype.ngMetadataName=i,p.annotationCls=p,p})}class hn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Ht({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const kh=new hn("AnalyzeForEntryComponents");function gr(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let c=i[a];Array.isArray(c)?(s===i&&(s=i.slice(0,a)),gr(c,s)):s!==i&&s.push(c)}return s}function Wr(i,s){i.forEach(a=>Array.isArray(a)?Wr(a,s):s(a))}function bl(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Vo(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function ji(i,s){const a=[];for(let c=0;c<i;c++)a.push(s);return a}function Ar(i,s,a){let c=Sa(i,s);return c>=0?i[1|c]=a:(c=~c,function yu(i,s,a,c){let d=i.length;if(d==s)i.push(a,c);else if(1===d)i.push(c,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=c}}(i,c,s,a)),c}function vu(i,s){const a=Sa(i,s);if(a>=0)return i[1|a]}function Sa(i,s){return function Xc(i,s,a){let c=0,d=i.length>>a;for(;d!==c;){const p=c+(d-c>>1),y=i[p<<a];if(s===y)return p<<a;y>s?d=p:c=p+1}return~(d<<a)}(i,s,1)}const gs={},Bo="__NG_DI_FLAG__",bu="ngTempTokenPath",C=/\n/gm,x="__source",F=pe({provide:String,useValue:pe});let G;function Y(i){const s=G;return G=i,s}function De(i,s=ut.Default){if(void 0===G)throw new xe(203,"");return null===G?Ys(i,void 0,s):G.get(i,s&ut.Optional?null:void 0,s)}function Be(i,s=ut.Default){return(function Nn(){return jr}()||De)(J(i),s)}function Bt(i){const s=[];for(let a=0;a<i.length;a++){const c=J(i[a]);if(Array.isArray(c)){if(0===c.length)throw new xe(900,"");let d,p=ut.Default;for(let y=0;y<c.length;y++){const w=c[y],b=mr(w);"number"==typeof b?-1===b?d=w.token:p|=b:d=w}s.push(Be(d,p))}else s.push(Be(c))}return s}function bn(i,s){return i[Bo]=s,i.prototype[Bo]=s,i}function mr(i){return i[Bo]}const Zi=bn(Di("Inject",i=>({token:i})),-1),Sr=bn(Di("Optional"),8),xr=bn(Di("SkipSelf"),4);class od{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function xi(i){return i instanceof od?i.changingThisBreaksApplicationSecurity:i}const Ma=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,b_=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Sn=(()=>((Sn=Sn||{})[Sn.NONE=0]="NONE",Sn[Sn.HTML=1]="HTML",Sn[Sn.STYLE=2]="STYLE",Sn[Sn.SCRIPT=3]="SCRIPT",Sn[Sn.URL=4]="URL",Sn[Sn.RESOURCE_URL=5]="RESOURCE_URL",Sn))();function Su(i){const s=function xu(){const i=be();return i&&i[12]}();return s?s.sanitize(Sn.URL,i)||"":function po(i,s){const a=function ad(i){return i instanceof od&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?xi(i):function Oa(i){return(i=String(i)).match(Ma)||i.match(b_)?i:"unsafe:"+i}(z(i))}const Jh="__ngContext__";function Mr(i,s){i[Jh]=s}function Xh(i){const s=function Na(i){return i[Jh]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function tf(i){return i.ngOriginalError}function lg(i,...s){i.error(...s)}class tr{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),c=function D_(i){return i&&i.ngErrorLogger||lg}(s);c(this._console,"ERROR",s),a&&c(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&tf(s);for(;a&&tf(a);)a=tf(a);return a||null}}const dg=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Nt))();function M_(i){return i.ownerDocument}function g(i){return i instanceof Function?i():i}var ue=(()=>((ue=ue||{})[ue.Important=1]="Important",ue[ue.DashCase=2]="DashCase",ue))();function Qe(i,s){return undefined(i,s)}function gn(i){const s=i[3];return ai(s)?s[3]:s}function jl(i){return of(i[13])}function Hl(i){return of(i[4])}function of(i){for(;null!==i&&!ai(i);)i=i[4];return i}function $o(i,s,a,c,d){if(null!=c){let p,y=!1;ai(c)?p=c:bi(c)&&(y=!0,c=c[0]);const w=qt(c);0===i&&null!==a?null==d?j0(s,a,w):Ru(s,a,w,d||null,!0):1===i&&null!==a?Ru(s,a,w,d||null,!0):2===i?function W0(i,s,a){const c=gg(i,s);c&&function Z0(i,s,a,c){Kt(i)?i.removeChild(s,a,c):s.removeChild(a)}(i,c,s,a)}(s,w,y):3===i&&s.destroyNode(w),null!=p&&function $l(i,s,a,c,d){const p=a[7];p!==qt(a)&&$o(s,i,c,p,d);for(let w=10;w<a.length;w++){const b=a[w];Cd(b[1],b,i,s,c,p)}}(s,i,p,a,d)}}function Or(i,s,a){if(Kt(i))return i.createElement(s,a);{const c=null!==a?function ou(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(a):null;return null===c?i.createElement(s):i.createElementNS(c,s)}}function V0(i,s){const a=i[9],c=a.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,Fs(d,-1)),a.splice(c,1)}function fg(i,s){if(i.length<=10)return;const a=10+s,c=i[a];if(c){const d=c[17];null!==d&&d!==i&&V0(d,c),s>0&&(i[a-1][4]=c[4]);const p=Vo(i,10+s);!function N_(i,s){Cd(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const y=p[19];null!==y&&y.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function U0(i,s){if(!(256&s[2])){const a=s[11];Kt(a)&&a.destroyNode&&Cd(i,s,a,3,null,null),function k_(i){let s=i[13];if(!s)return pg(i[1],i);for(;s;){let a=null;if(bi(s))a=s[13];else{const c=s[10];c&&(a=c)}if(!a){for(;s&&!s[4]&&s!==i;)bi(s)&&pg(s[1],s),s=s[3];null===s&&(s=i),bi(s)&&pg(s[1],s),a=s&&s[4]}s=a}}(s)}}function pg(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function R_(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=s[a[c]];if(!(d instanceof Ro)){const p=a[c+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=d[p[y]],b=p[y+1];try{b.call(w)}finally{}}else try{p.call(d)}finally{}}}}(i,s),function B0(i,s){const a=i.cleanup,c=s[7];let d=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+1],w="function"==typeof y?y(s):qt(s[y]),b=c[d=a[p+2]],D=a[p+3];"boolean"==typeof D?w.removeEventListener(a[p],b,D):D>=0?c[d=D]():c[d=-D].unsubscribe(),p+=2}else{const y=c[d=a[p+1]];a[p].call(y)}if(null!==c){for(let p=d+1;p<c.length;p++)c[p]();s[7]=null}}(i,s),1===s[1].type&&Kt(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&ai(s[3])){a!==s[3]&&V0(a,s);const c=s[19];null!==c&&c.detachView(i)}}}function FC(i,s,a){return function ku(i,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[0];if(2&c.flags){const d=i.data[c.directiveStart].encapsulation;if(d===Tt.None||d===Tt.Emulated)return null}return $n(c,a)}(i,s.parent,a)}function Ru(i,s,a,c,d){Kt(i)?i.insertBefore(s,a,c,d):s.insertBefore(a,c,d)}function j0(i,s,a){Kt(i)?i.appendChild(s,a):s.appendChild(a)}function H0(i,s,a,c,d){null!==c?Ru(i,s,a,c,d):j0(i,s,a)}function gg(i,s){return Kt(i)?i.parentNode(s):s.parentNode}function $0(i,s,a){return q0(i,s,a)}let q0=function P_(i,s,a){return 40&i.type?$n(i,a):null};function bd(i,s,a,c){const d=FC(i,c,s),p=s[11],w=$0(c.parent||s[6],c,s);if(null!=d)if(Array.isArray(a))for(let b=0;b<a.length;b++)H0(p,d,a[b],w,!1);else H0(p,d,a,w,!1)}function mg(i,s){if(null!==s){const a=s.type;if(3&a)return $n(s,i);if(4&a)return _g(-1,i[s.index]);if(8&a){const c=s.child;if(null!==c)return mg(i,c);{const d=i[s.index];return ai(d)?_g(-1,d):qt(d)}}if(32&a)return Qe(s,i)()||qt(i[s.index]);{const c=z0(i,s);return null!==c?Array.isArray(c)?c[0]:mg(gn(i[16]),c):mg(i,s.next)}}return null}function z0(i,s){return null!==s?i[16][6].projection[s.projection]:null}function _g(i,s){const a=10+i+1;if(a<s.length){const c=s[a],d=c[1].firstChild;if(null!==d)return mg(c,d)}return s[7]}function K0(i,s,a,c,d,p,y){for(;null!=a;){const w=c[a.index],b=a.type;if(y&&0===s&&(w&&Mr(qt(w),c),a.flags|=4),64!=(64&a.flags))if(8&b)K0(i,s,a.child,c,d,p,!1),$o(s,i,d,w,p);else if(32&b){const D=Qe(a,c);let S;for(;S=D();)$o(s,i,d,S,p);$o(s,i,d,w,p)}else 16&b?L_(i,s,c,a,d,p):$o(s,i,d,w,p);a=y?a.projectionNext:a.next}}function Cd(i,s,a,c,d,p){K0(a,c,i.firstChild,s,d,p,!1)}function L_(i,s,a,c,d,p){const y=a[16],b=y[6].projection[c.projection];if(Array.isArray(b))for(let D=0;D<b.length;D++)$o(s,i,d,b[D],p);else K0(i,s,b,y[3],d,p,!0)}function Y0(i,s,a){Kt(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function lf(i,s,a){Kt(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function Q0(i,s,a){let c=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const p=s.length;if(d+p===c||i.charCodeAt(d+p)<=32)return d}a=d+1}}const J0="ng-template";function cf(i,s,a){let c=0;for(;c<i.length;){let d=i[c++];if(a&&"class"===d){if(d=i[c],-1!==Q0(d.toLowerCase(),s,0))return!0}else if(1===d){for(;c<i.length&&"string"==typeof(d=i[c++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function Ra(i){return 4===i.type&&i.value!==J0}function X0(i,s,a){return s===(4!==i.type||a?i.value:J0)}function hi(i,s,a){let c=4;const d=i.attrs||[],p=function tw(i){for(let s=0;s<i.length;s++)if(wn(i[s]))return s;return i.length}(d);let y=!1;for(let w=0;w<s.length;w++){const b=s[w];if("number"!=typeof b){if(!y)if(4&c){if(c=2|1&c,""!==b&&!X0(i,b,a)||""===b&&1===s.length){if(Nr(c))return!1;y=!0}}else{const D=8&c?b:s[++w];if(8&c&&null!==i.attrs){if(!cf(i.attrs,D,a)){if(Nr(c))return!1;y=!0}continue}const P=UC(8&c?"class":b,d,Ra(i),a);if(-1===P){if(Nr(c))return!1;y=!0;continue}if(""!==D){let B;B=P>p?"":d[P+1].toLowerCase();const K=8&c?B:null;if(K&&-1!==Q0(K,D,0)||2&c&&D!==B){if(Nr(c))return!1;y=!0}}}}else{if(!y&&!Nr(c)&&!Nr(b))return!1;if(y&&Nr(b))continue;y=!1,c=b|1&c}}return Nr(c)||y}function Nr(i){return 0==(1&i)}function UC(i,s,a,c){if(null===s)return-1;let d=0;if(c||!a){let p=!1;for(;d<s.length;){const y=s[d];if(y===i)return d;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=s[++d];for(;"string"==typeof w;)w=s[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=p?1:2}return-1}return function nw(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,i)}function Pu(i,s,a=!1){for(let c=0;c<s.length;c++)if(hi(i,s[c],a))return!0;return!1}function rw(i,s){e:for(let a=0;a<s.length;a++){const c=s[a];if(i.length===c.length){for(let d=0;d<i.length;d++)if(i[d]!==c[d])continue e;return!0}}return!1}function V_(i,s){return i?":not("+s.trim()+")":s}function iw(i){let s=i[0],a=1,c=2,d="",p=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&c){const w=i[++a];d+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&c?d+="."+y:4&c&&(d+=" "+y);else""!==d&&!Nr(y)&&(s+=V_(p,d),d=""),c=y,p=p||!Nr(c);a++}return""!==d&&(s+=V_(p,d)),s}const mt={};function U_(i){B_(Dt(),be(),Gn()+i,_a())}function B_(i,s,a,c){if(!c)if(3==(3&s[2])){const p=i.preOrderCheckHooks;null!==p&&Ea(s,p,a)}else{const p=i.preOrderHooks;null!==p&&pl(s,p,0,a)}cs(a)}function df(i,s){return i<<17|s<<2}function _o(i){return i>>17&32767}function hf(i){return 2|i}function qo(i){return(131068&i)>>2}function ff(i,s){return-131069&i|s<<2}function yg(i){return 1|i}function Ig(i,s){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const d=a[c],p=a[c+1];if(-1!==p){const y=i.data[p];dl(d),y.contentQueries(2,s[p],p)}}}function ql(i,s,a,c,d,p,y,w,b,D){const S=s.blueprint.slice();return S[0]=d,S[2]=140|c,Ps(S),S[3]=S[15]=i,S[8]=a,S[10]=y||i&&i[10],S[11]=w||i&&i[11],S[12]=b||i&&i[12]||null,S[9]=D||i&&i[9]||null,S[6]=p,S[16]=2==s.type?i[16]:S,S}function Pa(i,s,a,c,d){let p=i.data[s];if(null===p)p=function mw(i,s,a,c,d){const p=Ls(),y=al(),b=i.data[s]=function yw(i,s,a,c,d,p){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,s,c,d);return null===i.firstChild&&(i.firstChild=b),null!==p&&(y?null==p.child&&null!==b.parent&&(p.child=b):null===p.next&&(p.next=b)),b}(i,s,a,c,d),function ya(){return at.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=c,p.attrs=d;const y=function ma(){const i=at.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Tr(p,!0),p}function Lu(i,s,a,c){if(0===a)return-1;const d=s.length;for(let p=0;p<a;p++)s.push(c),i.blueprint.push(c),i.data.push(null);return d}function Fa(i,s,a){so(s);try{const c=i.viewQuery;null!==c&&Rg(1,c,a);const d=i.template;null!==d&&Ad(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Ig(i,s),i.staticViewQueries&&Rg(2,i.viewQuery,a);const p=i.components;null!==p&&function gw(i,s){for(let a=0;a<s.length;a++)uy(i,s[a])}(s,p)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[2]&=-5,ko()}}function La(i,s,a,c){const d=s[2];if(256==(256&d))return;so(s);const p=_a();try{Ps(s),function ll(i){return at.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Ad(i,s,a,2,c);const y=3==(3&d);if(!p)if(y){const D=i.preOrderCheckHooks;null!==D&&Ea(s,D,null)}else{const D=i.preOrderHooks;null!==D&&pl(s,D,0,null),du(s,0)}if(function nI(i){for(let s=jl(i);null!==s;s=Hl(s)){if(!s[2])continue;const a=s[9];for(let c=0;c<a.length;c++){const d=a[c],p=d[3];0==(1024&d[2])&&Fs(p,1),d[2]|=1024}}}(s),function Sw(i){for(let s=jl(i);null!==s;s=Hl(s))for(let a=10;a<s.length;a++){const c=s[a],d=c[1];Fi(c)&&La(d,c,d.template,c[8])}}(s),null!==i.contentQueries&&Ig(i,s),!p)if(y){const D=i.contentCheckHooks;null!==D&&Ea(s,D)}else{const D=i.contentHooks;null!==D&&pl(s,D,1),du(s,1)}!function zC(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const d=a[c];if(d<0)cs(~d);else{const p=d,y=a[++c],w=a[++c];va(y,p),w(2,s[p])}}}finally{cs(-1)}}(i,s);const w=i.components;null!==w&&function WC(i,s){for(let a=0;a<s.length;a++)Og(i,s[a])}(s,w);const b=i.viewQuery;if(null!==b&&Rg(2,b,c),!p)if(y){const D=i.viewCheckHooks;null!==D&&Ea(s,D)}else{const D=i.viewHooks;null!==D&&pl(s,D,2),du(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),p||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Fs(s[3],-1))}finally{ko()}}function Dd(i,s,a,c){const d=s[10],p=!_a(),y=Oo(s);try{p&&!y&&d.begin&&d.begin(),y&&Fa(i,s,c),La(i,s,a,c)}finally{p&&!y&&d.end&&d.end()}}function Ad(i,s,a,c,d){const p=Gn(),y=2&c;try{cs(-1),y&&s.length>20&&B_(i,s,20,_a()),a(c,d)}finally{cs(p)}}function _w(i,s,a){if(Oc(s)){const d=s.directiveEnd;for(let p=s.directiveStart;p<d;p++){const y=i.data[p];y.contentQueries&&y.contentQueries(1,a[p],p)}}}function mf(i,s,a){!ol()||(function bw(i,s,a,c){const d=a.directiveStart,p=a.directiveEnd;i.firstCreatePass||Jt(a,s),Mr(c,s);const y=a.initialInputs;for(let w=d;w<p;w++){const b=i.data[w],D=ui(b);D&&Iw(s,a,b);const S=di(s,i,w,a);Mr(S,s),null!==y&&tI(0,w-d,S,b,0,y),D&&(qn(a.index,s)[8]=S)}}(i,s,a,$n(a,s)),128==(128&a.flags)&&function JC(i,s,a){const c=a.directiveStart,d=a.directiveEnd,y=a.index,w=function qc(){return at.lFrame.currentDirectiveIndex}();try{cs(y);for(let b=c;b<d;b++){const D=i.data[b],S=s[b];io(b),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&ry(D,S)}}finally{cs(-1),io(w)}}(i,s,a))}function Tg(i,s,a=$n){const c=s.localNames;if(null!==c){let d=s.index+1;for(let p=0;p<c.length;p+=2){const y=c[p+1],w=-1===y?a(s,i):i[y];i[d++]=w}}}function Dg(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=_f(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function _f(i,s,a,c,d,p,y,w,b,D){const S=20+c,P=S+d,B=function Ag(i,s){const a=[];for(let c=0;c<s;c++)a.push(c<i?null:mt);return a}(S,P),K="function"==typeof D?D():D;return B[1]={type:i,blueprint:B,template:a,queries:null,viewQuery:w,declTNode:s,data:B.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:b,consts:K,incompleteFirstPass:!1}}function J_(i,s,a,c){const d=Mw(s);null===a?d.push(c):(d.push(a),i.firstCreatePass&&oI(i).push(c,d.length-1))}function X_(i,s,a){for(let c in i)if(i.hasOwnProperty(c)){const d=i[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(s,d):a[c]=[s,d]}return a}function fi(i,s,a,c,d,p,y,w){const b=$n(s,a);let S,D=s.inputs;!w&&null!=D&&(S=D[c])?(hy(i,a,S,c,d),nu(s)&&function vw(i,s){const a=qn(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(c=function ty(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=y?y(d,s.value||"",c):d,Kt(p)?p.setProperty(b,c,d):zr(c)||(b.setProperty?b.setProperty(c,d):b[c]=d))}function Ew(i,s,a,c){let d=!1;if(ol()){const p=function iy(i,s,a){const c=i.directiveRegistry;let d=null;if(c)for(let p=0;p<c.length;p++){const y=c[p];Pu(a,y.selectors,!1)&&(d||(d=[]),pr(Jt(a,s),i,y.type),ui(y)?(sy(i,a),d.unshift(y)):d.push(y))}return d}(i,s,a),y=null===c?null:{"":-1};if(null!==p){d=!0,Cw(a,i.data.length,p.length);for(let S=0;S<p.length;S++){const P=p[S];P.providersResolver&&P.providersResolver(P)}let w=!1,b=!1,D=Lu(i,s,p.length,null);for(let S=0;S<p.length;S++){const P=p[S];a.mergedAttrs=Ln(a.mergedAttrs,P.hostAttrs),eI(i,a,s,D,P),oy(D,P,y),null!==P.contentQueries&&(a.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=128);const B=P.type.prototype;!w&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),w=!0),!b&&(B.ngOnChanges||B.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),b=!0),D++}!function ey(i,s){const c=s.directiveEnd,d=i.data,p=s.attrs,y=[];let w=null,b=null;for(let D=s.directiveStart;D<c;D++){const S=d[D],P=S.inputs,B=null===p||Ra(s)?null:Tw(P,p);y.push(B),w=X_(P,D,w),b=X_(S.outputs,D,b)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=16),w.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=w,s.outputs=b}(i,a)}y&&function XC(i,s,a){if(s){const c=i.localNames=[];for(let d=0;d<s.length;d+=2){const p=a[s[d+1]];if(null==p)throw new xe(-301,!1);c.push(s[d],p)}}}(a,c,y)}return a.mergedAttrs=Ln(a.mergedAttrs,a.attrs),d}function YC(i,s,a,c,d,p){const y=p.hostBindings;if(y){let w=i.hostBindingOpCodes;null===w&&(w=i.hostBindingOpCodes=[]);const b=~s.index;(function QC(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(w)!=b&&w.push(b),w.push(c,d,y)}}function ry(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function sy(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function oy(i,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=i;ui(s)&&(a[""]=i)}}function Cw(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function eI(i,s,a,c,d){i.data[c]=d;const p=d.factory||(d.factory=li(d.type)),y=new Ro(p,ui(d),null);i.blueprint[c]=y,a[c]=y,YC(i,s,0,c,Lu(i,a,d.hostVars,mt),d)}function Iw(i,s,a){const c=$n(s,i),d=Dg(a),p=i[10],y=Sd(i,ql(i,d,null,a.onPush?64:16,c,s,p,p.createRenderer(c,a),null,null));i[s.index]=y}function zo(i,s,a,c,d,p){const y=$n(i,s);!function Mg(i,s,a,c,d,p,y){if(null==p)Kt(i)?i.removeAttribute(s,d,a):s.removeAttribute(d);else{const w=null==y?z(p):y(p,c||"",d);Kt(i)?i.setAttribute(s,d,w,a):a?s.setAttributeNS(a,d,w):s.setAttribute(d,w)}}(s[11],y,p,i.value,a,c,d)}function tI(i,s,a,c,d,p){const y=p[s];if(null!==y){const w=c.setInput;for(let b=0;b<y.length;){const D=y[b++],S=y[b++],P=y[b++];null!==w?c.setInput(a,P,D,S):a[S]=P}}}function Tw(i,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],s[c+1])),c+=2}else c+=2;else c+=4}return a}function Aw(i,s,a,c){return new Array(i,!0,!1,s,null,0,c,a,null,null)}function Og(i,s){const a=qn(s,i);if(Fi(a)){const c=a[1];80&a[2]?La(c,a,c.template,a[8]):a[5]>0&&ay(a)}}function ay(i){for(let c=jl(i);null!==c;c=Hl(c))for(let d=10;d<c.length;d++){const p=c[d];if(1024&p[2]){const y=p[1];La(y,p,y.template,p[8])}else p[5]>0&&ay(p)}const a=i[1].components;if(null!==a)for(let c=0;c<a.length;c++){const d=qn(a[c],i);Fi(d)&&d[5]>0&&ay(d)}}function uy(i,s){const a=qn(s,i),c=a[1];(function rI(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(c,a),Fa(c,a,a[8])}function Sd(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Ng(i){for(;i;){i[2]|=64;const s=gn(i);if(Th(i)&&!s)return i;i=s}return null}function ly(i,s,a){const c=s[10];c.begin&&c.begin();try{La(i,s,i.template,a)}catch(d){throw dy(s,d),d}finally{c.end&&c.end()}}function cy(i){!function yf(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],c=Xh(a),d=c[1];Dd(d,c,d.template,a)}}(i[8])}function Rg(i,s,a){dl(0),s(i,a)}const xw=(()=>Promise.resolve(null))();function Mw(i){return i[7]||(i[7]=[])}function oI(i){return i.cleanup||(i.cleanup=[])}function dy(i,s){const a=i[9],c=a?a.get(tr,null):null;c&&c.handleError(s)}function hy(i,s,a,c,d){for(let p=0;p<a.length;){const y=a[p++],w=a[p++],b=s[y],D=i.data[y];null!==D.setInput?D.setInput(b,d,c,w):b[w]=d}}function Va(i,s,a){const c=ro(s,i);!function af(i,s,a){Kt(i)?i.setValue(s,a):s.textContent=a}(i[11],c,a)}function vf(i,s,a){let c=a?i.styles:null,d=a?i.classes:null,p=0;if(null!==s)for(let y=0;y<s.length;y++){const w=s[y];"number"==typeof w?p=w:1==p?d=se(d,w):2==p&&(c=se(c,w+": "+s[++y]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}const fy=new hn("INJECTOR",-1);class Fg{get(s,a=gs){if(a===gs){const c=new Error(`NullInjectorError: No provider for ${fe(s)}!`);throw c.name="NullInjectorError",c}return a}}const py=new hn("Set Injector scope."),wf={},Lg={};let Vg;function Ow(){return void 0===Vg&&(Vg=new Fg),Vg}function gy(i,s=null,a=null,c){const d=Nw(i,s,a,c);return d._resolveInjectorDefTypes(),d}function Nw(i,s=null,a=null,c){return new kw(i,a,s||Ow(),c)}class kw{constructor(s,a,c,d=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];a&&Wr(a,w=>this.processProvider(w,s,a)),Wr([s],w=>this.processInjectorType(w,[],p)),this.records.set(fy,Ef(void 0,this));const y=this.records.get(py);this.scope=null!=y?y.value:null,this.source=d||("object"==typeof s?null:fe(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=gs,c=ut.Default){this.assertNotDestroyed();const d=Y(this),p=_n(void 0);try{if(!(c&ut.SkipSelf)){let w=this.records.get(s);if(void 0===w){const b=function fA(i){return"function"==typeof i||"object"==typeof i&&i instanceof hn}(s)&&At(s);w=b&&this.injectableDefInScope(b)?Ef(my(s),wf):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(c&ut.Self?Ow():this.parent).get(s,a=c&ut.Optional&&a===gs?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[bu]=y[bu]||[]).unshift(fe(s)),d)throw y;return function on(i,s,a,c){const d=i[bu];throw s[x]&&d.unshift(s[x]),i.message=function ms(i,s,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=fe(s);if(Array.isArray(s))d=s.map(fe).join(" -> ");else if("object"==typeof s){let p=[];for(let y in s)if(s.hasOwnProperty(y)){let w=s[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):fe(w)))}d=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace(C,"\n  ")}`}("\n"+i.message,d,a,c),i.ngTokenPath=d,i[bu]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{_n(p),Y(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((c,d)=>s.push(fe(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processInjectorType(s,a,c){if(!(s=J(s)))return!1;let d=Er(s);const p=null==d&&s.ngModule||void 0,y=void 0===p?s:p,w=-1!==c.indexOf(y);if(void 0!==p&&(d=Er(p)),null==d)return!1;if(null!=d.imports&&!w){let S;c.push(y);try{Wr(d.imports,P=>{this.processInjectorType(P,a,c)&&(void 0===S&&(S=[]),S.push(P))})}finally{}if(void 0!==S)for(let P=0;P<S.length;P++){const{ngModule:B,providers:K}=S[P];Wr(K,_e=>this.processProvider(_e,B,K||L))}}this.injectorDefTypes.add(y);const b=li(y)||(()=>new y);this.records.set(y,Ef(b,wf));const D=d.providers;if(null!=D&&!w){const S=s;Wr(D,P=>this.processProvider(P,S,D))}return void 0!==p&&void 0!==s.providers}processProvider(s,a,c){let d=Gl(s=J(s))?s:J(s&&s.provide);const p=function lI(i,s,a){return cI(i)?Ef(void 0,i.useValue):Ef(Ug(i),wf)}(s);if(Gl(s)||!0!==s.multi)this.records.get(d);else{let y=this.records.get(d);y||(y=Ef(void 0,wf,!0),y.factory=()=>Bt(y.multi),this.records.set(d,y)),d=s,y.multi.push(s)}this.records.set(d,p)}hydrate(s,a){return a.value===wf&&(a.value=Lg,a.value=a.factory()),"object"==typeof a.value&&a.value&&function hI(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=J(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function my(i){const s=At(i),a=null!==s?s.factory:li(i);if(null!==a)return a;if(i instanceof hn)throw new xe(204,!1);if(i instanceof Function)return function Rw(i){const s=i.length;if(s>0)throw ji(s,"?"),new xe(204,!1);const a=function Qn(i){const s=i&&(i[Ri]||i[si]);if(s){const a=function As(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new xe(204,!1)}function Ug(i,s,a){let c;if(Gl(i)){const d=J(i);return li(d)||my(d)}if(cI(i))c=()=>J(i.useValue);else if(function Pw(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...Bt(i.deps||[]));else if(function hA(i){return!(!i||!i.useExisting)}(i))c=()=>Be(J(i.useExisting));else{const d=J(i&&(i.useClass||i.provide));if(!function dI(i){return!!i.deps}(i))return li(d)||my(d);c=()=>new d(...Bt(i.deps))}return c}function Ef(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function cI(i){return null!==i&&"object"==typeof i&&F in i}function Gl(i){return"function"==typeof i}let Mi=(()=>{class i{static create(a,c){var d;if(Array.isArray(a))return gy({name:""},c,a,"");{const p=null!==(d=a.name)&&void 0!==d?d:"";return gy({name:p},a.parent,a.providers,p)}}}return i.THROW_IF_NOT_FOUND=gs,i.NULL=new Fg,i.\u0275prov=Ht({token:i,providedIn:"any",factory:()=>Be(fy)}),i.__NG_ELEMENT_ID__=-1,i})();function Qr(i,s){ds(Xh(i)[1],cn())}function _y(i){let s=function jw(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;s;){let d;if(ui(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new xe(903,"");d=s.\u0275dir}if(d){if(a){c.push(d);const y=i;y.inputs=Zg(i.inputs),y.declaredInputs=Zg(i.declaredInputs),y.outputs=Zg(i.outputs);const w=d.hostBindings;w&&yy(i,w);const b=d.viewQuery,D=d.contentQueries;if(b&&gI(i,b),D&&Zw(i,D),oe(i.inputs,d.inputs),oe(i.declaredInputs,d.declaredInputs),oe(i.outputs,d.outputs),ui(d)&&d.data.animation){const S=i.data;S.animation=(S.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(i),w===_y&&(a=!1)}}s=Object.getPrototypeOf(s)}!function Hw(i){let s=0,a=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=s+=d.hostVars,d.hostAttrs=Ln(d.hostAttrs,a=Ln(a,d.hostAttrs))}}(c)}function Zg(i){return i===oi?{}:i===L?[]:i}function gI(i,s){const a=i.viewQuery;i.viewQuery=a?(c,d)=>{s(c,d),a(c,d)}:s}function Zw(i,s){const a=i.contentQueries;i.contentQueries=a?(c,d,p)=>{s(c,d,p),a(c,d,p)}:s}function yy(i,s){const a=i.hostBindings;i.hostBindings=a?(c,d)=>{s(c,d),a(c,d)}:s}let Od=null;function nr(){if(!Od){const i=Nt.Symbol;if(i&&i.iterator)Od=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const c=s[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Od=c)}}}return Od}function Nd(i){return!!qg(i)&&(Array.isArray(i)||!(i instanceof Map)&&nr()in i)}function qg(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function vo(i,s,a){return i[s]=a}function pi(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Ql(i,s,a,c){const d=pi(i,s,a);return pi(i,s+1,c)||d}function Ba(i,s,a,c,d){const p=Ql(i,s,a,c);return pi(i,s+2,d)||p}function If(i,s,a,c){const d=be();return pi(d,Li(),s)&&(Dt(),zo(dn(),d,i,s,a,c)),If}function kd(i,s,a,c){return pi(i,Li(),a)?s+z(a)+c:mt}function Tf(i,s,a,c,d,p,y,w){const b=be(),D=Dt(),S=i+20,P=D.firstCreatePass?function mI(i,s,a,c,d,p,y,w,b){const D=s.consts,S=Pa(s,i,4,y||null,Gr(D,w));Ew(s,a,S,Gr(D,b)),ds(s,S);const P=S.tViews=_f(2,S,c,d,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,D);return null!==s.queries&&(s.queries.template(s,S),P.queries=s.queries.embeddedTView(S)),S}(S,D,b,s,a,c,d,p,y):D.data[S];Tr(P,!1);const B=b[11].createComment("");bd(D,b,B,P),Mr(B,b),Sd(b,b[S]=Aw(B,b,B,P)),Ns(P)&&mf(D,b,P),null!=y&&Tg(b,P,w)}function Wg(i){return us(function Zc(){return at.lFrame.contextLView}(),20+i)}function xf(i,s=ut.Default){const a=be();return null===a?Be(i,s):Da(cn(),a,J(i),s)}function aE(){throw new Error("invalid")}function Ha(i,s,a){const c=be();return pi(c,Li(),s)&&fi(Dt(),dn(),c,i,s,c[11],a,!1),Ha}function nm(i,s,a,c,d){const y=d?"class":"style";hy(i,a,s.inputs[y],y,c)}function im(i,s,a,c){const d=be(),p=Dt(),y=20+i,w=d[11],b=d[y]=Or(w,s,function zc(){return at.lFrame.currentNamespace}()),D=p.firstCreatePass?function rm(i,s,a,c,d,p,y){const w=s.consts,D=Pa(s,i,2,d,Gr(w,p));return Ew(s,a,D,Gr(w,y)),null!==D.attrs&&vf(D,D.attrs,!1),null!==D.mergedAttrs&&vf(D,D.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,D),D}(y,p,d,0,s,a,c):p.data[y];Tr(D,!0);const S=D.mergedAttrs;null!==S&&We(w,b,S);const P=D.classes;null!==P&&lf(w,b,P);const B=D.styles;null!==B&&Y0(w,b,B),64!=(64&D.flags)&&bd(p,d,b,D),0===function ha(){return at.lFrame.elementDepthCount}()&&Mr(b,d),function jc(){at.lFrame.elementDepthCount++}(),Ns(D)&&(mf(p,d,D),_w(p,D,d)),null!==c&&Tg(d,D)}function tc(){let i=cn();al()?ul():(i=i.parent,Tr(i,!1));const s=i;!function fa(){at.lFrame.elementDepthCount--}();const a=Dt();a.firstCreatePass&&(ds(a,i),Oc(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Nh(i){return 0!=(16&i.flags)}(s)&&nm(a,s,be(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Qp(i){return 0!=(32&i.flags)}(s)&&nm(a,s,be(),s.stylesWithoutHost,!1)}function Py(i,s,a,c){im(i,s,a,c),tc()}function nc(i,s,a){const c=be(),d=Dt(),p=i+20,y=d.firstCreatePass?function uE(i,s,a,c,d){const p=s.consts,y=Gr(p,c),w=Pa(s,i,8,"ng-container",y);return null!==y&&vf(w,y,!0),Ew(s,a,w,Gr(p,d)),null!==s.queries&&s.queries.elementStart(s,w),w}(p,d,c,s,a):d.data[p];Tr(y,!0);const w=c[p]=c[11].createComment("");bd(d,c,w,y),Mr(w,c),Ns(y)&&(mf(d,c,y),_w(d,y,c)),null!=a&&Tg(c,y)}function Vd(){let i=cn();const s=Dt();al()?ul():(i=i.parent,Tr(i,!1)),s.firstCreatePass&&(ds(s,i),Oc(i)&&s.queries.elementEnd(i))}function Fy(i,s,a){nc(i,s,a),Vd()}function sm(){return be()}function om(i){return!!i&&"function"==typeof i.then}function Ly(i){return!!i&&"function"==typeof i.subscribe}const Ud=Ly;function Mf(i,s,a,c){const d=be(),p=Dt(),y=cn();return function Of(i,s,a,c,d,p,y,w){const b=Ns(c),S=i.firstCreatePass&&oI(i),P=s[8],B=Mw(s);let K=!0;if(3&c.type||w){const Pe=$n(c,s),Ge=w?w(Pe):Pe,we=B.length,tt=w?Ot=>w(qt(Ot[c.index])):c.index;if(Kt(a)){let Ot=null;if(!w&&b&&(Ot=function Vy(i,s,a,c){const d=i.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const y=d[p];if(y===a&&d[p+1]===c){const w=s[7],b=d[p+2];return w.length>b?w[b]:null}"string"==typeof y&&(p+=2)}return null}(i,s,d,c.index)),null!==Ot)(Ot.__ngLastListenerFn__||Ot).__ngNextListenerFn__=p,Ot.__ngLastListenerFn__=p,K=!1;else{p=um(c,s,P,p,!1);const Ft=a.listen(Ge,d,p);B.push(p,Ft),S&&S.push(d,tt,we,we+1)}}else p=um(c,s,P,p,!0),Ge.addEventListener(d,p,y),B.push(p),S&&S.push(d,tt,we,y)}else p=um(c,s,P,p,!1);const _e=c.outputs;let Ne;if(K&&null!==_e&&(Ne=_e[d])){const Pe=Ne.length;if(Pe)for(let Ge=0;Ge<Pe;Ge+=2){const Cs=s[Ne[Ge]][Ne[Ge+1]].subscribe(p),Tc=B.length;B.push(p,Cs),S&&S.push(d,c.index,Tc,-(Tc+1))}}}(p,d,d[11],y,i,s,!!a,c),Mf}function Bd(i,s,a,c){try{return!1!==a(c)}catch(d){return dy(i,d),!1}}function um(i,s,a,c,d){return function p(y){if(y===Function)return c;const w=2&i.flags?qn(i.index,s):s;0==(32&s[2])&&Ng(w);let b=Bd(s,0,c,y),D=p.__ngNextListenerFn__;for(;D;)b=Bd(s,0,D,y)&&b,D=D.__ngNextListenerFn__;return d&&!1===b&&(y.preventDefault(),y.returnValue=!1),b}}function lE(i=1){return function Vi(i){return(at.lFrame.contextLView=function xh(i,s){for(;i>0;)s=s[15],i--;return s}(i,at.lFrame.contextLView))[8]}(i)}function Uy(i,s){let a=null;const c=function ew(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(i);for(let d=0;d<s.length;d++){const p=s[d];if("*"!==p){if(null===c?Pu(i,p,!0):rw(c,p))return d}else a=d}return a}function Nf(i){const s=be()[16][6];if(!s.projection){const c=s.projection=ji(i?i.length:1,null),d=c.slice();let p=s.child;for(;null!==p;){const y=i?Uy(p,i):0;null!==y&&(d[y]?d[y].projectionNext=p:c[y]=p,d[y]=p),p=p.next}}}function lm(i,s=0,a){const c=be(),d=Dt(),p=Pa(d,20+i,16,null,a||null);null===p.projection&&(p.projection=s),ul(),64!=(64&p.flags)&&function VC(i,s,a){L_(s[11],0,s,a,FC(i,a,s),$0(a.parent||s[6],a,s))}(d,c,p)}function cm(i,s,a){return dm(i,"",s,"",a),cm}function dm(i,s,a,c,d){const p=be(),y=kd(p,s,a,c);return y!==mt&&fi(Dt(),dn(),p,i,y,p[11],d,!1),dm}function fm(i,s,a,c,d){const p=i[a+1],y=null===s;let w=c?_o(p):qo(p),b=!1;for(;0!==w&&(!1===b||y);){const S=i[w+1];rc(i[w],s)&&(b=!0,i[w+1]=c?yg(S):hf(S)),w=c?_o(S):qo(S)}b&&(i[a+1]=c?hf(p):yg(p))}function rc(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Sa(i,s)>=0}function mm(i,s,a){return Pr(i,s,a,!1),mm}function $y(i,s){return Pr(i,s,null,!0),$y}function Pr(i,s,a,c){const d=be(),p=Dt(),y=ls(2);p.firstUpdatePass&&function Gy(i,s,a,c){const d=i.data;if(null===d[a+1]){const p=d[Gn()],y=function qy(i,s){return s>=i.expandoStartIndex}(i,a);(function gE(i,s){return 0!=(i.flags&(s?16:32))})(p,c)&&null===s&&!y&&(s=!1),s=function qd(i,s,a,c){const d=function cl(i){const s=at.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let p=c?s.residualClasses:s.residualStyles;if(null===d)0===(c?s.classBindings:s.styleBindings)&&(a=Gd(a=zy(null,i,s,a,c),s.attrs,c),p=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==d)if(a=zy(d,i,s,a,c),null===p){let b=function II(i,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==qo(c))return i[_o(c)]}(i,s,c);void 0!==b&&Array.isArray(b)&&(b=zy(null,i,s,b[1],c),b=Gd(b,s.attrs,c),function TI(i,s,a,c){i[_o(a?s.classBindings:s.styleBindings)]=c}(i,s,c,b))}else p=function fE(i,s,a){let c;const d=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<d;p++)c=Gd(c,i[p].hostAttrs,a);return Gd(c,s.attrs,a)}(i,s,c)}return void 0!==p&&(c?s.residualClasses=p:s.residualStyles=p),a}(d,p,s,c),function Hy(i,s,a,c,d,p){let y=p?s.classBindings:s.styleBindings,w=_o(y),b=qo(y);i[c]=a;let S,D=!1;if(Array.isArray(a)){const P=a;S=P[1],(null===S||Sa(P,S)>0)&&(D=!0)}else S=a;if(d)if(0!==b){const B=_o(i[w+1]);i[c+1]=df(B,w),0!==B&&(i[B+1]=ff(i[B+1],c)),i[w+1]=function aw(i,s){return 131071&i|s<<17}(i[w+1],c)}else i[c+1]=df(w,0),0!==w&&(i[w+1]=ff(i[w+1],c)),w=c;else i[c+1]=df(b,0),0===w?w=c:i[b+1]=ff(i[b+1],c),b=c;D&&(i[c+1]=hf(i[c+1])),fm(i,S,c,!0),fm(i,S,c,!1),function Zd(i,s,a,c,d){const p=d?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof s&&Sa(p,s)>=0&&(a[c+1]=yg(a[c+1]))}(s,S,i,c,p),y=df(w,b),p?s.classBindings=y:s.styleBindings=y}(d,p,s,a,y,c)}}(p,i,y,c),s!==mt&&pi(d,y,s)&&function Ky(i,s,a,c,d,p,y,w){if(!(3&s.type))return;const b=i.data,D=b[w+1];zd(function Z_(i){return 1==(1&i)}(D)?Yy(b,s,a,d,qo(D),y):void 0)||(zd(p)||function H_(i){return 2==(2&i)}(D)&&(p=Yy(b,null,a,d,w,y)),function $s(i,s,a,c,d){const p=Kt(i);if(s)d?p?i.addClass(a,c):a.classList.add(c):p?i.removeClass(a,c):a.classList.remove(c);else{let y=-1===c.indexOf("-")?void 0:ue.DashCase;if(null==d)p?i.removeStyle(a,c,y):a.style.removeProperty(c);else{const w="string"==typeof d&&d.endsWith("!important");w&&(d=d.slice(0,-10),y|=ue.Important),p?i.setStyle(a,c,d,y):a.style.setProperty(c,d,w?"important":"")}}}(c,y,ro(Gn(),a),d,p))}(p,p.data[Gn()],d,d[11],i,d[y+1]=function DI(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=fe(xi(i)))),i}(s,a),c,y)}function zy(i,s,a,c,d){let p=null;const y=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<y&&(p=s[w],c=Gd(c,p.hostAttrs,d),p!==i);)w++;return null!==i&&(a.directiveStylingLast=w),c}function Gd(i,s,a){const c=a?1:2;let d=-1;if(null!==s)for(let p=0;p<s.length;p++){const y=s[p];"number"==typeof y?d=y:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Ar(i,y,!!a||s[++p]))}return void 0===i?null:i}function Yy(i,s,a,c,d,p){const y=null===s;let w;for(;d>0;){const b=i[d],D=Array.isArray(b),S=D?b[1]:b,P=null===S;let B=a[d+1];B===mt&&(B=P?L:void 0);let K=P?vu(B,c):S===c?B:void 0;if(D&&!zd(K)&&(K=vu(b,c)),zd(K)&&(w=K,y))return w;const _e=i[d+1];d=y?_o(_e):qo(_e)}if(null!==s){let b=p?s.residualClasses:s.residualStyles;null!=b&&(w=vu(b,c))}return w}function zd(i){return void 0!==i}function mE(i,s=""){const a=be(),c=Dt(),d=i+20,p=c.firstCreatePass?Pa(c,d,1,s,null):c.data[d],y=a[d]=function Zl(i,s){return Kt(i)?i.createText(s):i.createTextNode(s)}(a[11],s);bd(c,a,y,p),Tr(p,!1)}function Wd(i){return Hu("",i,""),Wd}function Hu(i,s,a){const c=be(),d=kd(c,i,s,a);return d!==mt&&Va(c,Gn(),d),Hu}function Kd(i,s,a,c,d){const p=be(),y=function Xl(i,s,a,c,d,p){const w=Ql(i,Ci(),a,d);return ls(2),w?s+z(a)+c+z(d)+p:mt}(p,i,s,a,c,d);return y!==mt&&Va(p,Gn(),y),Kd}function Lf(i,s,a,c,d,p,y){const w=be(),b=function ja(i,s,a,c,d,p,y,w){const D=Ba(i,Ci(),a,d,y);return ls(3),D?s+z(a)+c+z(d)+p+z(y)+w:mt}(w,i,s,a,c,d,p,y);return b!==mt&&Va(w,Gn(),b),Lf}const Zu=void 0;var sc=["en",[["a","p"],["AM","PM"],Zu],[["AM","PM"],Zu,Zu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zu,"{1} 'at' {0}",Zu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function DE(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let oc={};function Cm(i){const s=function Xd(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Ki(s);if(a)return a;const c=s.split("-")[0];if(a=Ki(c),a)return a;if("en"===c)return sc;throw new Error(`Missing locale data for the locale "${i}".`)}function jf(i){return Cm(i)[dt.PluralCase]}function Ki(i){return i in oc||(oc[i]=Nt.ng&&Nt.ng.common&&Nt.ng.common.locales&&Nt.ng.common.locales[i]),oc[i]}var dt=(()=>((dt=dt||{})[dt.LocaleId=0]="LocaleId",dt[dt.DayPeriodsFormat=1]="DayPeriodsFormat",dt[dt.DayPeriodsStandalone=2]="DayPeriodsStandalone",dt[dt.DaysFormat=3]="DaysFormat",dt[dt.DaysStandalone=4]="DaysStandalone",dt[dt.MonthsFormat=5]="MonthsFormat",dt[dt.MonthsStandalone=6]="MonthsStandalone",dt[dt.Eras=7]="Eras",dt[dt.FirstDayOfWeek=8]="FirstDayOfWeek",dt[dt.WeekendRange=9]="WeekendRange",dt[dt.DateFormat=10]="DateFormat",dt[dt.TimeFormat=11]="TimeFormat",dt[dt.DateTimeFormat=12]="DateTimeFormat",dt[dt.NumberSymbols=13]="NumberSymbols",dt[dt.NumberFormats=14]="NumberFormats",dt[dt.CurrencyCode=15]="CurrencyCode",dt[dt.CurrencySymbol=16]="CurrencySymbol",dt[dt.CurrencyName=17]="CurrencyName",dt[dt.Currencies=18]="Currencies",dt[dt.Directionality=19]="Directionality",dt[dt.PluralCase=20]="PluralCase",dt[dt.ExtraData=21]="ExtraData",dt))();const eh="en-US";let AE=eh;function fv(i,s,a,c,d){if(i=J(i),Array.isArray(i))for(let p=0;p<i.length;p++)fv(i[p],s,a,c,d);else{const p=Dt(),y=be();let w=Gl(i)?i:J(i.provide),b=Ug(i);const D=cn(),S=1048575&D.providerIndexes,P=D.directiveStart,B=D.providerIndexes>>20;if(Gl(i)||!i.multi){const K=new Ro(b,d,xf),_e=pv(w,s,d?S:S+B,P);-1===_e?(pr(Jt(D,y),p,w),Mm(p,i,s.length),s.push(w),D.directiveStart++,D.directiveEnd++,d&&(D.providerIndexes+=1048576),a.push(K),y.push(K)):(a[_e]=K,y[_e]=K)}else{const K=pv(w,s,S+B,P),_e=pv(w,s,S,S+B),Ne=K>=0&&a[K],Pe=_e>=0&&a[_e];if(d&&!Pe||!d&&!Ne){pr(Jt(D,y),p,w);const Ge=function Om(i,s,a,c,d){const p=new Ro(i,a,xf);return p.multi=[],p.index=s,p.componentProviders=0,jE(p,d,c&&!a),p}(d?QI:YI,a.length,d,c,b);!d&&Pe&&(a[_e].providerFactory=Ge),Mm(p,i,s.length,0),s.push(w),D.directiveStart++,D.directiveEnd++,d&&(D.providerIndexes+=1048576),a.push(Ge),y.push(Ge)}else Mm(p,i,K>-1?K:_e,jE(a[d?_e:K],b,!d&&c));!d&&c&&Pe&&a[_e].componentProviders++}}}function Mm(i,s,a,c){const d=Gl(s),p=function Fw(i){return!!i.useClass}(s);if(d||p){const b=(p?J(s.useClass):s).prototype.ngOnDestroy;if(b){const D=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const S=D.indexOf(a);-1===S?D.push(a,[c,b]):D[S+1].push(c,b)}else D.push(a,b)}}}function jE(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function pv(i,s,a,c){for(let d=a;d<c;d++)if(s[d]===i)return d;return-1}function YI(i,s,a,c){return hc(this.multi,[])}function QI(i,s,a,c){const d=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=di(a,a[1],this.providerFactory.index,c);p=w.slice(0,y),hc(d,p);for(let b=y;b<w.length;b++)p.push(w[b])}else p=[],hc(d,p);return p}function hc(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function fc(i,s=[]){return a=>{a.providersResolver=(c,d)=>function KI(i,s,a){const c=Dt();if(c.firstCreatePass){const d=ui(i);fv(a,c.data,c.blueprint,d,!0),fv(s,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,s)}}class gv{}class sh{resolveComponentFactory(s){throw function HE(i){const s=Error(`No component factory found for ${fe(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let qu=(()=>{class i{}return i.NULL=new sh,i})();function Nm(){return Gu(cn(),be())}function Gu(i,s){return new pc($n(i,s))}let pc=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Nm,i})();function mv(i){return i instanceof pc?i.nativeElement:i}class Es{}let ZE=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function $E(){const i=be(),a=qn(cn().index,i);return function ep(i){return i[11]}(bi(a)?a:i)}(),i})(),_v=(()=>{class i{}return i.\u0275prov=Ht({token:i,providedIn:"root",factory:()=>null}),i})();class oh{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const yv=new oh("13.2.1"),vv={};function tp(i,s,a,c,d=!1){for(;null!==a;){const p=s[a.index];if(null!==p&&c.push(qt(p)),ai(p))for(let w=10;w<p.length;w++){const b=p[w],D=b[1].firstChild;null!==D&&tp(b[1],b,D,c)}const y=a.type;if(8&y)tp(i,s,a.child,c);else if(32&y){const w=Qe(a,s);let b;for(;b=w();)c.push(b)}else if(16&y){const w=z0(s,a);if(Array.isArray(w))c.push(...w);else{const b=gn(s[16]);tp(b[1],b,w,c,!0)}}a=d?a.projectionNext:a.next}return c}class ah{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return tp(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(ai(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(fg(s,c),Vo(a,c))}this._attachedToViewContainer=!1}U0(this._lView[1],this._lView)}onDestroy(s){J_(this._lView[1],this._lView,null,s)}markForCheck(){Ng(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ly(this._lView[1],this._lView,this.context)}checkNoChanges(){!function sI(i,s,a){No(!0);try{ly(i,s,a)}finally{No(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new xe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Nu(i,s){Cd(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new xe(902,"");this._appRef=s}}class qE extends ah{constructor(s){super(s),this._view=s}detectChanges(){cy(this._view)}checkNoChanges(){!function kg(i){No(!0);try{cy(i)}finally{No(!1)}}(this._view)}get context(){return null}}class np extends qu{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Rn(s);return new za(a,this.ngModule)}}function GE(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}const zE=new hn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>dg});class za extends gv{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function sw(i){return i.map(iw).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return GE(this.componentDef.inputs)}get outputs(){return GE(this.componentDef.outputs)}create(s,a,c,d){const p=(d=d||this.ngModule)?function uh(i,s){return{get:(a,c,d)=>{const p=i.get(a,vv,d);return p!==vv||c===vv?p:s.get(a,c,d)}}}(s,d.injector):s,y=p.get(Es,la),w=p.get(_v,null),b=y.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",S=c?function Q_(i,s,a){if(Kt(i))return i.selectRootElement(s,a===Tt.ShadowDom);let c="string"==typeof s?i.querySelector(s):s;return c.textContent="",c}(b,c,this.componentDef.encapsulation):Or(y.createRenderer(null,this.componentDef),D,function eT(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(D)),P=this.componentDef.onPush?576:528,B=function Cf(i,s){return{components:[],scheduler:i||dg,clean:xw,playerHandler:s||null,flags:0}}(),K=_f(0,null,null,1,0,null,null,null,null,null),_e=ql(null,K,B,P,null,null,y,b,w,p);let Ne,Pe;so(_e);try{const Ge=function Bw(i,s,a,c,d,p){const y=a[1];a[20]=i;const b=Pa(y,20,2,"#host",null),D=b.mergedAttrs=s.hostAttrs;null!==D&&(vf(b,D,!0),null!==i&&(We(d,i,D),null!==b.classes&&lf(d,i,b.classes),null!==b.styles&&Y0(d,i,b.styles)));const S=c.createRenderer(i,s),P=ql(a,Dg(s),null,s.onPush?64:16,a[20],b,c,S,p||null,null);return y.firstCreatePass&&(pr(Jt(b,a),y,s.type),sy(y,b),Cw(b,a.length,1)),Sd(a,P),a[20]=P}(S,this.componentDef,_e,y,b);if(S)if(c)We(b,S,["ng-version",yv.full]);else{const{attrs:we,classes:tt}=function ow(i){const s=[],a=[];let c=1,d=2;for(;c<i.length;){let p=i[c];if("string"==typeof p)2===d?""!==p&&s.push(p,i[++c]):8===d&&a.push(p);else{if(!Nr(d))break;d=p}c++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);we&&We(b,S,we),tt&&tt.length>0&&lf(b,S,tt.join(" "))}if(Pe=ln(K,20),void 0!==a){const we=Pe.projection=[];for(let tt=0;tt<this.ngContentSelectors.length;tt++){const Ot=a[tt];we.push(null!=Ot?Array.from(Ot):null)}}Ne=function Rr(i,s,a,c,d){const p=a[1],y=function cA(i,s,a){const c=cn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),eI(i,c,s,Lu(i,s,1,null),a));const d=di(s,i,c.directiveStart,c);Mr(d,s);const p=$n(c,s);return p&&Mr(p,s),d}(p,a,s);if(c.components.push(y),i[8]=y,d&&d.forEach(b=>b(y,s)),s.contentQueries){const b=cn();s.contentQueries(1,y,b.directiveStart)}const w=cn();return!p.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(cs(w.index),YC(a[1],w,0,w.directiveStart,w.directiveEnd,s),ry(s,y)),y}(Ge,this.componentDef,_e,B,[Qr]),Fa(K,_e,null)}finally{ko()}return new KE(this.componentType,Ne,Gu(Pe,_e),_e,Pe)}}class KE extends class JI{}{constructor(s,a,c,d,p){super(),this.location=c,this._rootLView=d,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new qE(d),this.componentType=s}get injector(){return new sn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class gc{}class wv{}const Qo=new Map;class km extends gc{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new np(this);const c=Pn(s);this._bootstrapComponents=g(c.bootstrap),this._r3Injector=Nw(s,a,[{provide:gc,useValue:this},{provide:qu,useValue:this.componentFactoryResolver}],fe(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=Mi.THROW_IF_NOT_FOUND,c=ut.Default){return s===Mi||s===gc||s===fy?this:this._r3Injector.get(s,a,c)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class bv extends wv{constructor(s){super(),this.moduleType=s,null!==Pn(s)&&function or(i){const s=new Set;!function a(c){const d=Pn(c,!0),p=d.id;null!==p&&(function YE(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${fe(s)} vs ${fe(s.name)}`)}(p,Qo.get(p),c),Qo.set(p,c));const y=g(d.imports);for(const w of y)s.has(w)||(s.add(w),a(w))}(i)}(s)}create(s){return new km(this.moduleType,s)}}function Cv(i,s,a,c){return function Pt(i,s,a,c,d,p){const y=s+a;return pi(i,y,d)?vo(i,y+1,p?c.call(p,d):c(d)):In(i,y+1)}(be(),Fn(),i,s,a,c)}function dh(i,s,a,c,d){return Dv(be(),Fn(),i,s,a,c,d)}function Wa(i,s,a,c,d,p){return function Av(i,s,a,c,d,p,y,w){const b=s+a;return Ba(i,b,d,p,y)?vo(i,b+3,w?c.call(w,d,p,y):c(d,p,y)):In(i,b+3)}(be(),Fn(),i,s,a,c,d,p)}function Iv(i,s,a,c,d,p,y){return function ar(i,s,a,c,d,p,y,w,b){const D=s+a;return function vs(i,s,a,c,d,p){const y=Ql(i,s,a,c);return Ql(i,s+2,d,p)||y}(i,D,d,p,y,w)?vo(i,D+4,b?c.call(b,d,p,y,w):c(d,p,y,w)):In(i,D+4)}(be(),Fn(),i,s,a,c,d,p,y)}function In(i,s){const a=i[s];return a===mt?void 0:a}function Dv(i,s,a,c,d,p,y){const w=s+a;return Ql(i,w,d,p)?vo(i,w+2,y?c.call(y,d,p):c(d,p)):In(i,w+2)}function Fr(i,s){const a=Dt();let c;const d=i+20;a.firstCreatePass?(c=function jn(i,s){if(s)for(let a=s.length-1;a>=0;a--){const c=s[a];if(i===c.name)return c}}(s,a.pipeRegistry),a.data[d]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,c.onDestroy)):c=a.data[d];const p=c.factory||(c.factory=li(c.type)),y=_n(xf);try{const w=Ii(!1),b=p();return Ii(w),function zg(i,s,a,c){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=c}(a,be(),d,b),b}finally{_n(y)}}function tb(i,s,a,c){const d=i+20,p=be(),y=us(p,d);return function op(i,s){return i[1].data[s].pure}(p,d)?Dv(p,Fn(),s,y.transform,a,c,y):y.transform(a,c)}function xv(i){return s=>{setTimeout(i,void 0,s)}}const Mt=class nb extends u.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){var d,p,y;let w=s,b=a||(()=>null),D=c;if(s&&"object"==typeof s){const P=s;w=null===(d=P.next)||void 0===d?void 0:d.bind(P),b=null===(p=P.error)||void 0===p?void 0:p.bind(P),D=null===(y=P.complete)||void 0===y?void 0:y.bind(P)}this.__isAsync&&(b=xv(b),w&&(w=xv(w)),D&&(D=xv(D)));const S=super.subscribe({next:w,error:b,complete:D});return s instanceof Q.w0&&s.add(S),S}};function rT(){return this._results[nr()]()}class hh{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=nr(),c=hh.prototype;c[a]||(c[a]=rT)}get changes(){return this._changes||(this._changes=new Mt)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const d=gr(s);(this._changesDetected=!function El(i,s,a){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],p=s[c];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Ka=(()=>{class i{}return i.__NG_ELEMENT_ID__=rb,i})();const ap=Ka,Rm=class extends ap{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(s){const a=this._declarationTContainer.tViews,c=ql(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(c[19]=p.createEmbeddedView(a)),Fa(a,c,s),new ah(c)}};function rb(){return up(cn(),be())}function up(i,s){return 4&i.type?new Rm(s,i,Gu(i,s)):null}let lp=(()=>{class i{}return i.__NG_ELEMENT_ID__=iT,i})();function iT(){return ob(cn(),be())}const ib=lp,Mv=class extends ib{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return Gu(this._hostTNode,this._hostLView)}get injector(){return new sn(this._hostTNode,this._hostLView)}get parentInjector(){const s=fu(this._hostTNode,this._hostLView);if(Wc(s)){const a=fs(s,this._hostLView),c=nn(s);return new sn(a[1].data[c+8],a)}return new sn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=sb(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,c){const d=s.createEmbeddedView(a||{});return this.insert(d,c),d}createComponent(s,a,c,d,p){const y=s&&!function ho(i){return"function"==typeof i}(s);let w;if(y)w=a;else{const P=a||{};w=P.index,c=P.injector,d=P.projectableNodes,p=P.ngModuleRef}const b=y?s:new za(Rn(s)),D=c||this.parentInjector;if(!p&&null==b.ngModule&&D){const P=D.get(gc,null);P&&(p=P)}const S=b.create(D,d,void 0,p);return this.insert(S.hostView,w),S}insert(s,a){const c=s._lView,d=c[1];if(function sl(i){return ai(i[3])}(c)){const S=this.indexOf(s);if(-1!==S)this.detach(S);else{const P=c[3],B=new Mv(P,P[6],P[3]);B.detach(B.indexOf(s))}}const p=this._adjustIndex(a),y=this._lContainer;!function Ed(i,s,a,c){const d=10+c,p=a.length;c>0&&(a[d-1][4]=s),c<p-10?(s[4]=a[d],bl(a,10+c,s)):(a.push(s),s[4]=null),s[3]=a;const y=s[17];null!==y&&a!==y&&function PC(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(y,s);const w=s[19];null!==w&&w.insertView(i),s[2]|=128}(d,c,y,p);const w=_g(p,y),b=c[11],D=gg(b,y[7]);return null!==D&&function Ou(i,s,a,c,d,p){c[0]=d,c[6]=s,Cd(i,c,a,1,d,p)}(d,y[6],b,c,D,w),s.attachToViewContainerRef(),bl(Ov(y),p,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=sb(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=fg(this._lContainer,a);c&&(Vo(Ov(this._lContainer),a),U0(c[1],c))}detach(s){const a=this._adjustIndex(s,-1),c=fg(this._lContainer,a);return c&&null!=Vo(Ov(this._lContainer),a)?new ah(c):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function sb(i){return i[8]}function Ov(i){return i[8]||(i[8]=[])}function ob(i,s){let a;const c=s[i.index];if(ai(c))a=c;else{let d;if(8&i.type)d=qt(c);else{const p=s[11];d=p.createComment("");const y=$n(i,s);Ru(p,gg(p,y),d,function LC(i,s){return Kt(i)?i.nextSibling(s):s.nextSibling}(p,y),!1)}s[i.index]=a=Aw(c,s,d,i),Sd(s,a)}return new Mv(a,i,s)}class ur{constructor(s){this.queryList=s,this.matches=null}clone(){return new ur(this.queryList)}setDirty(){this.queryList.setDirty()}}class dp{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let p=0;p<c;p++){const y=a.getByIndex(p);d.push(this.queries[y.indexInDeclarationView].clone())}return new dp(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==fb(s,a).matches&&this.queries[a].setDirty()}}class Nv{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class mc{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(s,d);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new mc(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Ks{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Ks(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const p=c[d];this.matchTNodeWithReadOption(s,a,kv(a,p)),this.matchTNodeWithReadOption(s,a,lo(a,s,p,!1,!1))}else c===Ka?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,lo(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===pc||d===lp||d===Ka&&4&a.type)this.addMatch(a.index,-2);else{const p=lo(a,s,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function kv(i,s){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function hp(i,s,a,c){return-1===a?function ub(i,s){return 11&i.type?Gu(i,s):4&i.type?up(i,s):null}(s,i):-2===a?function lb(i,s,a){return a===pc?Gu(s,i):a===Ka?up(s,i):a===lp?ob(s,i):void 0}(i,s,c):di(i,i[1],a,s)}function Rv(i,s,a,c){const d=s[19].queries[c];if(null===d.matches){const p=i.data,y=a.matches,w=[];for(let b=0;b<y.length;b+=2){const D=y[b];w.push(D<0?null:hp(s,p[D],y[b+1],a.metadata.read))}d.matches=w}return d.matches}function Pm(i,s,a,c){const d=i.queries.getByIndex(a),p=d.matches;if(null!==p){const y=Rv(i,s,d,a);for(let w=0;w<p.length;w+=2){const b=p[w];if(b>0)c.push(y[w/2]);else{const D=p[w+1],S=s[-b];for(let P=10;P<S.length;P++){const B=S[P];B[17]===B[3]&&Pm(B[1],B,D,c)}if(null!==S[9]){const P=S[9];for(let B=0;B<P.length;B++){const K=P[B];Pm(K[1],K,D,c)}}}}}return c}function cb(i){const s=be(),a=Dt(),c=wa();dl(c+1);const d=fb(a,c);if(i.dirty&&Oo(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const p=d.crossesNgTemplate?Pm(a,s,c,[]):Rv(a,s,d,c);i.reset(p,mv),i.notifyOnChanges()}return!0}return!1}function db(i,s,a){const c=Dt();c.firstCreatePass&&(Lv(c,new Nv(i,s,a),-1),2==(2&s)&&(c.staticViewQueries=!0)),Fv(c,be(),s)}function fp(i,s,a,c){const d=Dt();if(d.firstCreatePass){const p=cn();Lv(d,new Nv(s,a,c),p.index),function hb(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}Fv(d,be(),a)}function Pv(){return function sT(i,s){return i[19].queries[s].queryList}(be(),wa())}function Fv(i,s,a){const c=new hh(4==(4&a));J_(i,s,c,c.destroy),null===s[19]&&(s[19]=new dp),s[19].queries.push(new ur(c))}function Lv(i,s,a){null===i.queries&&(i.queries=new mc),i.queries.track(new Ks(s,a))}function fb(i,s){return i.queries.getByIndex(s)}function Vv(i,s){return up(i,s)}const $v=co("Input",i=>({bindingPropertyName:i})),bb=co("Output",i=>({bindingPropertyName:i})),Ib=co("HostListener",(i,s)=>({eventName:i,args:s}));function Qa(...i){}const wc=new hn("Application Initializer");let Ec=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Qa,this.reject=Qa,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(om(p))a.push(p);else if(Ud(p)){const y=new Promise((w,b)=>{p.subscribe({complete:w,error:b})});a.push(y)}}Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Be(wc,8))},i.\u0275prov=Ht({token:i,factory:i.\u0275fac}),i})();const Um=new hn("AppId"),Tb={provide:Um,useFactory:function fT(){return`${Bm()}${Bm()}${Bm()}`},deps:[]};function Bm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Db=new hn("Platform Initializer"),jm=new hn("Platform ID"),Ab=new hn("appBootstrapListener");let qv=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Ht({token:i,factory:i.\u0275fac}),i})();const ii=new hn("LocaleId"),Gv=new hn("DefaultCurrencyCode");class Ku{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let Yu=(()=>{class i{compileModuleSync(a){return new bv(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),p=g(Pn(a).declarations).reduce((y,w)=>{const b=Rn(w);return b&&y.push(new za(b)),y},[]);return new Ku(c,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Ht({token:i,factory:i.\u0275fac}),i})();const mT=(()=>Promise.resolve(0))();function Qu(i){"undefined"==typeof Zone?mT.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class lr{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mt(!1),this.onMicrotaskEmpty=new Mt(!1),this.onStable=new Mt(!1),this.onError=new Mt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function Mb(){let i=Nt.requestAnimationFrame,s=Nt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function _T(i){const s=()=>{!function Ob(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Nt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Wv(i),i.isCheckStableRunning=!0,yp(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Wv(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,p,y,w)=>{try{return Nb(i),a.invokeTask(d,p,y,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&s(),kb(i)}},onInvoke:(a,c,d,p,y,w,b)=>{try{return Nb(i),a.invoke(d,p,y,w,b)}finally{i.shouldCoalesceRunChangeDetection&&s(),kb(i)}},onHasTask:(a,c,d,p)=>{a.hasTask(d,p),c===d&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,Wv(i),yp(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,d,p)=>(a.handleError(d,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!lr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(lr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,d){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+d,s,bc,Qa,Qa);try{return p.runTask(y,a,c)}finally{p.cancelTask(y)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const bc={};function yp(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Wv(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Nb(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function kb(i){i._nesting--,yp(i)}class Hm{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mt,this.onMicrotaskEmpty=new Mt,this.onStable=new Mt,this.onError=new Mt}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,d){return s.apply(a,c)}}let Cc=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{lr.assertNotInAngularZone(),Qu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Qu(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,c,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(Be(lr))},i.\u0275prov=Ht({token:i,factory:i.\u0275fac}),i})(),Kv=(()=>{class i{constructor(){this._applications=new Map,Zm.addToWindow(this)}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return Zm.findTestabilityInTree(this,a,c)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Ht({token:i,factory:i.\u0275fac}),i})();class yT{addToWindow(s){}findTestabilityInTree(s,a,c){return null}}function vT(i){Zm=i}let Lr,Zm=new yT;const qm=new hn("AllowMultipleToken");class Yv{constructor(s,a){this.name=s,this.token=a}}function wp(i,s,a=[]){const c=`Platform: ${s}`,d=new hn(c);return(p=[])=>{let y=Jv();if(!y||y.injector.get(qm,!1))if(i)i(a.concat(p).concat({provide:d,useValue:!0}));else{const w=a.concat(p).concat({provide:d,useValue:!0},{provide:py,useValue:"platform"});!function vp(i){if(Lr&&!Lr.destroyed&&!Lr.injector.get(qm,!1))throw new xe(400,"");Lr=i.get(Gm);const s=i.get(Db,null);s&&s.forEach(a=>a())}(Mi.create({providers:w,name:c}))}return function Qv(i){const s=Jv();if(!s)throw new xe(401,"");return s}()}}function Jv(){return Lr&&!Lr.destroyed?Lr:null}let Gm=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const w=function Pb(i,s){let a;return a="noop"===i?new Hm:("zone.js"===i?void 0:i)||new lr({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),b=[{provide:lr,useValue:w}];return w.run(()=>{const D=Mi.create({providers:b,parent:this.injector,name:a.moduleType.name}),S=a.create(D),P=S.injector.get(tr,null);if(!P)throw new xe(402,"");return w.runOutsideAngular(()=>{const B=w.onError.subscribe({next:K=>{P.handleError(K)}});S.onDestroy(()=>{Ep(this._modules,S),B.unsubscribe()})}),function wT(i,s,a){try{const c=a();return om(c)?c.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(P,w,()=>{const B=S.injector.get(Ec);return B.runInitializers(),B.donePromise.then(()=>(function SE(i){nt(i,"Expected localeId to be defined"),"string"==typeof i&&(AE=i.toLowerCase().replace(/_/g,"-"))}(S.injector.get(ii,eh)||eh),this._moduleDoBootstrap(S),S))})})}bootstrapModule(a,c=[]){const d=Xv({},c);return function $m(i,s,a){const c=new bv(a);return Promise.resolve(c)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const c=a.injector.get(mh);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new xe(403,"");a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Be(Mi))},i.\u0275prov=Ht({token:i,factory:i.\u0275fac}),i})();function Xv(i,s){return Array.isArray(s)?s.reduce(Xv,i):Object.assign(Object.assign({},i),s)}let mh=(()=>{class i{constructor(a,c,d,p,y){this._zone=a,this._injector=c,this._exceptionHandler=d,this._componentFactoryResolver=p,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new R.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),b=new R.y(D=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{lr.assertNotInAngularZone(),Qu(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{lr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{S.unsubscribe(),P.unsubscribe()}});this.isStable=(0,ae.T)(w,b.pipe((0,te.B)()))}bootstrap(a,c){if(!this._initStatus.done)throw new xe(405,"");let d;d=a instanceof gv?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const p=function Rb(i){return i.isBoundToModule}(d)?void 0:this._injector.get(gc),w=d.create(Mi.NULL,[],c||d.selector,p),b=w.location.nativeElement,D=w.injector.get(Cc,null),S=D&&w.injector.get(Kv);return D&&S&&S.registerApplication(b,D),w.onDestroy(()=>{this.detachView(w.hostView),Ep(this.components,w),S&&S.unregisterApplication(b)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new xe(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;Ep(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Ab,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(Be(lr),Be(Mi),Be(tr),Be(qu),Be(Ec))},i.\u0275prov=Ht({token:i,factory:i.\u0275fac}),i})();function Ep(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let Vb=!0,e0=!1;function ET(){return e0=!0,Vb}function _h(){if(e0)throw new Error("Cannot enable prod mode after platform setup.");Vb=!1}let Bb=(()=>{class i{}return i.__NG_ELEMENT_ID__=jb,i})();function jb(i){return function bT(i,s,a){if(nu(i)&&!a){const c=qn(i.index,s);return new ah(c,c)}return 47&i.type?new ah(s[16],s):null}(cn(),be(),16==(16&i))}class o0{constructor(){}supports(s){return Nd(s)}create(s){return new AT(s)}}const DT=(i,s)=>s;class AT{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||DT}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,d=0,p=null;for(;a||c;){const y=!c||a&&a.currentIndex<vh(c,d,p)?a:c,w=vh(y,d,p),b=y.currentIndex;if(y===c)d--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)d++;else{p||(p=[]);const D=w-d,S=b-d;if(D!=S){for(let B=0;B<D;B++){const K=B<p.length?p[B]:p[B]=0,_e=K+B;S<=_e&&_e<D&&(p[B]=K+1)}p[y.previousIndex]=S-D}}w!==b&&s(y,w,b)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Nd(s))throw new xe(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,p,y,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)p=s[w],y=this._trackByFn(w,p),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,p,y,w)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,w),c=!0),a=a._next}else d=0,function Gw(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[nr()]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,w=>{y=this._trackByFn(d,w),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,w,y,d)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,y,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,d){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,d)):s=this._addAfter(new ST(a,c),p,d),s}_verifyReinsertion(s,a,c,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?s=this._reinsertAfter(p,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,p=s._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Tp),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Tp),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class ST{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Yb{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class Tp{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new Yb,this.map.set(a,c)),c.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vh(i,s,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+s+d}class Qm{constructor(){}supports(s){return s instanceof Map||qg(s)}create(){return new Qb}}class Qb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||qg(s)))throw new xe(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const p=d._prev,y=d._next;return p&&(p._next=y),y&&(y._prev=p),d._next=null,d._prev=null,d}const c=new xT(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class xT{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Jb(){return new Jm([new o0])}let Jm=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||Jb()),deps:[[i,new xr,new Sr]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new xe(901,"")}}return i.\u0275prov=Ht({token:i,providedIn:"root",factory:Jb}),i})();function Xb(){return new Ju([new Qm])}let Ju=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||Xb()),deps:[[i,new xr,new Sr]]}}find(a){const c=this.factories.find(p=>p.supports(a));if(c)return c;throw new xe(901,"")}}return i.\u0275prov=Ht({token:i,providedIn:"root",factory:Xb}),i})();const a0=[new Qm],u0=new Jm([new o0]),Xm=new Ju(a0),l0=wp(null,"core",[{provide:jm,useValue:"unknown"},{provide:Gm,deps:[Mi]},{provide:Kv,deps:[]},{provide:qv,deps:[]}]),tC=[{provide:mh,useClass:mh,deps:[lr,Mi,tr,qu,Ec]},{provide:zE,deps:[lr],useFactory:function MT(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(a){s.push(a)}}},{provide:Ec,useClass:Ec,deps:[[new Sr,wc]]},{provide:Yu,useClass:Yu,deps:[]},Tb,{provide:Jm,useFactory:function eC(){return u0},deps:[]},{provide:Ju,useFactory:function c0(){return Xm},deps:[]},{provide:ii,useFactory:function d0(i){return i||function Xu(){return"undefined"!=typeof $localize&&$localize.locale||eh}()},deps:[[new Zi(ii),new Sr,new xr]]},{provide:Gv,useValue:"USD"}];let h0=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Be(mh))},i.\u0275mod=br({type:i}),i.\u0275inj=Zt({providers:tC}),i})()},3942:(Xe,Ee,k)=>{"use strict";k.d(Ee,{Z:()=>xe});var u=k(2090),Q=k(4859),R=k(9681),ae=k(1877);class te{constructor(z,ee){this._delegate=z,this.firebase=ee,(0,R._addComponent)(z,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=z.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(z){this._delegate.automaticDataCollectionEnabled=z}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(z=>{this._delegate.checkDestroyed(),z()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(z,ee=R._DEFAULT_ENTRY_NAME){var ge;this._delegate.checkDestroyed();const Ce=this._delegate.container.getProvider(z);return!Ce.isInitialized()&&"EXPLICIT"===(null===(ge=Ce.getComponent())||void 0===ge?void 0:ge.instantiationMode)&&Ce.initialize(),Ce.getImmediate({identifier:ee})}_removeServiceInstance(z,ee=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(z).clearInstance(ee)}_addComponent(z){(0,R._addComponent)(this._delegate,z)}_addOrOverwriteComponent(z){(0,R._addOrOverwriteComponent)(this._delegate,z)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const oe=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function se(){const Le=function fe(Le){const z={},ee={__esModule:!0,initializeApp:function le(Ze,re={}){const W=R.initializeApp(Ze,re);if((0,u.r3)(z,W.name))return z[W.name];const ne=new Le(W,ee);return z[W.name]=ne,ne},app:Ce,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function Ie(Ze){const re=Ze.name,W=re.replace("-compat","");if(R._registerComponent(Ze)&&"PUBLIC"===Ze.type){const ne=(me=Ce())=>{if("function"!=typeof me[W])throw oe.create("invalid-app-argument",{appName:re});return me[W]()};void 0!==Ze.serviceProps&&(0,u.ZB)(ne,Ze.serviceProps),ee[W]=ne,Le.prototype[W]=function(...me){return this._getService.bind(this,re).apply(this,Ze.multipleInstances?me:[])}}return"PUBLIC"===Ze.type?ee[W]:null},removeApp:function ge(Ze){delete z[Ze]},useAsService:function qe(Ze,re){return"serverAuth"===re?null:re},modularAPIs:R}};function Ce(Ze){if(!(0,u.r3)(z,Ze=Ze||R._DEFAULT_ENTRY_NAME))throw oe.create("no-app",{appName:Ze});return z[Ze]}return ee.default=ee,Object.defineProperty(ee,"apps",{get:function Me(){return Object.keys(z).map(Ze=>z[Ze])}}),Ce.App=Le,ee}(te);return Le.INTERNAL=Object.assign(Object.assign({},Le.INTERNAL),{createFirebaseNamespace:se,extendNamespace:function z(ee){(0,u.ZB)(Le,ee)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Le}(),U=new ae.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Le=self.firebase.SDK_VERSION;Le&&Le.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const xe=j;!function Te(Le){(0,R.registerVersion)("@firebase/app-compat","0.1.17",Le)}()},9681:(Xe,Ee,k)=>{"use strict";k.r(Ee),k.d(Ee,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Er,_DEFAULT_ENTRY_NAME:()=>Dn,_addComponent:()=>zt,_addOrOverwriteComponent:()=>cr,_apps:()=>st,_clearComponents:()=>At,_components:()=>On,_getProvider:()=>ki,_registerComponent:()=>Ht,_removeServiceInstance:()=>Zt,deleteApp:()=>Pi,getApp:()=>Ss,getApps:()=>si,initializeApp:()=>Ri,onLog:()=>Nn,registerVersion:()=>jr,setLogLevel:()=>_n});var u=k(5861),Q=k(4859),R=k(1877),ae=k(2090);class te{constructor(Ke){this.container=Ke}getPlatformInfoString(){return this.container.getProviders().map(It=>{if(function pe(ct){const Ke=ct.getComponent();return"VERSION"===(null==Ke?void 0:Ke.type)}(It)){const en=It.getImmediate();return`${en.library}/${en.version}`}return null}).filter(It=>It).join(" ")}}const oe="@firebase/app",se=new R.Yd("@firebase/app"),Dn="[DEFAULT]",nt={[oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},st=new Map,On=new Map;function zt(ct,Ke){try{ct.container.addComponent(Ke)}catch(It){se.debug(`Component ${Ke.name} failed to register with FirebaseApp ${ct.name}`,It)}}function cr(ct,Ke){ct.container.addOrOverwriteComponent(Ke)}function Ht(ct){const Ke=ct.name;if(On.has(Ke))return se.debug(`There were multiple attempts to register component ${Ke}.`),!1;On.set(Ke,ct);for(const It of st.values())zt(It,ct);return!0}function ki(ct,Ke){return ct.container.getProvider(Ke)}function Zt(ct,Ke,It=Dn){ki(ct,Ke).clearInstance(It)}function At(){On.clear()}const Qn=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class As{constructor(Ke,It,en){this._isDeleted=!1,this._options=Object.assign({},Ke),this._config=Object.assign({},It),this._name=It.name,this._automaticDataCollectionEnabled=It.automaticDataCollectionEnabled,this._container=en,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ke){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ke}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ke){this._isDeleted=Ke}checkDestroyed(){if(this.isDeleted)throw Qn.create("app-deleted",{appName:this._name})}}const Er="9.6.6";function Ri(ct,Ke={}){"object"!=typeof Ke&&(Ke={name:Ke});const It=Object.assign({name:Dn,automaticDataCollectionEnabled:!1},Ke),en=It.name;if("string"!=typeof en||!en)throw Qn.create("bad-app-name",{appName:String(en)});const dr=st.get(en);if(dr){if((0,ae.vZ)(ct,dr.options)&&(0,ae.vZ)(It,dr.config))return dr;throw Qn.create("duplicate-app",{appName:en})}const Tt=new Q.H0(en);for(const ot of On.values())Tt.addComponent(ot);const Ye=new As(ct,It,Tt);return st.set(en,Ye),Ye}function Ss(ct=Dn){const Ke=st.get(ct);if(!Ke)throw Qn.create("no-app",{appName:ct});return Ke}function si(){return Array.from(st.values())}function Pi(ct){return ut.apply(this,arguments)}function ut(){return(ut=(0,u.Z)(function*(ct){const Ke=ct.name;st.has(Ke)&&(st.delete(Ke),yield Promise.all(ct.container.getProviders().map(It=>It.delete())),ct.isDeleted=!0)})).apply(this,arguments)}function jr(ct,Ke,It){var en;let dr=null!==(en=nt[ct])&&void 0!==en?en:ct;It&&(dr+=`-${It}`);const Tt=dr.match(/\s|\//),Ye=Ke.match(/\s|\//);if(Tt||Ye){const ot=[`Unable to register library "${dr}" with version "${Ke}":`];return Tt&&ot.push(`library name "${dr}" contains illegal characters (whitespace or "/")`),Tt&&Ye&&ot.push("and"),Ye&&ot.push(`version name "${Ke}" contains illegal characters (whitespace or "/")`),void se.warn(ot.join(" "))}Ht(new Q.wA(`${dr}-version`,()=>({library:dr,version:Ke}),"VERSION"))}function Nn(ct,Ke){if(null!==ct&&"function"!=typeof ct)throw Qn.create("invalid-log-argument");(0,R.Am)(ct,Ke)}function _n(ct){(0,R.Ub)(ct)}!function Ys(ct){Ht(new Q.wA("platform-logger",Ke=>new te(Ke),"PRIVATE")),jr(oe,"0.7.16",ct),jr(oe,"0.7.16","esm2017"),jr("fire-js","")}("")},4859:(Xe,Ee,k)=>{"use strict";k.d(Ee,{wA:()=>R,H0:()=>fe});var u=k(5861),Q=k(2090);class R{constructor(j,U,J){this.name=j,this.instanceFactory=U,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const ae="[DEFAULT]";class te{constructor(j,U){this.name=j,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const U=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(U)){const J=new Q.BH;if(this.instancesDeferred.set(U,J),this.isInitialized(U)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:U});Ue&&J.resolve(Ue)}catch(Ue){}}return this.instancesDeferred.get(U).promise}getImmediate(j){var U;const J=this.normalizeInstanceIdentifier(null==j?void 0:j.identifier),Ue=null!==(U=null==j?void 0:j.optional)&&void 0!==U&&U;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Te){if(Ue)return null;throw Te}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function oe(se){return"EAGER"===se.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:ae})}catch(U){}for(const[U,J]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(U);try{const Te=this.getOrInitializeService({instanceIdentifier:Ue});J.resolve(Te)}catch(Te){}}}}clearInstance(j=ae){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,u.Z)(function*(){const U=Array.from(j.instances.values());yield Promise.all([...U.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...U.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=ae){return this.instances.has(j)}getOptions(j=ae){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:U={}}=j,J=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:J,options:U});for(const[Te,xe]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Te)&&xe.resolve(Ue);return Ue}onInit(j,U){var J;const Ue=this.normalizeInstanceIdentifier(U),Te=null!==(J=this.onInitCallbacks.get(Ue))&&void 0!==J?J:new Set;Te.add(j),this.onInitCallbacks.set(Ue,Te);const xe=this.instances.get(Ue);return xe&&j(xe,Ue),()=>{Te.delete(j)}}invokeOnInitCallbacks(j,U){const J=this.onInitCallbacks.get(U);if(J)for(const Ue of J)try{Ue(j,U)}catch(Te){}}getOrInitializeService({instanceIdentifier:j,options:U={}}){let J=this.instances.get(j);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(se=j,se===ae?void 0:se),options:U}),this.instances.set(j,J),this.instancesOptions.set(j,U),this.invokeOnInitCallbacks(J,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,J)}catch(Ue){}var se;return J||null}normalizeInstanceIdentifier(j=ae){return this.component?this.component.multipleInstances?j:ae:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const U=this.getProvider(j.name);if(U.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);U.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const U=new te(j,this);return this.providers.set(j,U),U}getProviders(){return Array.from(this.providers.values())}}},1877:(Xe,Ee,k)=>{"use strict";k.d(Ee,{in:()=>Q,Yd:()=>oe,Ub:()=>fe,Am:()=>se});const u=[];var Q=(()=>{return(j=Q||(Q={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",Q;var j})();const R={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},ae=Q.INFO,te={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},pe=(j,U,...J)=>{if(U<j.logLevel)return;const Ue=(new Date).toISOString(),Te=te[U];if(!Te)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[Te](`[${Ue}]  ${j.name}:`,...J)};class oe{constructor(U){this.name=U,this._logLevel=ae,this._logHandler=pe,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in Q))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?R[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...U),this._logHandler(this,Q.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...U),this._logHandler(this,Q.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...U),this._logHandler(this,Q.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...U),this._logHandler(this,Q.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...U),this._logHandler(this,Q.ERROR,...U)}}function fe(j){u.forEach(U=>{U.setLogLevel(j)})}function se(j,U){for(const J of u){let Ue=null;U&&U.level&&(Ue=R[U.level]),J.userLogHandler=null===j?null:(Te,xe,...Le)=>{const z=Le.map(ee=>{if(null==ee)return null;if("string"==typeof ee)return ee;if("number"==typeof ee||"boolean"==typeof ee)return ee.toString();if(ee instanceof Error)return ee.message;try{return JSON.stringify(ee)}catch(ge){return null}}).filter(ee=>ee).join(" ");xe>=(null!=Ue?Ue:Te.logLevel)&&j({level:Q[xe].toLowerCase(),message:z,args:Le,type:Te.name})}}}},5861:(Xe,Ee,k)=>{"use strict";function u(R,ae,te,pe,oe,fe,se){try{var j=R[fe](se),U=j.value}catch(J){return void te(J)}j.done?ae(U):Promise.resolve(U).then(pe,oe)}function Q(R){return function(){var ae=this,te=arguments;return new Promise(function(pe,oe){var fe=R.apply(ae,te);function se(U){u(fe,pe,oe,se,j,"next",U)}function j(U){u(fe,pe,oe,se,j,"throw",U)}se(void 0)})}}k.d(Ee,{Z:()=>Q})}},Xe=>{Xe(Xe.s=5392)}]);